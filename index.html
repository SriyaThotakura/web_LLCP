<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selective — SPATIAL AUDIO AI Visual selective hearing for complex environments</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=IBM+Plex+Sans:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
      :root {
        --bg: #f0f4f8;
        --bg-secondary: #ffffff;
        --accent: #4169E1;
        --accent-light: #6B8FF6;
        --accent-soft: rgba(65, 105, 225, 0.1);
        --text-main: #1a202c;
        --text-muted: #4a5568;
        --border-color: rgba(65, 105, 225, 0.15);
      }

      .hero {
        min-height: 100vh;
        padding: clamp(2rem, 4vw, 4rem);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: clamp(2rem, 4vw, 4rem);
        position: relative;
        background: linear-gradient(180deg, #f0f4f8 0%, #e8f0fc 100%);
      }

      .hero::before {
        content: "";
        position: absolute;
        inset: 0;
        background: 
          radial-gradient(circle at 20% 30%, rgba(65, 105, 225, 0.05), transparent 50%),
          radial-gradient(circle at 80% 70%, rgba(107, 143, 246, 0.05), transparent 50%);
        pointer-events: none;
        z-index: 0;
      }

      .particle {
        position: absolute;
        width: 4px;
        height: 4px;
        background: var(--accent);
        border-radius: 50%;
        opacity: 0.2;
        pointer-events: none;
      }

      .hero-inner {
        max-width: 1200px;
        width: 100%;
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.1fr);
        gap: clamp(2rem, 4vw, 4rem);
        align-items: center;
        position: relative;
        z-index: 1;
      }

      @media (max-width: 800px) {
        .hero-inner {
          grid-template-columns: 1fr;
        }
      }

      .hero-copy {
        animation: fadeInUp 0.8s ease-out forwards;
        opacity: 0;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .hero-copy-eyebrow {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.22em;
        color: var(--accent);
        margin-bottom: 0.75rem;
        animation: fadeIn 1s ease-out 0.2s forwards;
        opacity: 0;
        font-weight: 600;
      }

      @keyframes fadeIn {
        to { opacity: 1; }
      }

      .hero-title {
        font-size: clamp(2.4rem, 4vw, 3.2rem);
        line-height: 1.05;
        margin-bottom: 1rem;
        animation: fadeInUp 0.8s ease-out 0.3s forwards;
        opacity: 0;
        color: var(--text-main);
      }

      .hero-title span.highlight {
        color: var(--accent);
        position: relative;
        display: inline-block;
      }

      .hero-title span.highlight::after {
        content: '';
        position: absolute;
        bottom: -4px;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, var(--accent), var(--accent-light));
        border-radius: 2px;
        animation: underlineGrow 0.8s ease-out 0.8s forwards;
        transform: scaleX(0);
        transform-origin: left;
      }

      @keyframes underlineGrow {
        to {
          transform: scaleX(1);
        }
      }

      .hero-subtitle {
        font-size: 1rem;
        line-height: 1.6;
        color: var(--text-muted);
        max-width: 32rem;
        margin-bottom: 1.75rem;
        animation: fadeInUp 0.8s ease-out 0.5s forwards;
        opacity: 0;
      }

      .hero-cta-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        align-items: center;
        animation: fadeInUp 0.8s ease-out 0.7s forwards;
        opacity: 0;
      }

      .hero-cta-primary {
        border: none;
        padding: 0.9rem 1.6rem;
        border-radius: 8px;
        background: var(--accent);
        color: white;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        box-shadow: 0 4px 14px rgba(65, 105, 225, 0.3);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        text-decoration: none;
        display: inline-block;
      }

      .hero-cta-primary::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, rgba(255,255,255,0.2), transparent);
        transform: translateX(-100%);
        transition: transform 0.6s ease;
      }

      .hero-cta-primary:hover::before {
        transform: translateX(100%);
      }

      .hero-cta-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(65, 105, 225, 0.4);
        background: var(--accent-light);
      }

      .hero-cta-primary:active {
        transform: translateY(0) scale(0.98);
      }

      .hero-cta-secondary {
        font-size: 0.9rem;
        color: var(--text-muted);
      }

      .hero-cta-secondary span {
        color: var(--accent);
        cursor: pointer;
        transition: color 0.2s ease;
        font-weight: 500;
      }

      .hero-cta-secondary span:hover {
        color: var(--accent-light);
      }

      .hero-sim {
        position: relative;
        width: 270%;
        margin-left: -10%;
        aspect-ratio: 4 / 3;
        max-width: 1200px;
        border-radius: 1.5rem;
        padding: 1.25rem;
        overflow: hidden;
        background: linear-gradient(135deg, #ffffff 0%, #f8faff 100%);
        box-shadow:
          0 0 0 3px var(--accent),
          0 0 30px rgba(65, 105, 225, 0.25),
          0 20px 60px rgba(65, 105, 225, 0.15),
          0 8px 24px rgba(0, 0, 0, 0.08);
        cursor: none;
        animation: fadeInScale 1s ease-out 0.4s forwards, simGlow 3s ease-in-out infinite;
        opacity: 0;
      }

      @keyframes simGlow {
        0%, 100% {
          box-shadow:
            0 0 0 3px var(--accent),
            0 0 30px rgba(65, 105, 225, 0.25),
            0 20px 60px rgba(65, 105, 225, 0.15),
            0 8px 24px rgba(0, 0, 0, 0.08);
        }
        50% {
          box-shadow:
            0 0 0 3px var(--accent-light),
            0 0 50px rgba(65, 105, 225, 0.4),
            0 20px 60px rgba(65, 105, 225, 0.25),
            0 8px 24px rgba(0, 0, 0, 0.08);
        }
      }

      .sim-label {
        position: absolute;
        top: 1rem;
        left: 1.25rem;
        font-size: 0.85rem;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: white;
        background: linear-gradient(135deg, var(--accent), var(--accent-light));
        padding: 0.5rem 1rem;
        border-radius: 8px;
        opacity: 1;
        pointer-events: none;
        z-index: 10;
        font-weight: 700;
        box-shadow: 0 4px 16px rgba(65, 105, 225, 0.3);
      }

      .sim-caption {
        position: absolute;
        left: 1.25rem;
        bottom: 1.1rem;
        font-size: 0.85rem;
        color: var(--accent);
        background: white;
        padding: 0.75rem 1rem;
        border-radius: 8px;
        max-width: 65%;
        pointer-events: none;
        z-index: 10;
        font-weight: 600;
        box-shadow: 0 4px 16px rgba(65, 105, 225, 0.15);
        border: 2px solid var(--accent);
      }

      .listener {
        position: absolute;
        width: 110px;
        height: 110px;
        border-radius: 999px;
        border: 4px solid var(--accent);
        background: linear-gradient(135deg, rgba(65, 105, 225, 0.25), rgba(107, 143, 246, 0.15));
        box-shadow:
          0 0 0 8px rgba(65, 105, 225, 0.1),
          0 0 50px rgba(65, 105, 225, 0.6),
          0 12px 40px rgba(65, 105, 225, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.15em;
        color: var(--accent);
        font-weight: 800;
        transform: translate(-50%, -50%);
        left: 50%;
        top: 50%;
        pointer-events: none;
        z-index: 3;
        transition: left 0.15s ease-out, top 0.15s ease-out;
      }

      .listener::before {
        content: "";
        position: absolute;
        width: 172px;
        height: 172px;
        background-image: url('images/Artboard 2.png');
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        top: -10px;
        left: 0%;
        transform: translateX(-50%);
        animation: listenPulse 1.5s ease-in-out infinite;
      }

      @keyframes listenPulse {
        0%, 100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }

      .sound {
        position: absolute;
        font-size: 0.85rem;
        color: var(--text-main);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 0.75rem;
        background: white;
        border-radius: 999px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        z-index: 2;
        transition: all 0.3s ease;
      }

      .sound-dot {
        display: inline-block;
        width: 8px;
        height: 8px;
        background: var(--accent);
        border-radius: 50%;
        transition: all 0.3s ease;
      }

      .connection-line {
        position: absolute;
        height: 5px;
        background: linear-gradient(to right, var(--accent), rgba(65, 105, 225, 0.3));
        transform-origin: left center;
        z-index: 1;
        pointer-events: none;
        opacity: 0.6;
      }

      .cursor-follower {
        position: fixed;
        width: 24px;
        height: 24px;
        border: 2px solid var(--accent);
        border-radius: 50%;
        pointer-events: none;
        z-index: 1000;
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
        transition: transform 0.2s ease, opacity 0.2s ease;
      }

      .cursor-follower.active {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }

      .nav-dots {
        position: fixed;
        right: 2rem;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 1rem;
        z-index: 100;
      }

      .nav-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: rgba(65, 105, 225, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .nav-dot.active {
        background: var(--accent);
        transform: scale(1.2);
      }

      .nav-dot:hover {
        background: var(--accent-light);
        transform: scale(1.1);
      }

      @keyframes float {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .cover-image-container {
        width: 100%;
        max-height: 100vh;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
      }
      
      .cover-image {
        width: 100%;
        height: auto;
        object-fit: contain;
        max-height: 100vh;
        animation: fadeOut 0.5s ease-out 0.5s forwards;
      }
      
      @keyframes fadeOut {
        to {
          opacity: 0;
          visibility: hidden;
        }
      }

      @media (max-width: 800px) {
        .nav-dots {
          display: none;
        }
      }
    </style>
</head>
<body>
    <!-- Voice Reverberation Effect -->
    <div id="voice-effect" aria-hidden="true">
        <div class="voice-line"></div>
        <div class="voice-line"></div>
        <div class="voice-line"></div>
    </div>
    <!-- Full-width Cover Image -->
    <div class="cover-image-container">
        <img src="images/ezgif.com-animated-gif-maker.gif" alt="Selective Framework Cover" class="cover-image">
    </div>
    
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="container">
            <div class="logo">Selective</div>
            <ul class="nav-links">
            </ul>
            <button class="mobile-menu-btn">☰</button>
        </div>
    </nav>

    <!-- Timeline Navigation -->
    <aside class="timeline-nav">
        <div class="timeline">
            <div class="timeline-progress"></div>
            <a href="#intro" class="timeline-item active" data-section="intro">
                <div class="timeline-dot"></div>
                <span class="timeline-label">Intro</span>
            </a>
            <!-- More timeline items will be added by JavaScript -->
        </div>
    </aside>

    <!-- Main Content -->
    <div class="project-intro" style="background-color: #e6f0ff; padding: 1.5rem 2rem; text-align: center; border-bottom: 1px solid #cce0ff;">
        <p style="margin: 0; font-size: 1.1rem; color: #1a3e72; line-height: 1.6;">
            This project demonstrates how AI spatial-audio technology can be built and scaled using large-complex-project principles.
            <br>
            <span style="display: inline-block; margin-top: 0.5rem; font-weight: 500;">
                Aleks Kjaer | Natasha Anderson | Robert Grinnell Jr | Sriya Thotakura
            </span>
        </p>
    </div>
    
    <main>
        <!-- Hero Section -->
        <section id="intro" class="section active hero">
            <!-- Navigation dots -->
            <div class="nav-dots">
                <div class="nav-dot active"></div>
                <div class="nav-dot"></div>
                <div class="nav-dot"></div>
                <div class="nav-dot"></div>
                <div class="nav-dot"></div>
            </div>

            <div class="hero-inner">
                <div class="hero-copy">
                    <div class="hero-copy-eyebrow">HearOnly</div>
                    <h1 class="hero-title">
                        <span class="highlight">Selective</span> — SPATIAL AUDIO AI Visual selective hearing for complex environments
                    </h1>
                    <p class="hero-subtitle">
                        This hero canvas turns noisy scenes into a focused soundscape. 
                        Move your cursor to see how signals come into clarity while 
                        the rest recedes into the background.
                    </p>
                    <div class="hero-cta-row">
                        <a href="#methodology" class="hero-cta-primary">
                            See the Journey
                        </a>
                        <div class="hero-cta-secondary">
                            or <span>explore the technology →</span>
                        </div>
                    </div>
                </div>

                <div class="hero-sim" id="hero-sim">
                    <div class="sim-label">Selective Hearing Simulation</div>
                    <div class="sim-caption">
                        Move your cursor across the field. The system "listens" where you point,
                        amplifying nearby sources and softening everything else.
                    </div>

                    <div class="listener" id="listener">
                        Focus
                    </div>

                    <div class="sound" data-id="traffic">
                        <span class="sound-dot"></span> Traffic drones
                    </div>
                    <div class="sound" data-id="voices">
                        <span class="sound-dot"></span> Overlapping voices
                    </div>
                    <div class="sound" data-id="music">
                        <span class="sound-dot"></span> Street music
                    </div>
                    <div class="sound" data-id="alerts">
                        <span class="sound-dot"></span> System alerts
                    </div>
                    <div class="sound" data-id="wind">
                        <span class="sound-dot"></span> Wind + rustle
                    </div>
                    <div class="sound" data-id="machines">
                        <span class="sound-dot"></span> HVAC + machines
                    </div>
                    <div class="sound" data-id="citybed">
                        <span class="sound-dot"></span> City noise bed
                    </div>
                </div>
            </div>
            <div class="cursor-follower" id="cursorFollower"></div>
        </section>

        <!-- D3 Diagram Section -->
        <section id="Intro" class="section" style="background: white; padding: 4rem 2rem; min-height: 1200px;">
            <div id="d3-container" style="background: white; border-radius: 12px; padding: 30px; box-shadow: 0 5px 20px rgba(0,0,0,0.08); max-width: 1600px; margin: 0 auto;">
                <h2 style="text-align: center; color: #333; margin-bottom: 40px; font-size: 32px; font-weight: 600;">HearOnly: Intelligent Selective Audio System</h2>
                <svg id="diagram"></svg>
            </div>
            
            <style>
                #diagram {
                    width: 100%;
                    height: 1000px;
                    display: block;
                    margin: 0 auto;
                }
                .node {
                    cursor: pointer;
                    transition: all 0.3s ease;
                }
                .node:hover {
                    filter: brightness(1.1);
                }
                .node-rect {
                    stroke: #fff;
                    stroke-width: 3;
                    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
                }
                .node-text {
                    font-size: 13px;
                    font-weight: 600;
                    fill: white;
                    pointer-events: none;
                }
                .node-subtext {
                    font-size: 10px;
                    fill: rgba(255,255,255,0.9);
                    pointer-events: none;
                }
                .link {
                    fill: none;
                    stroke: #999;
                    stroke-width: 2;
                    stroke-dasharray: 5,5;
                    opacity: 0.6;
                }
                .link-arrow {
                    fill: #999;
                }
                .legend {
                    font-size: 12px;
                }
                .legend-rect {
                    stroke: #ddd;
                    stroke-width: 1;
                }
                @media (max-width: 1400px) {
                    #diagram {
                        height: 800px;
                    }
                    #d3-container {
                        max-width: 1200px;
                    }
                }
                @media (max-width: 992px) {
                    #diagram {
                        height: 600px;
                    }
                    #d3-container {
                        padding: 20px;
                    }
                }
                @media (max-width: 768px) {
                    #diagram {
                        height: 500px;
                    }
                    #d3-container {
                        padding: 15px;
                    }
                }
            </style>
        </section>

        <!-- Structure Flow Diagram Section -->
        <section id="Methodology" class="section" style="background: #f8fafc; padding: 4rem 2rem;">
            <div class="container">
                <h2>Methodology</h2>
                <p class="subtitle">Horizontal Relationship Diagram</p>
                
                <div id="chart" style="width: 100%; height: 600px; margin: 40px 0;">
                    <div class="info-box" id="infoBox" style="position: absolute; background: white; border: 2px solid #4169E1; border-radius: 12px; padding: 15px 20px; box-shadow: 0 8px 24px rgba(65, 105, 225, 0.2); pointer-events: none; opacity: 0; transition: opacity 0.3s ease; z-index: 100; max-width: 300px;">
                        <div class="info-title" id="infoTitle" style="font-size: 0.95rem; font-weight: 700; color: #4169E1; margin-bottom: 5px;"></div>
                        <div class="info-content" id="infoContent" style="font-size: 0.85rem; color: #4a5568; line-height: 1.4;"></div>
                    </div>
                </div>

                <div class="legend" id="legend" style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 30px;"></div>
            </div>

            <script>
                // Data structure
                const nodes = [
                    { id: "structure", name: "Structure", level: 0, color: "#4169E1", description: "Central framework organizing all HearOnly components" },
                    { id: "core", name: "Core Innovation", level: 1, color: "#6B8FF6", description: "AI-based sound differentiation & selective filtering" },
                    { id: "tech", name: "Technical Foundation", level: 1, color: "#2196F3", description: "Psychoacoustic modeling & adaptive learning algorithms" },
                    { id: "customer", name: "Customer Segments", level: 1, color: "#9C27B0", description: "Primary, Secondary & Tertiary market segments" },
                    { id: "market", name: "Market Positioning", level: 1, color: "#6366F1", description: "Premium, future-oriented sound intelligence" }
                ];

                const links = [
                    { source: "structure", target: "core", value: 5 },
                    { source: "structure", target: "tech", value: 5 },
                    { source: "structure", target: "customer", value: 5 },
                    { source: "structure", target: "market", value: 5 },
                    { source: "core", target: "tech", value: 4 },
                    { source: "core", target: "customer", value: 3 },
                    { source: "core", target: "market", value: 3 },
                    { source: "tech", target: "customer", value: 2 },
                    { source: "tech", target: "market", value: 2 },
                    { source: "customer", target: "market", value: 4 }
                ];

                const width = document.getElementById('chart').clientWidth;
                const height = 600;
                const margin = { top: 40, right: 150, bottom: 40, left: 150 };

                const svg = d3.select("#chart")
                    .append("svg")
                    .attr("viewBox", [0, 0, width, height])
                    .attr("width", "100%")
                    .attr("height", "100%");

                // Create horizontal layout
                const levelWidth = (width - margin.left - margin.right) / 2;
                const nodeHeight = 60;
                const nodeWidth = 200;

                // Position nodes
                const nodesByLevel = d3.group(nodes, d => d.level);
                
                nodes.forEach(node => {
                    const levelNodes = nodesByLevel.get(node.level);
                    const levelHeight = height - margin.top - margin.bottom;
                    const spacing = levelHeight / (levelNodes.length + 1);
                    const index = levelNodes.indexOf(node);
                    
                    if (node.level === 0) {
                        node.x = margin.left;
                        node.y = height / 2 - nodeHeight / 2;
                    } else {
                        node.x = margin.left + levelWidth + 100;
                        node.y = margin.top + spacing * (index + 1) - nodeHeight / 2;
                    }
                });

                // Create curved links
                const linkGenerator = d3.linkHorizontal()
                    .source(d => {
                        const source = nodes.find(n => n.id === d.source);
                        return [source.x + nodeWidth, source.y + nodeHeight / 2];
                    })
                    .target(d => {
                        const target = nodes.find(n => n.id === d.target);
                        return [target.x, target.y + nodeHeight / 2];
                    });

                // Add glow filter
                const defs = svg.append("defs");
                const filter = defs.append("filter")
                    .attr("id", "glow");
                filter.append("feGaussianBlur")
                    .attr("stdDeviation", "3")
                    .attr("result", "coloredBlur");
                const feMerge = filter.append("feMerge");
                feMerge.append("feMergeNode")
                    .attr("in", "coloredBlur");
                feMerge.append("feMergeNode")
                    .attr("in", "SourceGraphic");

                // Draw links
                const linkElements = svg.append("g")
                    .selectAll("path")
                    .data(links)
                    .join("path")
                    .attr("class", "link")
                    .attr("d", linkGenerator)
                    .attr("stroke", d => {
                        const target = nodes.find(n => n.id === d.target);
                        return target.color;
                    })
                    .attr("stroke-width", d => d.value * 0.8)
                    .style("opacity", 0.7);

                // Draw nodes
                const nodeElements = svg.append("g")
                    .selectAll("g")
                    .data(nodes)
                    .join("g")
                    .attr("class", "node")
                    .attr("transform", d => `translate(${d.x}, ${d.y})`);

                nodeElements.append("rect")
                    .attr("width", nodeWidth)
                    .attr("height", nodeHeight)
                    .attr("rx", 10)
                    .attr("fill", d => d.color)
                    .attr("stroke", d => d3.rgb(d.color).darker())
                    .attr("stroke-width", 2)
                    .style("filter", "url(#glow)");

                // Add node labels
                nodeElements.append("text")
                    .attr("x", nodeWidth / 2)
                    .attr("y", nodeHeight / 2)
                    .attr("text-anchor", "middle")
                    .attr("dominant-baseline", "middle")
                    .text(d => d.name)
                    .style("fill", "white")
                    .style("font-size", "13px")
                    .style("font-weight", "600")
                    .style("text-shadow", "0 1px 2px rgba(0,0,0,0.3)");

                // Interactivity
                const infoBox = document.getElementById("infoBox");
                const infoTitle = document.getElementById("infoTitle");
                const infoContent = document.getElementById("infoContent");

                // Node hover
                nodeElements.on("mouseenter", function(event, d) {
                    d3.select(this).select("rect").transition().style("opacity", 1);
                    
                    // Highlight connected links
                    d3.selectAll(".link")
                        .style("opacity", function(link) {
                            return (link.source === d.id || link.target === d.id) ? 1 : 0.2;
                        });

                    // Show info
                    infoTitle.textContent = d.name;
                    infoContent.textContent = d.description;
                    infoBox.style.opacity = 1;
                    infoBox.style.left = (event.pageX + 15) + "px";
                    infoBox.style.top = (event.pageY - 30) + "px";
                });

                nodeElements.on("mousemove", function(event) {
                    infoBox.style.left = (event.pageX + 15) + "px";
                    infoBox.style.top = (event.pageY - 30) + "px";
                });

                nodeElements.on("mouseleave", function() {
                    d3.selectAll(".link").style("opacity", 0.7);
                    infoBox.style.opacity = 0;
                });

                // Link hover
                linkElements.on("mouseenter", function(event, d) {
                    const source = nodes.find(n => n.id === d.source);
                    const target = nodes.find(n => n.id === d.target);
                    
                    infoTitle.textContent = `${source.name} → ${target.name}`;
                    infoContent.textContent = `Connection strength: ${d.value}/5`;
                    infoBox.style.opacity = 1;
                    infoBox.style.left = (event.pageX + 15) + "px";
                    infoBox.style.top = (event.pageY - 30) + "px";

                    // Dim other links
                    d3.select(this).transition().style("opacity", 1).style("stroke-width", d.value * 1.2);
                    d3.selectAll(".link").filter(link => link !== d)
                        .transition().style("opacity", 0.1);
                });

                linkElements.on("mousemove", function(event) {
                    infoBox.style.left = (event.pageX + 15) + "px";
                    infoBox.style.top = (event.pageY - 30) + "px";
                });

                linkElements.on("mouseleave", function() {
                    d3.selectAll(".link")
                        .transition()
                        .style("opacity", 0.7)
                        .style("stroke-width", d => d.value * 0.8);
                    infoBox.style.opacity = 0;
                });

                // Create legend
                const legendContainer = document.getElementById("legend");
                nodes.forEach((node) => {
                    const item = document.createElement("div");
                    item.className = "legend-item";
                    item.style.display = "flex";
                    item.style.alignItems = "center";
                    item.style.gap = "10px";
                    item.style.padding = "10px 15px";
                    item.style.background = "#E8F0FC";
                    item.style.borderRadius = "8px";
                    item.style.transition = "all 0.3s ease";
                    item.style.cursor = "pointer";
                    
                    item.innerHTML = `
                        <div class="legend-color" style="width: 20px; height: 20px; border-radius: 4px; background: ${node.color};"></div>
                        <div class="legend-text" style="font-size: 0.85rem; color: #1a202c; font-weight: 600;">${node.name}</div>
                    `;
                    
                    // Legend interaction
                    item.addEventListener("mouseenter", () => {
                        d3.selectAll(".link")
                            .style("opacity", function(link) {
                                return (link.source === node.id || link.target === node.id) ? 1 : 0.1;
                            });
                        
                        d3.selectAll(".node rect")
                            .style("opacity", function(d) {
                                return d.id === node.id ? 1 : 0.3;
                            });
                    });
                    
                    item.addEventListener("mouseleave", () => {
                        d3.selectAll(".link").style("opacity", 0.7);
                        d3.selectAll(".node rect").style("opacity", 1);
                    });
                    
                    legendContainer.appendChild(item);
                });

                // Make responsive
                function handleResize() {
                    const newWidth = document.getElementById('chart').clientWidth;
                    svg.attr("viewBox", [0, 0, newWidth, height]);
                    
                    // Recalculate node positions
                    nodes.forEach(node => {
                        if (node.level === 0) {
                            node.x = margin.left;
                        } else {
                            node.x = margin.left + ((newWidth - margin.left - margin.right) / 2) + 100;
                        }
                    });

                    // Update node positions
                    nodeElements.attr("transform", d => `translate(${d.x}, ${d.y})`);
                    
                    // Update links
                    linkElements.attr("d", linkGenerator);
                }

                window.addEventListener('resize', handleResize);
            </script>
        </section>

        <!-- RACI Matrix Section -->
        <section id="Conceptual Phase" class="section">
            <div class="container">
                <h2>Conceptual Phase — Designing Selective</h2>
                <div class="card">
                    <div class="raci-container">
                        <div class="header">
                            <h3>Responsibility Assignment</h3>
                            <p class="subtitle">Clear Roles for Project Success</p>
                            
                            <div class="legend">
                                <div class="legend-item">
                                    <div class="legend-box legend-r">R</div>
                                    <span>Responsible</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-box legend-a">A</div>
                                    <span>Accountable</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-box legend-c">C</div>
                                    <span>Consulted</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-box legend-i">I</div>
                                    <span>Informed</span>
                                </div>
                            </div>
                        </div>

                        <div id="matrix"></div>

                        <div class="info-panel" id="infoPanel">
                            <div class="info-title" id="infoTitle"></div>
                            <div class="info-content" id="infoContent"></div>
                        </div>

                        <div class="stats">
                            6 Teams | 6 Tasks/Deliverables | 36 Total Assignments
                        </div>
                    </div>
                    <style>
                        .raci-container {
                            width: 100%;
                            padding: 20px;
                            overflow-x: auto;
                        }
                        .raci-container .header {
                            text-align: center;
                            margin-bottom: 30px;
                        }
                        .raci-container h3 {
                            font-size: 1.8rem;
                            color: #1a202c;
                            margin-bottom: 8px;
                        }
                        .raci-container .subtitle {
                            color: #4169E1;
                            font-size: 0.9rem;
                            text-transform: uppercase;
                            letter-spacing: 0.2em;
                            font-weight: 600;
                            margin-bottom: 20px;
                            display: block;
                        }
                        .legend {
                            display: flex;
                            justify-content: center;
                            gap: 30px;
                            flex-wrap: wrap;
                            margin: 20px 0;
                        }
                        .legend-item {
                            display: flex;
                            align-items: center;
                            gap: 10px;
                            font-size: 13px;
                            color: #4a5568;
                            font-weight: 600;
                        }
                        .legend-box {
                            width: 28px;
                            height: 28px;
                            border-radius: 6px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: white;
                            font-weight: 700;
                            font-size: 12px;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                        }
                        .legend-r { background: #4CAF50; }
                        .legend-a { background: #2196F3; }
                        .legend-c { background: #9C27B0; }
                        .legend-i { background: #FFC107; }
                        #matrix {
                            margin: 20px 0;
                            overflow: auto;
                        }
                        #matrix svg {
                            display: block;
                            margin: 0 auto;
                        }
                        .cell {
                            cursor: pointer;
                            transition: all 0.3s ease;
                        }
                        .cell:hover {
                            opacity: 0.8;
                            filter: brightness(1.1);
                        }
                        .cell-text {
                            font-weight: 700;
                            font-size: 16px;
                            fill: white;
                            text-anchor: middle;
                            dominant-baseline: middle;
                            pointer-events: none;
                        }
                        .row-label, .col-label {
                            font-size: 12px;
                            font-weight: 600;
                            fill: #1a202c;
                        }
                        .row-label {
                            text-anchor: end;
                        }
                        .col-label {
                            text-anchor: start;
                        }
                        .grid-line {
                            stroke: #e2e8f0;
                            stroke-width: 1;
                        }
                        .info-panel {
                            margin-top: 30px;
                            background: #E8F0FC;
                            border-radius: 12px;
                            padding: 20px;
                            border: 2px solid #4169E1;
                            display: none;
                        }
                        .info-panel.active {
                            display: block;
                            animation: slideIn 0.3s ease;
                        }
                        @keyframes slideIn {
                            from {
                                opacity: 0;
                                transform: translateY(-10px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }
                        .info-title {
                            font-size: 1.1rem;
                            font-weight: 700;
                            color: #4169E1;
                            margin-bottom: 10px;
                        }
                        .info-content {
                            color: #1a202c;
                            line-height: 1.6;
                            font-size: 0.95rem;
                        }
                        .stats {
                            margin-top: 20px;
                            text-align: center;
                            padding: 15px;
                            background: linear-gradient(135deg, #E8F0FC 0%, #F8FAFF 100%);
                            border-radius: 8px;
                            font-size: 0.9rem;
                            color: #4a5568;
                            font-weight: 600;
                        }
                        @media (max-width: 768px) {
                            .legend {
                                gap: 15px;
                            }
                            .legend-item {
                                font-size: 12px;
                            }
                            .legend-box {
                                width: 24px;
                                height: 24px;
                                font-size: 11px;
                            }
                        }
                    </style>
                    <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            // RACI Matrix Data
                            const roles = [
                                "Executive Sponsor / Steering Committee",
                                "PMO (Project Manager Officer)",
                                "Product Development & Engineering",
                                "Supply Chain & Manufacturing",
                                "Marketing, CX & Commercialization",
                                "Compliance: IT & Data Security"
                            ];

                            const tasks = [
                                "Project Governance & Strategy",
                                "AI Algorithm & Model Development",
                                "Hardware Prototyping & Sourcing",
                                "User Testing & Feedback",
                                "Market Entry & Commercialization",
                                "Regulatory & Data Compliance"
                            ];

                            // RACI assignments (R, A, C, I)
                            const matrix = [
                                ["A", "R", "C", "I", "I", "C"],
                                ["I", "C", "A", "I", "I", "C"],
                                ["I", "I", "A", "R", "I", "I"],
                                ["I", "I", "C", "I", "A", "C"],
                                ["I", "C", "C", "C", "A", "C"],
                                ["A", "I", "C", "I", "C", "R"]
                            ];

                            const colorMap = {
                                "R": "#4CAF50",  // Green
                                "A": "#2196F3",  // Blue
                                "C": "#9C27B0",  // Purple
                                "I": "FFC107"    // Yellow
                            };

                            const descriptions = {
                                "R": "Responsible - Does the work to complete the task",
                                "A": "Accountable - Ultimately answerable for the correct completion",
                                "C": "Consulted - Provides input and feedback",
                                "I": "Informed - Kept up-to-date on progress"
                            };

                            // Dimensions
                            const cellSize = 70;
                            const labelWidth = 280;
                            const labelHeight = 160;
                            const margin = { top: labelHeight + 20, right: 40, bottom: 40, left: labelWidth };
                            
                            const container = document.getElementById('matrix');
                            const containerWidth = container.offsetWidth;
                            const width = Math.min(1200, containerWidth) - margin.left - margin.right;
                            const height = tasks.length * cellSize + margin.top + margin.bottom;

                            // Create SVG
                            const svg = d3.select("#matrix")
                                .append("svg")
                                .attr("width", width + margin.left + margin.right)
                                .attr("height", height)
                                .append("g")
                                .attr("transform", `translate(${margin.left}, ${margin.top})`);

                            // Draw grid lines
                            for (let i = 0; i <= tasks.length; i++) {
                                svg.append("line")
                                    .attr("class", "grid-line")
                                    .attr("x1", 0)
                                    .attr("y1", i * cellSize)
                                    .attr("x2", roles.length * cellSize)
                                    .attr("y2", i * cellSize);
                            }

                            for (let i = 0; i <= roles.length; i++) {
                                svg.append("line")
                                    .attr("class", "grid-line")
                                    .attr("x1", i * cellSize)
                                    .attr("y1", 0)
                                    .attr("x2", i * cellSize)
                                    .attr("y2", tasks.length * cellSize);
                            }

                            // Draw cells
                            tasks.forEach((task, i) => {
                                roles.forEach((role, j) => {
                                    const value = matrix[i][j];
                                    
                                    const cell = svg.append("g")
                                        .attr("class", "cell")
                                        .attr("transform", `translate(${j * cellSize}, ${i * cellSize})`);

                                    cell.append("rect")
                                        .attr("width", cellSize - 2)
                                        .attr("height", cellSize - 2)
                                        .attr("x", 1)
                                        .attr("y", 1)
                                        .attr("rx", 6)
                                        .attr("fill", colorMap[value])
                                        .style("opacity", 0)
                                        .transition()
                                        .duration(600)
                                        .delay((i * roles.length + j) * 30)
                                        .style("opacity", 0.9);

                                    cell.append("text")
                                        .attr("class", "cell-text")
                                        .attr("x", cellSize / 2)
                                        .attr("y", cellSize / 2)
                                        .text(value)
                                        .style("opacity", 0)
                                        .transition()
                                        .duration(400)
                                        .delay((i * roles.length + j) * 30 + 200)
                                        .style("opacity", 1);

                                    // Add interactivity
                                    cell.on("click", function() {
                                        const panel = document.getElementById("infoPanel");
                                        const title = document.getElementById("infoTitle");
                                        const content = document.getElementById("infoContent");

                                        title.textContent = `${task} × ${role}`;
                                        content.textContent = `Assignment: ${descriptions[value]}`;
                                        panel.classList.add("active");
                                    });

                                    cell.on("mouseenter", function() {
                                        d3.select(this).select("rect")
                                            .transition()
                                            .duration(200)
                                            .style("opacity", 1)
                                            .attr("width", cellSize)
                                            .attr("height", cellSize)
                                            .attr("x", 0)
                                            .attr("y", 0);
                                    });

                                    cell.on("mouseleave", function() {
                                        d3.select(this).select("rect")
                                            .transition()
                                            .duration(200)
                                            .style("opacity", 0.9)
                                            .attr("width", cellSize - 2)
                                            .attr("height", cellSize - 2)
                                            .attr("x", 1)
                                            .attr("y", 1);
                                    });
                                });
                            });

                            // Add row labels (tasks)
                            tasks.forEach((task, i) => {
                                svg.append("text")
                                    .attr("class", "row-label")
                                    .attr("x", -10)
                                    .attr("y", i * cellSize + cellSize / 2)
                                    .attr("dominant-baseline", "middle")
                                    .text(task)
                                    .style("opacity", 0)
                                    .transition()
                                    .duration(600)
                                    .delay(i * 100)
                                    .style("opacity", 1);
                            });

                            // Add column labels (roles) - rotated
                            roles.forEach((role, i) => {
                                svg.append("text")
                                    .attr("class", "col-label")
                                    .attr("transform", `translate(${i * cellSize + cellSize / 2}, -10) rotate(-45)`)
                                    .text(role)
                                    .style("opacity", 0)
                                    .transition()
                                    .duration(600)
                                    .delay(i * 100 + 300)
                                    .style("opacity", 1);
                            });

                            // Click outside to close info panel
                            document.addEventListener("click", function(e) {
                                if (!e.target.closest(".cell") && !e.target.closest(".info-panel")) {
                                    document.getElementById("infoPanel").classList.remove("active");
                                }
                            });

                            // Handle window resize
                            function handleResize() {
                                const newWidth = Math.min(1200, container.offsetWidth) - margin.left - margin.right;
                                
                                svg.attr("width", newWidth + margin.left + margin.right);
                                
                                // Update column width based on available space
                                const newCellSize = Math.max(60, Math.min(80, (newWidth / roles.length) * 0.9));
                                
                                // Update cell positions and sizes
                                svg.selectAll(".cell")
                                    .attr("transform", (d, i) => {
                                        const row = Math.floor(i / roles.length);
                                        const col = i % roles.length;
                                        return `translate(${col * newCellSize}, ${row * newCellSize})`;
                                    });
                                
                                // Update cell rectangles
                                svg.selectAll(".cell rect")
                                    .attr("width", newCellSize - 2)
                                    .attr("height", newCellSize - 2);
                                
                                // Update cell text
                                svg.selectAll(".cell text.cell-text")
                                    .attr("x", newCellSize / 2)
                                    .attr("y", newCellSize / 2);
                                
                                // Update row labels
                                svg.selectAll(".row-label")
                                    .attr("y", (d, i) => i * newCellSize + newCellSize / 2);
                                
                                // Update column labels
                                svg.selectAll(".col-label")
                                    .attr("transform", (d, i) => 
                                        `translate(${i * newCellSize + newCellSize / 2}, -10) rotate(-45)`);
                                
                                // Update grid lines
                                svg.selectAll(".grid-line").remove();
                                
                                // Redraw grid lines
                                for (let i = 0; i <= tasks.length; i++) {
                                    svg.append("line")
                                        .attr("class", "grid-line")
                                        .attr("x1", 0)
                                        .attr("y1", i * newCellSize)
                                        .attr("x2", roles.length * newCellSize)
                                        .attr("y2", i * newCellSize);
                                }
                                
                                for (let i = 0; i <= roles.length; i++) {
                                    svg.append("line")
                                        .attr("class", "grid-line")
                                        .attr("x1", i * newCellSize)
                                        .attr("y1", 0)
                                        .attr("x2", i * newCellSize)
                                        .attr("y2", tasks.length * newCellSize);
                                }
                            }

                            // Add window resize listener
                            window.addEventListener('resize', handleResize);
                        });
                    </script>
                </div>
            </div>
        </section>

        <!-- methodology and assumptions Section -->
        <section id="methodology and assumptions" class="section">
            <div class="container">
                <h2>Methodology And Assumptions</h2>
                <div class="card">
                    <div class="hybrid-diagram">
                        <div class="instruction-text">
                            Click the phase bars below to switch between phases
                        </div>
                        
                        <div class="hybrid-title">
                            <h3>Hybrid Methodology</h3>
                            <span>Agile development &amp; testing with Stage Gate governance</span>
                        </div>

                        <div class="phase-bar-chart">
                            <div class="bar-chart-container">
                                <div class="phase-bar phase-1-bar active" id="bar1" onclick="switchToPhase(1)">
                                    <div class="bar-content">
                                        <div class="bar-number">1</div>
                                        <div class="bar-info">
                                            <div class="bar-title">First Phase</div>
                                            <div class="bar-subtitle">MVP • Years 0–2</div>
                                        </div>
                                    </div>
                                    <div class="bar-fill"></div>
                                </div>
                                
                                <div class="phase-bar phase-2-bar" id="bar2" onclick="switchToPhase(2)">
                                    <div class="bar-content">
                                        <div class="bar-number">2</div>
                                        <div class="bar-info">
                                            <div class="bar-title">Second Phase</div>
                                            <div class="bar-subtitle">Scaling • Years 3–5</div>
                                        </div>
                                    </div>
                                    <div class="bar-fill"></div>
                                </div>
                            </div>
                            
                            <div class="timeline-scale">
                                <span>Year 0</span>
                                <span>Year 1</span>
                                <span>Year 2</span>
                                <span>Year 3</span>
                                <span>Year 4</span>
                                <span>Year 5</span>
                            </div>
                        </div>

                        <div style="text-align: center;">
                            <div class="hybrid-core">Core Framework</div>
                        </div>

                        <div class="hybrid-flow">
                            <div class="phase-card phase-1 active" id="phaseCard1">
                                <div class="phase-header">
                                    <div>
                                        <div class="phase-badge">Phase 1</div>
                                        <h4>Build & Validate MVP</h4>
                                    </div>
                                    <div class="phase-duration">
                                        <span>⏱</span> 0–2 years
                                    </div>
                                </div>

                                <div class="phase-section">
                                    <div class="phase-section-title">
                                        <span class="icon">🚀</span> Minimum Viable Product
                                    </div>
                                    <ul>
                                        <li>Deliver a Minimum Viable Product within 24 months.</li>
                                    </ul>
                                </div>

                                <div class="phase-section" style="margin-top:0.8rem;">
                                    <div class="phase-section-title">
                                        <span class="icon">🔁</span> Agile Sprints with Stage Gates
                                    </div>
                                    <ul>
                                        <li class="sub">Initiation &amp; requirements gathering</li>
                                        <li class="sub">Design &amp; development</li>
                                        <li class="sub">Testing &amp; validation</li>
                                        <li class="sub">Deployment &amp; transition</li>
                                    </ul>
                                </div>

                                <div class="phase-section" style="margin-top:0.8rem;">
                                    <div class="phase-section-title">
                                        <span class="icon">📌</span> Major Milestones
                                    </div>
                                    <ul>
                                        <li class="sub">Project charter sign-off</li>
                                        <li class="sub">Design review approval</li>
                                        <li class="sub">Prototype release</li>
                                        <li class="sub">Go-live decision</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="phase-arrow" id="phaseArrow">
                                <span></span>
                            </div>

                            <div class="phase-card phase-2" id="phaseCard2">
                                <div class="phase-header">
                                    <div>
                                        <div class="phase-badge">Phase 2</div>
                                        <h4>Scale & Optimize</h4>
                                    </div>
                                    <div class="phase-duration">
                                        <span>📈</span> Years 3–5
                                    </div>
                                </div>

                                <div class="phase-section">
                                    <div class="phase-section-title">
                                        <span class="icon">⚙️</span> Scaling & Optimization
                                    </div>
                                    <ul>
                                        <li>Expand deployment and optimize performance across markets.</li>
                                    </ul>
                                </div>

                                <div class="phase-section" style="margin-top:0.8rem;">
                                    <div class="phase-section-title">
                                        <span class="icon">🤖</span> AI-Driven Analytics
                                    </div>
                                    <ul>
                                        <li>Integrate AI-driven analytics for continuous improvement.</li>
                                    </ul>
                                </div>

                                <div class="phase-section" style="margin-top:0.8rem;">
                                    <div class="phase-section-title">
                                        <span class="icon">📊</span> Performance Measurement
                                    </div>
                                    <ul>
                                        <li>Use advanced tools for monitoring and measuring product performance.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <style>
                        .hybrid-diagram {
                            max-width: 1150px;
                            width: 100%;
                            position: relative;
                            animation: fadeIn 0.6s ease-out;
                            margin: 0 auto;
                            padding: 1rem 0;
                        }

                        @keyframes fadeIn {
                            from { opacity: 0; transform: translateY(20px); }
                            to { opacity: 1; transform: translateY(0); }
                        }

                        .instruction-text {
                            text-align: center;
                            color: #667eea;
                            font-size: 0.85rem;
                            font-weight: 600;
                            margin-bottom: 1rem;
                            padding: 0.5rem;
                            background: #e8eaf6;
                            border-radius: 999px;
                            max-width: 350px;
                            margin-left: auto;
                            margin-right: auto;
                        }

                        .hybrid-title {
                            text-align: center;
                            margin-bottom: 1rem;
                        }

                        .hybrid-title h3 {
                            font-size: 1.3rem;
                            font-weight: 700;
                            color: #1f2933;
                            margin-bottom: 0.25rem;
                        }

                        .hybrid-title span {
                            font-size: 0.9rem;
                            font-weight: 400;
                            color: #546e7a;
                            display: block;
                        }

                        .phase-bar-chart {
                            max-width: 800px;
                            margin: 0 auto 1.5rem;
                            padding: 1rem;
                            background: #f8fafc;
                            border-radius: 12px;
                        }

                        .bar-chart-container {
                            display: flex;
                            flex-direction: column;
                            gap: 1rem;
                            margin-bottom: 0.75rem;
                        }

                        .phase-bar {
                            position: relative;
                            height: 60px;
                            background: white;
                            border-radius: 10px;
                            cursor: pointer;
                            transition: all 0.4s ease;
                            border: 2px solid #e0e7ff;
                            overflow: hidden;
                        }

                        .phase-bar:hover {
                            transform: translateX(5px);
                            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
                            border-color: #667eea;
                        }

                        .phase-bar.active {
                            border-color: #667eea;
                            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
                        }

                        .phase-bar.completed {
                            border-color: #4caf50;
                        }

                        .bar-fill {
                            position: absolute;
                            left: 0;
                            top: 0;
                            height: 100%;
                            background: #e8eaf6;
                            transition: width 0.6s ease;
                            z-index: 0;
                        }

                        .phase-1-bar .bar-fill {
                            width: 40%; /* 2 years out of 5 */
                        }

                        .phase-2-bar .bar-fill {
                            width: 60%; /* 3 years out of 5 */
                        }

                        .phase-bar.active .bar-fill {
                            background: rgba(102, 126, 234, 0.15);
                        }

                        .phase-bar.completed .bar-fill {
                            background: rgba(76, 175, 80, 0.15);
                        }

                        .bar-content {
                            position: relative;
                            z-index: 1;
                            height: 100%;
                            display: flex;
                            align-items: center;
                            padding: 0 1rem;
                            gap: 0.75rem;
                        }

                        .bar-number {
                            width: 40px;
                            height: 40px;
                            background: #667eea;
                            color: white;
                            border-radius: 8px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 1.2rem;
                            font-weight: 700;
                            flex-shrink: 0;
                            transition: all 0.3s ease;
                        }

                        .phase-2-bar .bar-number {
                            background: #764ba2;
                        }

                        .phase-bar.completed .bar-number {
                            background: #4caf50;
                        }

                        .phase-bar.completed .bar-number::after {
                            content: " ✓";
                            font-size: 1rem;
                        }

                        .bar-info {
                            flex: 1;
                        }

                        .bar-title {
                            font-size: 0.95rem;
                            font-weight: 700;
                            color: #1f2933;
                            margin-bottom: 0.2rem;
                        }

                        .phase-bar.active .bar-title {
                            color: #667eea;
                        }

                        .bar-subtitle {
                            font-size: 0.75rem;
                            color: #78909c;
                            font-weight: 500;
                        }

                        .timeline-scale {
                            display: flex;
                            justify-content: space-between;
                            padding: 0 1rem;
                            margin-top: 0.5rem;
                        }

                        .timeline-scale span {
                            font-size: 0.7rem;
                            color: #90a4ae;
                            font-weight: 600;
                        }

                        .hybrid-core {
                            text-align: center;
                            background: #667eea;
                            color: white;
                            padding: 0.5rem 1.5rem;
                            border-radius: 999px;
                            font-weight: 600;
                            font-size: 0.95rem;
                            margin: 0 auto 1.5rem;
                            display: inline-block;
                            box-shadow: 0 8px 18px rgba(102, 126, 234, 0.3);
                        }

                        .hybrid-flow {
                            display: grid;
                            grid-template-columns: 1.3fr auto 1.1fr;
                            align-items: stretch;
                            gap: 1rem;
                            animation: slideUp 0.6s ease-out 0.15s both;
                        }

                        @keyframes slideUp {
                            from { opacity: 0; transform: translateY(20px); }
                            to { opacity: 1; transform: translateY(0); }
                        }

                        .phase-card {
                            background: white;
                            border-radius: 16px;
                            padding: 1.3rem 1.5rem;
                            box-shadow: 0 14px 40px rgba(15, 23, 42, 0.12);
                            position: relative;
                            overflow: hidden;
                            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
                            opacity: 0.4;
                            transform: scale(0.95);
                        }

                        .phase-card.active {
                            opacity: 1;
                            transform: scale(1);
                            box-shadow: 0 20px 60px rgba(102, 126, 234, 0.25);
                        }

                        .phase-card.completed {
                            opacity: 0.7;
                        }

                        .phase-card::after {
                            content: "";
                            position: absolute;
                            right: -30px;
                            bottom: -30px;
                            width: 90px;
                            height: 90px;
                            border-radius: 50%;
                            background: rgba(102,126,234,0.16);
                            pointer-events: none;
                            transition: all 0.5s ease;
                        }

                        .phase-card.active::after {
                            width: 120px;
                            height: 120px;
                            right: -40px;
                            bottom: -40px;
                        }

                        .phase-2::after {
                            background: rgba(118,75,162,0.16);
                        }

                        .phase-header {
                            display: flex;
                            align-items: center;
                            justify-content: space-between;
                            gap: 0.5rem;
                            margin-bottom: 0.9rem;
                        }

                        .phase-badge {
                            font-size: 0.7rem;
                            padding: 0.2rem 0.6rem;
                            border-radius: 999px;
                            background: #e8eaf6;
                            color: #3949ab;
                            font-weight: 600;
                            letter-spacing: 0.03em;
                            text-transform: uppercase;
                            transition: all 0.3s;
                        }

                        .phase-card.active .phase-badge {
                            background: #667eea;
                            color: white;
                        }

                        .phase-2 .phase-badge {
                            background: #f3e5f5;
                            color: #6a1b9a;
                        }

                        .phase-2.active .phase-badge {
                            background: #764ba2;
                            color: white;
                        }

                        .phase-duration {
                            font-size: 0.75rem;
                            color: #78909c;
                            display: flex;
                            align-items: center;
                            gap: 0.2rem;
                        }

                        .phase-duration span {
                            font-size: 0.9rem;
                        }

                        .phase-card h4 {
                            font-size: 1.15rem;
                            font-weight: 700;
                            color: #1f2933;
                        }

                        .phase-1 h4 { color: #3f51b5; }
                        .phase-2 h4 { color: #7b1fa2; }

                        .phase-section {
                            margin-top: 0.8rem;
                            padding: 0.5rem 0.7rem;
                            border-radius: 0.7rem;
                            background: #f8fafc;
                            border: 1px dashed #e0e7ff;
                            opacity: 0;
                            transform: translateX(-20px);
                            transition: all 0.5s ease;
                        }

                        .phase-card.active .phase-section {
                            opacity: 1;
                            transform: translateX(0);
                        }

                        .phase-card.active .phase-section:nth-child(2) {
                            transition-delay: 0.1s;
                        }

                        .phase-card.active .phase-section:nth-child(3) {
                            transition-delay: 0.2s;
                        }

                        .phase-card.active .phase-section:nth-child(4) {
                            transition-delay: 0.3s;
                        }

                        .phase-2 .phase-section {
                            border-color: #f3e5f5;
                            background: #fcf7ff;
                        }

                        .phase-section-title {
                            font-size: 0.8rem;
                            font-weight: 600;
                            color: #455a64;
                            margin-bottom: 0.25rem;
                            display: flex;
                            align-items: center;
                            gap: 0.3rem;
                        }

                        .phase-section-title span.icon {
                            font-size: 0.9rem;
                        }

                        .phase-card ul {
                            list-style: none;
                            padding: 0;
                            margin: 0;
                        }

                        .phase-card li {
                            font-size: 0.82rem;
                            line-height: 1.45;
                            color: #546e7a;
                            padding-left: 1rem;
                            position: relative;
                            margin: 0.15rem 0;
                        }

                        .phase-card li::before {
                            content: "";
                            position: absolute;
                            left: 0;
                            top: 0.5rem;
                            width: 5px;
                            height: 5px;
                            border-radius: 999px;
                            background: #5c6bc0;
                        }

                        .phase-2 li::before {
                            background: #8e24aa;
                        }

                        .phase-card li.sub {
                            font-size: 0.78rem;
                            color: #78909c;
                            padding-left: 1.2rem;
                        }

                        .phase-card li.sub::before {
                            width: 3px;
                            height: 3px;
                            top: 0.52rem;
                            background: #b0bec5;
                        }

                        .phase-arrow {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            position: relative;
                        }

                        .phase-arrow span {
                            width: 0;
                            height: 0;
                            border-top: 45px solid transparent;
                            border-bottom: 45px solid transparent;
                            border-left: 70px solid #e0e7ff;
                            filter: drop-shadow(2px 4px 6px rgba(0, 0, 0, 0.1));
                            transition: all 0.5s ease;
                        }

                        .phase-arrow.active span {
                            border-left-color: #667eea;
                            animation: pulse-arrow 2s ease-in-out infinite;
                        }

                        @keyframes pulse-arrow {
                            0%, 100% { transform: scale(1); opacity: 1; }
                            50% { transform: scale(1.04); opacity: 0.92; }
                        }

                        @media (max-width: 900px) {
                            .hybrid-flow {
                                grid-template-columns: 1fr;
                            }

                            .phase-arrow {
                                order: 2;
                                padding: 0.5rem 0;
                            }

                            .phase-arrow span {
                                transform: rotate(90deg);
                            }

                            .phase-bar-chart {
                                padding: 0.75rem;
                            }

                            .phase-bar {
                                height: 55px;
                            }

                            .bar-content {
                                padding: 0 0.75rem;
                            }

                            .bar-number {
                                width: 35px;
                                height: 35px;
                                font-size: 1.1rem;
                            }
                        }

                        @media (max-width: 600px) {
                            .hybrid-diagram {
                                padding: 0.75rem 0;
                            }

                            .hybrid-title h3 {
                                font-size: 1.15rem;
                            }

                            .phase-card {
                                padding: 1rem 1.2rem;
                            }

                            .phase-bar {
                                height: 50px;
                            }

                            .bar-title {
                                font-size: 0.85rem;
                            }

                            .bar-subtitle {
                                font-size: 0.7rem;
                            }

                            .timeline-scale {
                                padding: 0 0.5rem;
                            }

                            .timeline-scale span {
                                font-size: 0.6rem;
                            }
                        }
                    </style>
                    
                    <script>
                        // State management
                        let currentPhase = 1;

                        // Initialize
                        document.addEventListener('DOMContentLoaded', () => {
                            switchToPhase(1);
                        });

                        // Phase switching
                        function switchToPhase(phase) {
                            currentPhase = phase;
                            
                            // Update bars
                            document.querySelectorAll('.phase-bar').forEach(bar => {
                                bar.classList.remove('active');
                            });
                            document.getElementById(`bar${phase}`).classList.add('active');
                            
                            // Mark completed bars
                            if (phase === 2) {
                                document.getElementById('bar1').classList.add('completed');
                            } else {
                                document.getElementById('bar1').classList.remove('completed');
                            }
                            
                            // Update phase cards
                            document.querySelectorAll('.phase-card').forEach(card => {
                                card.classList.remove('active');
                            });
                            document.getElementById(`phaseCard${phase}`).classList.add('active');
                            
                            // Update arrow
                            if (phase === 2) {
                                document.getElementById('phaseArrow').classList.add('active');
                            } else {
                                document.getElementById('phaseArrow').classList.remove('active');
                            }
                            
                            // Mark completed phases
                            if (phase === 2) {
                                document.getElementById('phaseCard1').classList.add('completed');
                            } else {
                                document.getElementById('phaseCard1').classList.remove('completed');
                            }
                        }
                    </script>
                </div>
            </div>
        </section>

        <!-- Stakeholders Interaction Section -->
        <section id="Stakeholders-Interaction" class="section">
            <div class="container">
                <h2>Stakeholders Interaction</h2>
                <div class="card">
                    <div style="padding: 2rem; line-height: 1.6; color: #34495e;">
                        <p>HearOnly product success will largely depend on meeting regulatory and social requirements, while excelling in the tech space.</p>
                        
                        <style>
                            .power-interest-matrix {
                                margin-top: 2rem;
                                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
                            }
                            .matrix-wrapper {
                                position: relative;
                                padding-left: 60px;
                                padding-bottom: 60px;
                                margin: 2rem 0;
                            }
                            .y-axis-label {
                                position: absolute;
                                left: 0;
                                top: 50%;
                                transform: rotate(-90deg) translateX(-50%);
                                transform-origin: left center;
                                font-weight: 600;
                                color: #666;
                                font-size: 14px;
                                white-space: nowrap;
                            }
                            .y-axis-range {
                                position: absolute;
                                left: 30px;
                                top: 50%;
                                transform: rotate(-90deg) translateX(-50%);
                                transform-origin: left center;
                                color: #999;
                                font-size: 13px;
                                white-space: nowrap;
                            }
                            .x-axis-label {
                                text-align: center;
                                margin-top: 20px;
                                font-weight: 600;
                                color: #666;
                                font-size: 14px;
                            }
                            .x-axis-range {
                                text-align: center;
                                color: #999;
                                font-size: 13px;
                                margin-top: 5px;
                                margin-bottom: 20px;
                            }
                            .matrix-grid {
                                display: grid;
                                grid-template-columns: 1fr 1fr;
                                gap: 0;
                                border: 2px solid #333;
                            }
                            .quadrant {
                                padding: 20px;
                                min-height: 250px;
                                border: 1px solid #ddd;
                            }
                            .quadrant-header {
                                font-size: 1.2em;
                                font-weight: 700;
                                margin-bottom: 15px;
                                color: white;
                                padding: 10px;
                                text-align: center;
                                border-radius: 4px;
                            }
                            .satisfy { background: #000; }
                            .engage { background: #d32f2f; }
                            .monitor { background: #1976d2; }
                            .inform { background: #757575; }
                            .quadrant-content {
                                color: #333;
                                line-height: 1.6;
                            }
                            .quadrant-description {
                                margin-bottom: 15px;
                                font-size: 14px;
                            }
                            .stakeholder-list {
                                list-style: none;
                                padding-left: 0;
                                margin: 0;
                            }
                            .stakeholder-list li {
                                padding-left: 20px;
                                position: relative;
                                margin-bottom: 8px;
                                font-size: 13px;
                            }
                            .stakeholder-list li:before {
                                content: "•";
                                position: absolute;
                                left: 5px;
                                font-weight: bold;
                            }
                            @media (max-width: 768px) {
                                .matrix-grid {
                                    grid-template-columns: 1fr;
                                }
                                .matrix-wrapper {
                                    padding-left: 40px;
                                    padding-bottom: 40px;
                                }
                                .quadrant {
                                    min-height: auto;
                                    padding: 15px;
                                }
                            }
                        </style>

                        <div class="power-interest-matrix">
                            <h3 style="margin-bottom: 1.5rem; color: #2c3e50; font-size: 1.3rem;">Power Interest Matrix</h3>
                            
                            <div class="matrix-wrapper">
                                <div class="y-axis-label">Level of stakeholder interest</div>
                                <div class="y-axis-range">Low to High</div>
                                
                                <div class="matrix-grid">
                                    <!-- Top Left: Satisfy -->
                                    <div class="quadrant">
                                        <div class="quadrant-header satisfy">Satisfy</div>
                                        <div class="quadrant-content">
                                            <p class="quadrant-description">Establish a communication process by providing opportunities to share relevant information or concerns</p>
                                            <ul class="stakeholder-list">
                                                <li>Compliance</li>
                                                <li>Legal</li>
                                                <li>Key strategic partners</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Top Right: Engage -->
                                    <div class="quadrant">
                                        <div class="quadrant-header engage">Engage</div>
                                        <div class="quadrant-content">
                                            <p class="quadrant-description">Closely involved in project decision making process to ensure buy-in and alignment with project goals and objectives</p>
                                            <ul class="stakeholder-list">
                                                <li>Executive Sponsor</li>
                                                <li>Project Steering Committee</li>
                                                <li>Design and Engineering Team</li>
                                                <li>Regulatory Authorities (i.e.; GDPR)</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Bottom Left: Monitor -->
                                    <div class="quadrant">
                                        <div class="quadrant-header monitor">Monitor</div>
                                        <div class="quadrant-content">
                                            <p class="quadrant-description">Create periodical connect points or via general communication</p>
                                            <ul class="stakeholder-list">
                                                <li>External Suppliers</li>
                                                <li>Media and Public Opinion Groups</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Bottom Right: Inform -->
                                    <div class="quadrant">
                                        <div class="quadrant-header inform">Inform</div>
                                        <div class="quadrant-content">
                                            <p class="quadrant-description">Ensure that are kept in the loop and consulted on selected interest areas to meet their need, can be potential supporters</p>
                                            <ul class="stakeholder-list">
                                                <li>Customers</li>
                                                <li>Marketing and Customer Department</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="x-axis-label">Level of stakeholder power/influence</div>
                                <div class="x-axis-range">Low to High</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Organization Chart Section -->
        <section id="Roles" class="section">
            <div class="container">
                <h2>Organization Structure</h2>
                <div class="card">
                    <div class="org-structure-content" style="padding: 2rem;">
                        <div style="display: flex; flex-wrap: wrap; gap: 2rem; align-items: flex-start;">
                            <div style="flex: 1; min-width: 300px;">
                                <div class="org-section" style="margin-bottom: 2rem;">
                                    <h3 style="color: #2c3e50; margin-bottom: 1rem; font-size: 1.3rem;">Strategic Governance</h3>
                                    <p style="line-height: 1.6; color: #34495e; margin-bottom: 1rem;">
                                        Executive Sponsor and the Steering Committee function as the strategic governing body responsible for maintaining alignment between the project's objectives and the organization's innovation strategy.
                                    </p>
                                </div>

                                <div class="org-section" style="margin-bottom: 2rem;">
                                    <h3 style="color: #2c3e50; margin-bottom: 1rem; font-size: 1.3rem;">Project Management Office (PMO)</h3>
                                    <p style="line-height: 1.6; color: #34495e; margin-bottom: 1rem;">
                                        PMO acts as an integrator across all the functions and drives project governance.
                                    </p>
                                </div>

                                <div class="org-section" style="margin-bottom: 2rem;">
                                    <h3 style="color: #2c3e50; margin-bottom: 1rem; font-size: 1.3rem;">Operational Coordination</h3>
                                    <p style="line-height: 1.6; color: #34495e; margin-bottom: 1rem;">
                                        Cross-functional leads representing supply chain, finance, IT, compliance and legal, and marketing/customer experience.
                                    </p>
                                </div>

                                <div class="org-section" style="background-color: #f8f9fa; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #4a6fa5;">
                                    <h4 style="color: #2c3e50; margin-top: 0; margin-bottom: 0.8rem; font-size: 1.1rem;">Governance Framework</h4>
                                    <p style="line-height: 1.6; color: #34495e; margin: 0;">
                                        PMO will prepare a RACI framework, specifying who is "Responsible, Accountable, Consulted and Informed" for the major project tasks and deliverables.
                                    </p>
                                </div>
                            </div>
                            
                            <div style="flex: 1; min-width: 300px; display: flex; align-items: center; justify-content: center; padding: 1rem;">
                                <img src="images/Screenshot 2025-12-08 073806.png" alt="Organization Structure Chart" class="org-chart-img" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); cursor: zoom-in; transition: transform 0.3s ease;">
                            </div>
                            
                            <!-- Image Modal -->
                            <div id="imageModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); z-index: 1000; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box; animation: fadeIn 0.3s ease;">
                                <span style="position: absolute; top: 20px; right: 30px; color: white; font-size: 40px; font-weight: bold; cursor: pointer; text-shadow: 0 0 5px rgba(0,0,0,0.5);">&times;</span>
                                <img id="enlargedImage" style="max-width: 90%; max-height: 90%; object-fit: contain; box-shadow: 0 5px 25px rgba(0,0,0,0.3); border-radius: 4px;">
                            </div>
                            
                            <script>
                            document.addEventListener('DOMContentLoaded', function() {
                                const modal = document.getElementById('imageModal');
                                const modalImg = document.getElementById('enlargedImage');
                                const orgChartImg = document.querySelector('.org-chart-img');
                                const closeBtn = document.querySelector('#imageModal span');
                            
                                // Open modal when clicking the organization chart
                                orgChartImg.addEventListener('click', function() {
                                    modal.style.display = 'flex';
                                    modalImg.src = this.src;
                                    document.body.style.overflow = 'hidden';
                                });
                            
                                // Close modal when clicking the close button
                                closeBtn.addEventListener('click', function() {
                                    modal.style.display = 'none';
                                    document.body.style.overflow = 'auto';
                                });
                            
                                // Close modal when clicking outside the image
                                modal.addEventListener('click', function(e) {
                                    if (e.target === modal) {
                                        modal.style.display = 'none';
                                        document.body.style.overflow = 'auto';
                                    }
                                });
                                
                                // Close with Escape key
                                document.addEventListener('keydown', function(e) {
                                    if (e.key === 'Escape' && modal.style.display === 'flex') {
                                        modal.style.display = 'none';
                                        document.body.style.overflow = 'auto';
                                    }
                                });
                            });
                            </script>
                            
                            <style>
                                @keyframes fadeIn {
                                    from { opacity: 0; }
                                    to { opacity: 1; }
                                }
                                .org-chart-img:hover {
                                    transform: scale(1.02);
                                }
                            </style>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Requirements Section -->
        <section id="requirements" class="section">
            <div class="container">
                <h2>Requirements & Contracting</h2>
                <div class="requirements-container">
                    <div class="contractual-content">
                        <div class="contractual-aspects">
                            <h3>Contractual Aspects</h3>
                            <p>Given the innovative and technically complex nature of the project, relying on a single contract type would not adequately account for the differing levels of risk, uncertainty, and development maturity across components. Therefore, it is advisable to draw on multiple contract types from the four broad categories outlined by Maley (2012), selecting the structure that best aligns with the specific needs and stability of each project phase.</p>
                            
                            <div class="contract-grid">
                                <div class="contract-card">
                                    <h4>AI-driven selective hearing algorithms and sound recognition engine:</h4>
                                    <p>Cost-Reimbursement</p>
                                </div>
                                <div class="contract-card">
                                    <h4>Hardware manufacturing:</h4>
                                    <p>Fixed-Price</p>
                                </div>
                                <div class="contract-card">
                                    <h4>Software Interface, Firmware, and Integration Layers:</h4>
                                    <p>Time-and-Materials</p>
                                </div>
                                <div class="contract-card">
                                    <h4>Distribution and Scaling Activities:</h4>
                                    <p>Indefinite Delivery</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    
                    <style>
                        .requirements-container {
                            display: flex;
                            gap: 2rem;
                            align-items: flex-start;
                        }
                        
                        .contractual-content {
                            flex: 1;
                        }
                        
                        .partnership-content {
                            flex: 1;
                            background: #2d3436;
                            border-radius: 16px;
                            overflow: hidden;
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                            animation: fadeIn 0.6s ease-out;
                        }
                        
                        @keyframes fadeIn {
                            from {
                                opacity: 0;
                                transform: translateY(20px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }
                        
                        .contractual-aspects {
                            margin: 1.5rem 0;
                        }
                        
                        .contract-grid {
                            display: grid;
                            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                            gap: 1.5rem;
                            margin-top: 1.5rem;
                        }
                        
                        .contract-card {
                            background: #f8fafc;
                            border-left: 4px solid #4f46e5;
                            padding: 1.25rem;
                            border-radius: 0.375rem;
                            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
                        }
                        
                        .contract-card h4 {
                            color: #1e40af;
                            margin: 0 0 0.5rem 0;
                            font-size: 0.95rem;
                            font-weight: 600;
                        }
                        
                        .contract-card p {
                            color: #4b5563;
                            margin: 0;
                            font-weight: 500;
                            font-size: 1.1rem;
                        }

                        .partnership-tables {
                            width: 100%;
                        }
                        
                        .partnership-tables .table-header {
                            background: #1a252f;
                            color: white;
                            padding: 1.5rem 2rem;
                            font-size: 1.4rem;
                            font-weight: 700;
                            text-align: center;
                            border-bottom: 3px solid #667eea;
                        }
                        
                        .partnership-tables table {
                            width: 100%;
                            border-collapse: collapse;
                        }
                        
                        .partnership-tables thead th {
                            background: #34495e;
                            color: white;
                            font-weight: 600;
                            text-align: left;
                            padding: 1rem 1.5rem;
                            font-size: 0.95rem;
                            text-transform: uppercase;
                            letter-spacing: 0.05em;
                            border-bottom: 2px solid #4a5568;
                        }
                        
                        .partnership-tables tbody tr {
                            background: #2c3e50;
                            transition: all 0.3s ease;
                            border-bottom: 1px solid #3d5a80;
                        }
                        
                        .partnership-tables tbody tr:hover {
                            background: #3d5a80;
                            transform: translateX(5px);
                        }
                        
                        .partnership-tables tbody td {
                            padding: 1.25rem 1.5rem;
                            color: #ecf0f1;
                            line-height: 1.6;
                            vertical-align: top;
                        }
                        
                        .partnership-tables tbody td:first-child {
                            font-weight: 600;
                            color: #ffd700;
                            width: 25%;
                        }
                        
                        .partnership-tables .highlight {
                            color: #ffd700;
                            font-weight: 700;
                        }
                        
                        @media (max-width: 768px) {
                            .partnership-tables .table-header {
                                padding: 1.25rem 1.5rem;
                                font-size: 1.1rem;
                            }
                            
                            .partnership-tables table,
                            .partnership-tables thead,
                            .partnership-tables tbody,
                            .partnership-tables th,
                            .partnership-tables td,
                            .partnership-tables tr {
                                display: block;
                            }
                            
                            .partnership-tables thead {
                                display: none;
                            }
                            
                            .partnership-tables tbody tr {
                                margin-bottom: 1.5rem;
                                border-radius: 8px;
                                overflow: hidden;
                                border: 2px solid #4a5568;
                            }
                            
                            .partnership-tables tbody td {
                                padding: 1rem;
                                border: none;
                            }
                            
                            .partnership-tables tbody td:first-child {
                                width: 100%;
                                background: #1a252f;
                                font-size: 1.05rem;
                                text-align: center;
                                border-bottom: 2px solid #667eea;
                            }
                            
                            .partnership-tables tbody td:last-child {
                                width: 100%;
                            }
                        }
                        
                        @media (max-width: 1200px) {
                            .requirements-container {
                                flex-direction: column;
                            }
                            
                            .contract-grid {
                                grid-template-columns: 1fr;
                            }
                            
                            .partnership-content {
                                margin-top: 2rem;
                                width: 100%;
                            }
                        }
                    </style>
                </div>
            </div>
        </section>

        <!-- Partners Section -->
        <section id="Partners" class="section">
            <div class="container">
                <h2>Partner vs. In-House Development & Legal Considerations</h2>
                <div class="development-grid">
                    <!-- In-House Development -->
                    <div class="section-card" id="inhouse" onclick="toggleSection('inhouse')">
                        <div class="section-header">
                            <div class="section-icon">🏢</div>
                            <div class="section-title">
                                <h3>In-House Development</h3>
                                <span class="subtitle">Core Innovation & Internal Control</span>
                            </div>
                            <div class="expand-icon">▼</div>
                        </div>

                        <div class="section-content">
                            <div class="content-block">
                                <h4><span class="emoji">💡</span> Core Innovation (Internal)</h4>
                                <div class="content-box">
                                    <ul class="content-list">
                                        <li>AI-driven selective hearing engine</li>
                                        <li>Adaptive filtering algorithms</li>
                                        <li>UX design</li>
                                        <li>Data governance</li>
                                        <li>Software integration</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="content-block">
                                <h4><span class="emoji">🎯</span> Strategic Benefits</h4>
                                <ul class="content-list">
                                    <li>Maintains control of intellectual property</li>
                                    <li>Protects user trust and privacy</li>
                                    <li>Enables continuous improvement through internal testing</li>
                                    <li>Leverages stakeholder feedback directly</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- External Partnerships -->
                    <div class="section-card external" id="external" onclick="toggleSection('external')">
                        <div class="section-header">
                            <div class="section-icon">🤝</div>
                            <div class="section-title">
                                <h3>External Partnerships</h3>
                                <span class="subtitle">Outsourced & Consultant Services</span>
                            </div>
                            <div class="expand-icon">▼</div>
                        </div>

                        <div class="section-content">
                            <div class="content-block">
                                <h4><span class="emoji">🏭</span> Outsourced Services</h4>
                                <div class="content-box">
                                    <ul class="content-list">
                                        <li>Hardware manufacturing</li>
                                        <li>Acoustic component sourcing</li>
                                        <li>Global distribution</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="content-block">
                                <h4><span class="emoji">👥</span> External Consultants</h4>
                                <div class="content-box">
                                    <ul class="content-list">
                                        <li>Acoustic compliance testing</li>
                                        <li>Performance calibration</li>
                                        <li>Regulatory certification</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="content-block">
                                <h4><span class="emoji">✨</span> Partnership Advantages</h4>
                                <ul class="content-list">
                                    <li>Flexibility in scaling operations</li>
                                    <li>Operational efficiency gains</li>
                                    <li>Risk reduction through specialization</li>
                                    <li>Alignment with stage-gate governance</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Legal Considerations -->
                <div class="legal-section" id="legal" onclick="toggleSection('legal')">
                    <div class="legal-header">
                        <div class="legal-icon">⚖️</div>
                        <div class="legal-title">
                            <h3>Legal Considerations</h3>
                            <span class="subtitle">Compliance, Protection & Risk Management</span>
                        </div>
                        <div class="expand-icon">▼</div>
                    </div>

                    <div class="legal-content">
                        <div class="quote-box">
                            <div class="source">PMI (2021):</div>
                            <div class="text">"Regulatory agencies or statutes may require specific planning documents before granting permission to proceed or before releasing the project deliverable into the market."</div>
                        </div>

                        <div class="legal-grid">
                            <div class="legal-box">
                                <h4>🔐 Key Priorities</h4>
                                <ul>
                                    <li>Patent selective-hearing technology</li>
                                    <li>Ensure GDPR-aligned data privacy</li>
                                    <li>Secure consumer-safety compliance</li>
                                </ul>
                            </div>

                            <div class="legal-box">
                                <h4>🛡️ Asset Protection</h4>
                                <ul>
                                    <li>Trademark HearOnly</li>
                                    <li>Copyright firmware</li>
                                    <li>Copyright UI designs</li>
                                    <li>Copyright training data</li>
                                </ul>
                            </div>
                        </div>

                        <div class="content-block" style="margin-top: 1.5rem;">
                            <div class="content-box" style="border-left-color: #f59e0b;">
                                <h4 style="color: #78350f; margin-bottom: 0.75rem;">📋 Partner Contract Requirements</h4>
                                <p style="color: #92400e; line-height: 1.6; margin-bottom: 0.5rem;">
                                    All partner contracts must include the following clauses to safeguard proprietary methods and prevent unauthorized sharing:
                                </p>
                                <ul class="content-list" style="margin-top: 0.75rem;">
                                    <li style="color: #92400e;">Non-Disclosure Agreements (NDAs)</li>
                                    <li style="color: #92400e;">Licensing restrictions</li>
                                    <li style="color: #92400e;">Confidentiality clauses</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <style>
                .development-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 2rem;
                    margin: 2rem 0;
                }

                .section-card {
                    background: #f8fafc;
                    border-radius: 16px;
                    padding: 2rem;
                    border: 2px solid #e0e7ff;
                    transition: all 0.3s ease;
                    cursor: pointer;
                }

                .section-card:hover {
                    border-color: #667eea;
                    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.2);
                    transform: translateY(-4px);
                }

                .section-header {
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                    margin-bottom: 1.5rem;
                }

                .section-icon {
                    width: 50px;
                    height: 50px;
                    background: #667eea;
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                    color: white;
                }

                .section-card.external .section-icon {
                    background: #764ba2;
                }

                .section-title h3 {
                    font-size: 1.4rem;
                    color: #1f2933;
                    margin-bottom: 0.25rem;
                }

                .subtitle {
                    font-size: 0.85rem;
                    color: #78909c;
                    font-weight: 500;
                }

                .section-content {
                    max-height: 0;
                    overflow: hidden;
                    transition: max-height 0.5s ease;
                }

                .section-card.expanded .section-content {
                    max-height: 1000px;
                }

                .content-block {
                    margin-bottom: 1.5rem;
                }

                .content-box {
                    background: white;
                    border-radius: 8px;
                    padding: 1.2rem;
                    margin-top: 1rem;
                    border-left: 4px solid #667eea;
                }

                .content-list {
                    list-style: none;
                    padding: 0;
                }

                .content-list li {
                    padding: 0.6rem 0;
                    padding-left: 1.5rem;
                    position: relative;
                    color: #546e7a;
                    line-height: 1.6;
                }

                .content-list li::before {
                    content: "•";
                    position: absolute;
                    left: 0;
                    color: #667eea;
                    font-weight: bold;
                }

                .legal-section {
                    background: #fef3c7;
                    border-radius: 16px;
                    padding: 2rem;
                    border: 2px solid #fbbf24;
                    margin-top: 2rem;
                    cursor: pointer;
                }

                .legal-header {
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                }

                .legal-icon {
                    width: 50px;
                    height: 50px;
                    background: #f59e0b;
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                    color: white;
                }

                .legal-title h3 {
                    font-size: 1.4rem;
                    color: #78350f;
                    margin-bottom: 0.25rem;
                }

                .legal-content {
                    max-height: 0;
                    overflow: hidden;
                    transition: max-height 0.5s ease;
                }

                .legal-section.expanded .legal-content {
                    max-height: 2000px;
                }

                .quote-box {
                    background: white;
                    border-left: 4px solid #f59e0b;
                    padding: 1.2rem;
                    margin: 1.5rem 0;
                    border-radius: 8px;
                }

                .source {
                    font-weight: 600;
                    color: #92400e;
                    margin-bottom: 0.5rem;
                }

                .quote-box .text {
                    color: #78350f;
                    font-style: italic;
                    line-height: 1.6;
                }

                .legal-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 1.5rem;
                    margin: 1.5rem 0;
                }

                .legal-box {
                    background: white;
                    padding: 1.2rem;
                    border-radius: 8px;
                    border: 1px solid #fbbf24;
                }

                .legal-box h4 {
                    color: #78350f;
                    font-size: 1.1rem;
                    margin-bottom: 0.75rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                }

                .legal-box ul {
                    list-style: none;
                    padding: 0;
                }

                .legal-box li {
                    padding: 0.4rem 0;
                    padding-left: 1.3rem;
                    position: relative;
                    color: #92400e;
                    font-size: 0.95rem;
                    line-height: 1.5;
                }

                .legal-box li::before {
                    content: "✓";
                    position: absolute;
                    left: 0;
                    color: #f59e0b;
                    font-weight: bold;
                }

                @media (max-width: 900px) {
                    .development-grid {
                        grid-template-columns: 1fr;
                    }

                    .legal-grid {
                        grid-template-columns: 1fr;
                    }
                }
            </style>
            
            <script>
                function toggleSection(sectionId) {
                    const section = document.getElementById(sectionId);
                    section.classList.toggle('expanded');
                }

                // All sections start collapsed by default
                document.addEventListener('DOMContentLoaded', () => {
                    // No sections are expanded by default
                });
            </script>
        </section>

        <!-- Relationships Section -->
        <section id="Relationships" class="section">
            <div class="container">
                <h2>Internal and External Relationships</h2>
                <div class="relationships-container">
                    <div class="controls">
                        <button class="control-btn" onclick="expandAllRelationships()">▼ Expand All</button>
                        <button class="control-btn" onclick="collapseAllRelationships()">▲ Collapse All</button>
                    </div>
                    
                    <!-- Internal Collaboration Section -->
                    <div class="relationship-section" id="section1">
                        <div class="section-header" onclick="toggleRelationshipSection('section1')">
                            <div class="section-icon">🏢</div>
                            <div class="section-title">
                                <h3>Internal Collaboration</h3>
                                <span class="subtitle">Strong Communication Across Teams</span>
                            </div>
                            <div class="collapse-icon">▼</div>
                        </div>

                        <div class="section-content-wrapper">
                            <div class="content-block">
                                <p>Success depends on strong communication and coordination across engineering, design, marketing, and legal teams.</p>
                            </div>

                            <div class="teams-list">
                                <div class="team-item">
                                    <div class="team-item-icon">⚙️</div>
                                    <div class="team-item-info">
                                        <h4>Engineering</h4>
                                        <p>Technical development, system architecture, and quality assurance</p>
                                    </div>
                                </div>

                                <div class="team-item">
                                    <div class="team-item-icon">🎨</div>
                                    <div class="team-item-info">
                                        <h4>Design</h4>
                                        <p>User experience, interface design, and product aesthetics</p>
                                    </div>
                                </div>

                                <div class="team-item">
                                    <div class="team-item-icon">📢</div>
                                    <div class="team-item-info">
                                        <h4>Marketing</h4>
                                        <p>Brand strategy, market positioning, and customer engagement</p>
                                    </div>
                                </div>

                                <div class="team-item">
                                    <div class="team-item-icon">⚖️</div>
                                    <div class="team-item-info">
                                        <h4>Legal</h4>
                                        <p>Compliance, intellectual property, and risk management</p>
                                    </div>
                                </div>
                            </div>

                            <div class="trust-benefits">
                                <h4>🤝 Culture Built on Trust</h4>
                                
                                <div class="quote-box">
                                    <div class="source">Hagel (2018):</div>
                                    <div class="text">
                                        Environments grounded in trust "encourage more productive friction while minimizing the types of friction that might make workgroup members hesitant to challenge and interact."
                                    </div>
                                </div>

                                <div class="benefits-list">
                                    <div class="benefit-item">
                                        <div class="icon">💡</div>
                                        <div class="text">
                                            <strong>Question Assumptions:</strong> Teams feel safe to challenge existing ideas and processes
                                        </div>
                                    </div>
                                    <div class="benefit-item">
                                        <div class="icon">🌈</div>
                                        <div class="text">
                                            <strong>Diverse Perspectives:</strong> Multiple viewpoints strengthen problem-solving
                                        </div>
                                    </div>
                                    <div class="benefit-item">
                                        <div class="icon">🔧</div>
                                        <div class="text">
                                            <strong>Refine Ideas:</strong> Healthy friction enables continuous improvement
                                        </div>
                                    </div>
                                    <div class="benefit-item">
                                        <div class="icon">🚫</div>
                                        <div class="text">
                                            <strong>Prevent Silos:</strong> Open communication breaks down departmental barriers
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- External Collaboration Section -->
                    <div class="relationship-section" id="section2">
                        <div class="section-header" onclick="toggleRelationshipSection('section2')">
                            <div class="section-icon">🤝</div>
                            <div class="section-title">
                                <h3>External Collaboration</h3>
                                <span class="subtitle">Strategic Partnerships & Governance</span>
                            </div>
                            <div class="collapse-icon">▼</div>
                        </div>

                        <div class="section-content-wrapper">
                            <div class="content-block">
                                <p>Maintaining open collaboration with external partners (suppliers, research partners, compliance experts, and investors) is essential to reducing risk and sustaining long-term alignment.</p>
                            </div>

                            <div class="partners-grid">
                                <div class="partner-item">
                                    <div class="icon">🏭</div>
                                    <h4>Suppliers</h4>
                                    <p>Hardware components and materials sourcing</p>
                                </div>

                                <div class="partner-item">
                                    <div class="icon">🔬</div>
                                    <h4>Research Partners</h4>
                                    <p>Academic institutions and R&D collaboration</p>
                                </div>

                                <div class="partner-item">
                                    <div class="icon">✅</div>
                                    <h4>Compliance Experts</h4>
                                    <p>Regulatory certification and testing</p>
                                </div>

                                <div class="partner-item">
                                    <div class="icon">💰</div>
                                    <h4>Investors</h4>
                                    <p>Financial backing and strategic guidance</p>
                                </div>
                            </div>

                            <div class="governance-box">
                                <h4>🔗 Shared Governance Frameworks</h4>
                                <p>Clear communication and shared governance frameworks help prevent misunderstandings and ensure expectations are synchronized.</p>
                                <ul class="governance-list">
                                    <li>
                                        <span class="icon">📋</span>
                                        Clear communication protocols and regular status updates
                                    </li>
                                    <li>
                                        <span class="icon">🎯</span>
                                        Aligned objectives and synchronized expectations
                                    </li>
                                    <li>
                                        <span class="icon">⚠️</span>
                                        Risk assessment and mitigation strategies
                                    </li>
                                    <li>
                                        <span class="icon">📊</span>
                                        Performance metrics and accountability measures
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Stakeholder Engagement Section -->
                    <div class="relationship-section" id="section3">
                        <div class="section-header" onclick="toggleRelationshipSection('section3')">
                            <div class="section-icon">📊</div>
                            <div class="section-title">
                                <h3>The Importance of Strong Stakeholder Engagement</h3>
                                <span class="subtitle">Learning from the F-35 Jet Project</span>
                            </div>
                            <div class="collapse-icon">▼</div>
                        </div>

                        <div class="section-content-wrapper">
                            <div class="case-study">
                                <h4>⚠️ Case Study: F-35 Jet Project</h4>
                                
                                <div class="case-study-content">
                                    <p>
                                        The F-35 Jet Project demonstrates the risks of weak stakeholder communication where unclear reporting on costs led to misaligned procurement decisions and unrealistic delivery expectations.
                                    </p>
                                </div>

                                <div class="lessons-grid">
                                    <div class="lesson-item">
                                        <h5>❌ Poor Communication</h5>
                                        <p>Unclear cost reporting created information gaps between stakeholders</p>
                                    </div>
                                    <div class="lesson-item">
                                        <h5>🎯 Misaligned Decisions</h5>
                                        <p>Procurement choices made without complete financial visibility</p>
                                    </div>
                                    <div class="lesson-item">
                                        <h5>📅 Unrealistic Expectations</h5>
                                        <p>Delivery timelines set without stakeholder consensus</p>
                                    </div>
                                    <div class="lesson-item">
                                        <h5>💸 Budget Overruns</h5>
                                        <p>Cost escalation due to lack of transparent tracking</p>
                                    </div>
                                </div>

                                <div class="key-quote">
                                    <div class="source">Maley (2012):</div>
                                    <div class="text">
                                        "Stakeholders are not confined to the internal performing organization," reinforcing that leaders must continuously engage and inform all parties who influence project outcomes.
                                    </div>
                                </div>

                                <div class="takeaways">
                                    <h5>✅ Key Takeaways for HearOnly</h5>
                                    <ul class="governance-list">
                                        <li>
                                            <span class="icon">📢</span>
                                            Maintain transparent and frequent communication with all stakeholders
                                        </li>
                                        <li>
                                            <span class="icon">📊</span>
                                            Provide clear, accurate reporting on project costs and progress
                                        </li>
                                        <li>
                                            <span class="icon">🤝</span>
                                            Engage both internal and external stakeholders continuously
                                        </li>
                                        <li>
                                            <span class="icon">🎯</span>
                                            Align expectations across all parties before major decisions
                                        </li>
                                        <li>
                                            <span class="icon">⚖️</span>
                                            Recognize that all parties influencing outcomes are stakeholders
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <style>
                .relationships-container {
                    max-width: 1200px;
                    margin: 0 auto;
                    padding: 1rem;
                }

                .controls {
                    display: flex;
                    gap: 0.75rem;
                    justify-content: center;
                    margin: 1.5rem 0;
                    padding-bottom: 1rem;
                    border-bottom: 2px solid #e0e7ff;
                }

                .control-btn {
                    padding: 0.6rem 1.2rem;
                    background: #667eea;
                    color: white;
                    border: none;
                    border-radius: 8px;
                    font-size: 0.85rem;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s ease;
                }

                .control-btn:hover {
                    background: #5568d3;
                    transform: translateY(-2px);
                    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
                }

                /* Section Styling */
                .relationship-section {
                    margin-bottom: 1.25rem;
                    border: 2px solid #e0e7ff;
                    border-radius: 12px;
                    overflow: hidden;
                    transition: all 0.3s ease;
                }

                .relationship-section:last-child {
                    margin-bottom: 0;
                }

                .section-header {
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                    padding: 0.75rem 1rem;
                    border-bottom: 2px solid #e0e7ff;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    background: white;
                    user-select: none;
                }

                .section-header:hover {
                    background: #f8fafc;
                }

                .relationship-section.collapsed .section-header {
                    border-bottom: none;
                }

                .section-content-wrapper {
                    max-height: 5000px;
                    overflow: hidden;
                    transition: max-height 0.5s ease, padding 0.3s ease;
                    padding: 1rem;
                }

                .relationship-section.collapsed .section-content-wrapper {
                    max-height: 0;
                    padding: 0 1rem;
                }

                .collapse-icon {
                    margin-left: auto;
                    font-size: 1.2rem;
                    transition: transform 0.3s ease;
                    color: #667eea;
                }

                .relationship-section.collapsed .collapse-icon {
                    transform: rotate(-90deg);
                }

                .section-icon {
                    width: 45px;
                    height: 45px;
                    background: #667eea;
                    border-radius: 10px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                    color: white;
                    flex-shrink: 0;
                }

                .section-title h3 {
                    font-size: 1.3rem;
                    color: #1f2933;
                    margin-bottom: 0.15rem;
                }

                .section-title .subtitle {
                    font-size: 0.85rem;
                    color: #78909c;
                }

                /* Content Blocks */
                .content-block {
                    background: #f8fafc;
                    border-radius: 8px;
                    padding: 1rem;
                    margin-bottom: 1rem;
                    border-left: 3px solid #667eea;
                }

                .content-block p {
                    color: #546e7a;
                    line-height: 1.5;
                    margin-bottom: 0;
                    font-size: 0.9rem;
                }

                /* Teams Grid */
                .teams-list {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 0.75rem;
                    margin-bottom: 1rem;
                }

                .team-item {
                    background: white;
                    border: 2px solid #e0e7ff;
                    border-radius: 10px;
                    padding: 0.9rem;
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                }

                .team-item-icon {
                    width: 40px;
                    height: 40px;
                    background: #667eea;
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.2rem;
                    flex-shrink: 0;
                }

                .team-item-info h4 {
                    font-size: 0.95rem;
                    color: #1f2933;
                    margin-bottom: 0.2rem;
                }

                .team-item-info p {
                    font-size: 0.8rem;
                    color: #78909c;
                    line-height: 1.3;
                }

                /* Quote Boxes */
                .quote-box {
                    background: #e8f5e9;
                    border-left: 3px solid #4caf50;
                    padding: 1rem;
                    margin: 1rem 0;
                    border-radius: 6px;
                }

                .quote-box .source {
                    font-weight: 700;
                    color: #2e7d32;
                    margin-bottom: 0.5rem;
                    font-size: 0.85rem;
                }

                .quote-box .text {
                    color: #1b5e20;
                    font-style: italic;
                    line-height: 1.5;
                    font-size: 0.85rem;
                }

                /* Trust Benefits */
                .trust-benefits {
                    background: #e8f5e9;
                    border-radius: 10px;
                    padding: 1rem;
                    border: 2px solid #4caf50;
                    margin: 1.5rem 0;
                }

                .trust-benefits h4 {
                    color: #1b5e20;
                    font-size: 1.05rem;
                    margin-bottom: 0.75rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                }

                .benefits-list {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 0.75rem;
                }

                .benefit-item {
                    background: white;
                    padding: 0.75rem;
                    border-radius: 6px;
                    display: flex;
                    gap: 0.6rem;
                }

                .benefit-item .icon {
                    font-size: 1.2rem;
                    flex-shrink: 0;
                }

                .benefit-item .text {
                    color: #2e7d32;
                    font-size: 0.8rem;
                    line-height: 1.4;
                }

                /* External Partners */
                .partners-grid {
                    display: grid;
                    grid-template-columns: repeat(4, 1fr);
                    gap: 0.75rem;
                    margin-bottom: 1.5rem;
                }

                .partner-item {
                    background: white;
                    border: 2px solid #e0e7ff;
                    border-radius: 10px;
                    padding: 1rem;
                    text-align: center;
                }

                .partner-item .icon {
                    font-size: 2rem;
                    margin-bottom: 0.5rem;
                }

                .partner-item h4 {
                    font-size: 0.9rem;
                    color: #1f2933;
                    margin-bottom: 0.4rem;
                }

                .partner-item p {
                    font-size: 0.8rem;
                    color: #78909c;
                    line-height: 1.3;
                }

                /* Governance Box */
                .governance-box {
                    background: #e8eaf6;
                    border-radius: 10px;
                    padding: 1rem;
                    border: 2px solid #667eea;
                    margin: 1.5rem 0;
                }

                .governance-box h4 {
                    color: #3949ab;
                    font-size: 1.05rem;
                    margin-bottom: 0.75rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                }

                .governance-list {
                    list-style: none;
                    padding: 0;
                }

                .governance-list li {
                    padding: 0.6rem;
                    margin: 0.4rem 0;
                    background: white;
                    border-radius: 6px;
                    display: flex;
                    align-items: center;
                    gap: 0.6rem;
                    color: #3949ab;
                    font-size: 0.85rem;
                }

                .governance-list li .icon {
                    font-size: 1rem;
                    flex-shrink: 0;
                }

                /* Case Study */
                .case-study {
                    background: #ffebee;
                    border-radius: 10px;
                    padding: 1rem;
                    border: 2px solid #ef5350;
                }

                .case-study h4 {
                    color: #c62828;
                    font-size: 1.15rem;
                    margin-bottom: 0.75rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                }

                .case-study-content {
                    background: white;
                    border-radius: 6px;
                    padding: 1rem;
                    margin-bottom: 0.75rem;
                }

                .case-study-content p {
                    color: #d32f2f;
                    line-height: 1.5;
                    font-size: 0.85rem;
                }

                .lessons-grid {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 0.75rem;
                    margin: 0.75rem 0;
                }

                .lesson-item {
                    background: white;
                    padding: 0.75rem;
                    border-radius: 6px;
                    border-left: 3px solid #ef5350;
                }

                .lesson-item h5 {
                    color: #c62828;
                    font-size: 0.85rem;
                    margin-bottom: 0.4rem;
                }

                .lesson-item p {
                    color: #d32f2f;
                    font-size: 0.8rem;
                    line-height: 1.3;
                }

                .key-quote {
                    background: white;
                    border-left: 3px solid #ef5350;
                    padding: 1rem;
                    border-radius: 6px;
                    margin: 0.75rem 0;
                }

                .key-quote .source {
                    font-weight: 700;
                    color: #c62828;
                    margin-bottom: 0.4rem;
                    font-size: 0.85rem;
                }

                .key-quote .text {
                    color: #d32f2f;
                    font-style: italic;
                    line-height: 1.5;
                    font-size: 0.85rem;
                }

                .takeaways {
                    background: white;
                    border-radius: 6px;
                    padding: 1rem;
                    margin-top: 1rem;
                }

                .takeaways h5 {
                    color: #c62828;
                    font-size: 1rem;
                    margin-bottom: 0.75rem;
                }

                /* Responsive Design */
                @media (max-width: 900px) {
                    .teams-list,
                    .benefits-list,
                    .lessons-grid {
                        grid-template-columns: 1fr;
                    }

                    .partners-grid {
                        grid-template-columns: repeat(2, 1fr);
                    }

                    .controls {
                        flex-direction: column;
                        gap: 0.5rem;
                    }

                    .control-btn {
                        width: 100%;
                    }
                }

                @media (max-width: 600px) {
                    .relationships-container {
                        padding: 0.5rem;
                    }

                    .partners-grid {
                        grid-template-columns: 1fr;
                    }

                    .section-header {
                        flex-wrap: wrap;
                        gap: 0.5rem;
                        padding: 0.6rem 0.75rem;
                    }

                    .section-icon {
                        width: 35px;
                        height: 35px;
                        font-size: 1.2rem;
                    }

                    .section-title h3 {
                        font-size: 1.05rem;
                    }

                    .section-title .subtitle {
                        font-size: 0.75rem;
                    }

                    .collapse-icon {
                        font-size: 1rem;
                    }
                }
            </style>

            <script>
                function toggleRelationshipSection(sectionId) {
                    const section = document.getElementById(sectionId);
                    section.classList.toggle('collapsed');
                }

                function expandAllRelationships() {
                    document.querySelectorAll('.relationship-section').forEach(section => {
                        section.classList.remove('collapsed');
                    });
                }

                function collapseAllRelationships() {
                    document.querySelectorAll('.relationship-section').forEach(section => {
                        section.classList.add('collapsed');
                    });
                }

                // Collapse all sections by default on page load
                document.addEventListener('DOMContentLoaded', () => {
                    document.querySelectorAll('.relationship-section').forEach(section => {
                        section.classList.add('collapsed');
                    });
                });
            </script>
        </section>

        <!-- Schedules Section -->
        <section id="schedules" class="section">
            <div class="container">
                <h2>Schedules & Integration</h2>
                <div class="card">
                    <div class="schedules-container">
                        <div class="roadmap-content">
                            <p>Project Roadmap serves as a strategic guide to support alignment, transparency and overall governance across all phases of the project lifecycles.</p>
                            
                            <div class="key-principles">
                                <h4>Key principles:</h4>
                                <ul>
                                    <li><strong>Phased Implementation:</strong> Divided into five structured stages with milestone gates.</li>
                                    <li><strong>Deliverable Ownership:</strong> Every roadmap item linked to a WBS work package and accountable owner.</li>
                                    <li><strong>Decision Points:</strong> Stage-gate reviews at the end of each phase to validate readiness, budget, and risk.</li>
                                    <li><strong>Measurement Integration:</strong> Agile metrics.</li>
                                    <li><strong>Feedback Loops:</strong> Continuous review of design assumptions and stakeholder expectations.</li>
                                </ul>
                            </div>
                            
                            <div class="wbs-info">
                                <p><strong>Work Breakdown Structure (WBS)</strong> provides a hierarchical decomposition of all major project deliverables required to achieve the project's objectives.</p>
                            </div>
                        </div>

                        <div class="project-levels-diagram">
                            <div class="project-diagram">
                                <!-- Level 1 -->
                                <div class="level-row level-1">
                                    <div class="level-label">LEVEL 1</div>
                                    <div class="level-content">
                                        <div class="level-1-title">Deliver and Scale AI enabled noise cancellation headphones</div>
                                    </div>
                                </div>

                                <!-- Level 2 -->
                                <div class="level-row level-2">
                                    <div class="level-label">LEVEL 2</div>
                                    <div class="level-content">
                                        <div class="phase-grid">
                                            <div class="phase-box">
                                                <span class="phase-number">1.</span> Initiation and Requirements Gathering
                                            </div>
                                            <div class="phase-box">
                                                <span class="phase-number">2.</span> System Design and Development
                                            </div>
                                            <div class="phase-box">
                                                <span class="phase-number">3.</span> Testing and Validation
                                            </div>
                                            <div class="phase-box">
                                                <span class="phase-number">4.</span> Deployment and Transition
                                            </div>
                                            <div class="phase-box">
                                                <span class="phase-number">5.</span> Scaling and Optimization
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Level 3 -->
                                <div class="level-row level-3">
                                    <div class="level-label">LEVEL 3</div>
                                    <div class="level-content">
                                        <div class="tasks-grid">
                                            <!-- Column 1 -->
                                            <div class="task-column">
                                                <div class="task-box">1.1. Define Project Governance Framework</div>
                                                <div class="task-box">1.2. Identify Stakeholders</div>
                                                <div class="task-box">1.3. Finalize requirements</div>
                                                <div class="task-box">1.4. Approve Baseline Costs and Estimates</div>
                                                <div class="task-box">1.5. Project Charter Sign-Off <span class="gate-tag">(Gate 01)</span></div>
                                            </div>

                                            <!-- Column 2 -->
                                            <div class="task-column">
                                                <div class="task-box">2.1. AI Algorithm and Model Planning</div>
                                                <div class="task-box">2.2. Hardware Interface Design</div>
                                                <div class="task-box">2.3. Test Plan Definition</div>
                                                <div class="task-box">2.4. Finalize Testing Acceptance Criteria</div>
                                                <div class="task-box">2.5. Design Approval <span class="gate-tag">(Gate 02)</span></div>
                                            </div>

                                            <!-- Column 3 -->
                                            <div class="task-column">
                                                <div class="task-box">3.1. Perform acoustic and software testing</div>
                                                <div class="task-box">3.2. Execute User Acceptance Testing</div>
                                                <div class="task-box">3.3. Independent Audit of Testing results against KPIs</div>
                                                <div class="task-box">3.4. Testing Validation and Approval <span class="gate-tag">(Gate 03)</span></div>
                                                <div class="task-box">3.5. Prototype release <span class="gate-tag">(Gate 04)</span></div>
                                            </div>

                                            <!-- Column 4 -->
                                            <div class="task-column">
                                                <div class="task-box">4.1. Pilot deployment based on prototype</div>
                                                <div class="task-box">4.2. Market launch readiness</div>
                                                <div class="task-box">4.3. Complete user training documentation</div>
                                                <div class="task-box">4.4. Go-Live Readiness Assessment <span class="gate-tag">(Gate 05)</span></div>
                                                <div class="task-box">4.5. Post-Launch Monitoring</div>
                                            </div>

                                            <!-- Column 5 -->
                                            <div class="task-column">
                                                <div class="task-box">5.1. Post Launch Analytics Dashboard</div>
                                                <div class="task-box">5.2. Continuous Improvement Loop</div>
                                                <div class="task-box">5.3. Predictive Analytics Implementation</div>
                                                <div class="task-box">5.4. Post Implementation Reviews and lessons learnt</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <style>
                        .schedules-container {
                            display: flex;
                            gap: 2rem;
                        }

                        .roadmap-content {
                            line-height: 1.6;
                            color: #333;
                            flex: 1;
                        }
                        
                        .roadmap-content p {
                            margin-bottom: 1.25rem;
                        }
                        
                        .key-principles {
                            background-color: #f8f9fa;
                            border-left: 4px solid #4f46e5;
                            padding: 1.25rem;
                            margin: 1.5rem 0;
                            border-radius: 0 0.375rem 0.375rem 0;
                        }
                        
                        .key-principles h4 {
                            margin-top: 0;
                            color: #2d3748;
                            font-size: 1.1rem;
                            margin-bottom: 0.75rem;
                        }
                        
                        .key-principles ul {
                            padding-left: 1.5rem;
                            margin: 0;
                        }
                        
                        .key-principles li {
                            margin-bottom: 0.5rem;
                        }
                        
                        .wbs-info {
                            background-color: #f0f9ff;
                            border: 1px solid #bae6fd;
                            padding: 1rem 1.25rem;
                            border-radius: 0.375rem;
                            margin-top: 1.5rem;
                        }
                        
                        .wbs-info p {
                            margin: 0;
                            color: #0369a1;
                        }

                        /* Project Levels Diagram Styles */
                        .project-levels-diagram {
                            flex: 2;
                            background: white;
                            border-radius: 16px;
                            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                            overflow: hidden;
                            min-width: 0; /* Prevents flex items from overflowing */
                        }

                        .project-diagram {
                            width: 100%;
                            height: 100%;
                        }

                        .level-row {
                            display: grid;
                            grid-template-columns: 120px 1fr;
                            border-bottom: 2px solid #e0e0e0;
                        }

                        .level-row:last-child {
                            border-bottom: none;
                        }

                        .level-label {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-weight: 700;
                            font-size: 1.1rem;
                            color: white;
                            padding: 1.5rem 0.75rem;
                            text-align: center;
                        }

                        .level-1 .level-label {
                            background: linear-gradient(135deg, #000000 0%, #2d3436 100%);
                        }

                        .level-2 .level-label {
                            background: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%);
                        }

                        .level-3 .level-label {
                            background: linear-gradient(135deg, #7f8c8d 0%, #95a5a6 100%);
                        }

                        .level-content {
                            padding: 1rem;
                        }

                        .level-1 .level-content {
                            background: #000;
                            color: white;
                            padding: 1.5rem;
                        }

                        .level-1-title {
                            font-size: 1.3rem;
                            font-weight: 600;
                            text-align: center;
                            margin: 0;
                        }

                        .phase-grid {
                            display: grid;
                            grid-template-columns: repeat(5, 1fr);
                            gap: 0.75rem;
                        }

                        .phase-box {
                            background: #c0392b;
                            color: white;
                            padding: 1rem 0.5rem;
                            border-radius: 6px;
                            text-align: center;
                            font-weight: 600;
                            font-size: 0.85rem;
                            line-height: 1.3;
                            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
                        }

                        .phase-number {
                            display: block;
                            margin-bottom: 0.25rem;
                            font-weight: 700;
                        }

                        .tasks-grid {
                            display: grid;
                            grid-template-columns: repeat(5, 1fr);
                            gap: 0.5rem;
                        }

                        .task-column {
                            display: flex;
                            flex-direction: column;
                            gap: 0.5rem;
                        }

                        .task-box {
                            background: #95a5a6;
                            color: white;
                            padding: 0.75rem 0.5rem;
                            border-radius: 4px;
                            font-size: 0.75rem;
                            line-height: 1.3;
                            text-align: center;
                            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
                        }

                        .gate-tag {
                            display: inline-block;
                            background: rgba(255, 255, 255, 0.2);
                            padding: 0.1rem 0.3rem;
                            border-radius: 3px;
                            font-size: 0.7rem;
                            margin-top: 0.25rem;
                        }

                        @media (max-width: 1400px) {
                            .phase-grid,
                            .tasks-grid {
                                grid-template-columns: repeat(3, 1fr);
                            }
                            
                            .schedules-container {
                                flex-direction: column;
                            }
                            
                            .project-levels-diagram {
                                margin-top: 2rem;
                            }
                        }

                        @media (max-width: 900px) {
                            .phase-grid,
                            .tasks-grid {
                                grid-template-columns: repeat(2, 1fr);
                            }
                            
                            .level-label {
                                padding: 1rem 0.5rem;
                                font-size: 1rem;
                            }
                        }

                        @media (max-width: 600px) {
                            .phase-grid,
                            .tasks-grid {
                                grid-template-columns: 1fr;
                            }
                            
                            .level-1-title {
                                font-size: 1.1rem;
                            }
                            
                            .phase-box {
                                font-size: 0.8rem;
                                padding: 0.75rem 0.25rem;
                            }
                            
                            .task-box {
                                font-size: 0.7rem;
                                padding: 0.6rem 0.25rem;
                            }
                            
                            .level-row {
                                grid-template-columns: 80px 1fr;
                            }
                            
                            .level-label {
                                font-size: 0.9rem;
                                padding: 0.75rem 0.25rem;
                            }
                        }
                    </style>
                </div>
            </div>
        </section>

        <!-- Budget & Reserves Section -->
        <section id="budget" class="section">
            <div class="container">
                <h2>Budget & Reserves</h2>
                <div class="card">
                    <div class="budget-content">
                        <p>Budget phasing will follow milestone-based funding releases tied to defined deliverables.</p>
                        
                        <div class="budget-highlight">
                            <h4>Contingency Reserve: 10% of Total Project Costs</h4>
                            <p>The amount should cover identified technical or schedule risks and it provides flexibility for unforeseen strategic adjustments.</p>
                        </div>

                        <div class="budget-table" style="margin-top: 2rem; overflow-x: auto;">
                            <style>
                                .budget-table table {
                                    width: 100%;
                                    border-collapse: collapse;
                                    margin: 1.5rem 0;
                                    font-size: 0.9rem;
                                }
                                .budget-table th {
                                    background: #c41e1e;
                                    color: white;
                                    font-weight: 600;
                                    padding: 12px;
                                    text-align: left;
                                    border-right: 1px solid rgba(255, 255, 255, 0.1);
                                }
                                .budget-table th:last-child {
                                    border-right: none;
                                }
                                .budget-table td {
                                    padding: 12px;
                                    border-bottom: 1px solid #e5e5e5;
                                    color: #333;
                                }
                                .budget-table tr:last-child td {
                                    border-bottom: none;
                                }
                                .budget-table tbody tr:hover {
                                    background: #f9f9f9;
                                }
                                .budget-table .subtotal-row {
                                    background: #fce4e4;
                                    font-weight: 600;
                                }
                                .budget-table .subtotal-row td {
                                    color: #333;
                                    border-bottom: 2px solid #c41e1e;
                                }
                                .budget-table .total-row {
                                    background: #c41e1e;
                                    color: white;
                                    font-weight: 700;
                                }
                                .budget-table .total-row td {
                                    color: white;
                                    border-bottom: none;
                                }
                                .budget-table .currency {
                                    font-family: 'Courier New', monospace;
                                    font-weight: 500;
                                }
                                .budget-table .center {
                                    text-align: center;
                                }
                                .budget-table .right {
                                    text-align: right;
                                }
                                @media (max-width: 768px) {
                                    .budget-table table {
                                        font-size: 0.8rem;
                                    }
                                    .budget-table th, 
                                    .budget-table td {
                                        padding: 8px 6px;
                                    }
                                }
                            </style>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Phase</th>
                                        <th>Major Component</th>
                                        <th class="center">Release Month</th>
                                        <th class="right">Personnel Costs (USD)</th>
                                        <th class="right">Non-Personnel Costs (USD)</th>
                                        <th class="right">Total USD</th>
                                        <th class="center">%</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Initiation & Planning</strong></td>
                                        <td>Feasibility Study, PMO setup, governance</td>
                                        <td class="center">1</td>
                                        <td class="right currency">525,000</td>
                                        <td class="right currency">225,000</td>
                                        <td class="right currency">750,000</td>
                                        <td class="center">15%</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Design & Development</strong></td>
                                        <td>System Design, Supplier engagement, Risk analysis</td>
                                        <td class="center">7</td>
                                        <td class="right currency">1,375,000</td>
                                        <td class="right currency">1,125,000</td>
                                        <td class="right currency">2,500,000</td>
                                        <td class="center">50%</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Testing & Validation</strong></td>
                                        <td>AI software, hardware pilot, prototype build, QA/testing</td>
                                        <td class="center">12</td>
                                        <td class="right currency">500,000</td>
                                        <td class="right currency">500,000</td>
                                        <td class="right currency">1,000,000</td>
                                        <td class="center">20%</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Deployment & Transition</strong></td>
                                        <td>User Training and Support, Change Management, Marketing & Launch, Go-Live Audit, small batch manufacturing</td>
                                        <td class="center">18</td>
                                        <td class="right currency">225,000</td>
                                        <td class="right currency">525,000</td>
                                        <td class="right currency">750,000</td>
                                        <td class="center">15%</td>
                                    </tr>
                                    <tr class="subtotal-row">
                                        <td colspan="5"><strong>Subtotal</strong></td>
                                        <td class="right currency"><strong>5,000,000</strong></td>
                                        <td class="center"><strong>100%</strong></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Reserves</strong></td>
                                        <td>Risk Buffer - additional 10% of the total budget</td>
                                        <td class="center">As required</td>
                                        <td></td>
                                        <td></td>
                                        <td class="right currency">500,000</td>
                                        <td></td>
                                    </tr>
                                    <tr class="total-row">
                                        <td colspan="5"><strong>Total budget</strong></td>
                                        <td class="right currency"><strong>5,500,000</strong></td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Risk Management Section -->
        <section id="risk-management" class="section">
            <div class="container">
                <h2>Risk Management</h2>
                <div class="card">
                    <div style="display: flex; flex-wrap: wrap; gap: 2rem;">
                        <div style="flex: 1; min-width: 300px;">
                            <div class="risk-content">
                                <h3>Risk Management Process</h3>
                                <p>Process: Identify → assess (probability/impact) → prioritize → plan responses → monitor & control.</p>
                                
                                <div style="margin: 1.5rem 0;">
                                    <h4>Risk Heatmap (Chart 10.2):</h4>
                                    <ul>
                                        <li><strong>Technical risk</strong> = extreme impact, low probability—missing AI accuracy/latency breaks core value, but staged validation keeps this unlikely.</li>
                                        <li>Other key risks: Supply Chain, Market/Ethics, Resource, Integration/Scope.</li>
                                    </ul>
                                </div>
                                
                                <div>
                                    <h4>Cost Drawdown (PV vs AC):</h4>
                                    <p>10% budget held in reserves; chart shows how technical, schedule, and scope risks drive variance between planned and actual cost over time.</p>
                                </div>
                                
                                <div style="margin-top: 2rem;">
                                    <h4>Risk Score (Consequence)</h4>
                                    <div style="display: flex; align-items: center; gap: 1rem; margin: 1rem 0;">
                                        <span style="font-weight: 500;">Low</span>
                                        <div style="flex-grow: 1; height: 24px; background: linear-gradient(to right, #ffffcc, #ffeda0, #fed976, #feb24c, #fc4e2a, #e31a1c, #bd0026, #800026, #4d0013); border-radius: 4px;"></div>
                                        <span style="font-weight: 500;">Extreme</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin: 0.5rem 0 1.5rem;">
                                        <span>Low</span>
                                        <span>Medium</span>
                                        <span>High</span>
                                    </div>
                                    
                                    <div style="display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 1.5rem;">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 24px; height: 24px; border-radius: 50%; background: white; border: 2px solid #1a202c; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.8rem;">T</div>
                                            <span>Technical Risk</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 24px; height: 24px; border-radius: 50%; background: white; border: 2px solid #1a202c; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.8rem;">S</div>
                                            <span>Supply Chain Risk</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 24px; height: 24px; border-radius: 50%; background: white; border: 2px solid #1a202c; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.8rem;">M</div>
                                            <span>Market Risk</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 24px; height: 24px; border-radius: 50%; background: white; border: 2px solid #1a202c; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.8rem;">I</div>
                                            <span>Integration Risk</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 24px; height: 24px; border-radius: 50%; background: white; border: 2px solid #1a202c; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.8rem;">R</div>
                                            <span>Resource Risk</span>
                                        </div>
                                    </div>
                                    
                                    <div style="margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid #e2e8f0;">
                                        <h4>Feedback & Validation</h4>
                                        <p>Regular reviews and stakeholder feedback ensure risks are accurately assessed and managed throughout the project lifecycle.</p>
                                        
                                        <div id="riskItems" style="margin-top: 1.5rem; display: flex; flex-direction: column; gap: 0.75rem;">
                                            <!-- Risk items will be added here by JavaScript -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <div id="risk-heatmap-container" style="background: white; border-radius: 20px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); min-height: 600px;">
                                <div id="heatmap-container" style="width: 100%; height: 500px; position: relative;">
                                <style>
                                    .risk-heatmap * {
                                        margin: 0;
                                        padding: 0;
                                        box-sizing: border-box;
                                    }
                                    .risk-heatmap .container {
                                        max-width: 100%;
                                        padding: 0;
                                        box-shadow: none;
                                    }
                                    .risk-heatmap h1 {
                                        font-size: 1.5rem;
                                        margin-bottom: 5px;
                                    }
                                    .risk-heatmap .subtitle {
                                        font-size: 0.8rem;
                                        margin-bottom: 20px;
                                    }
                                    .risk-heatmap .legend {
                                        margin-top: 20px;
                                        padding: 15px;
                                    }
                                    .risk-heatmap .legend-title {
                                        font-size: 1rem;
                                        margin-bottom: 15px;
                                    }
                                    .risk-heatmap .legend-gradient {
                                        width: 200px;
                                        height: 30px;
                                    }
                                    .risk-heatmap .risk-items {
                                        grid-template-columns: 1fr;
                                        gap: 10px;
                                        margin-top: 15px;
                                    }
                                    .risk-heatmap .risk-item {
                                        padding: 8px 12px;
                                    }
                                    .risk-heatmap .risk-badge {
                                        width: 30px;
                                        height: 30px;
                                        font-size: 0.7rem;
                                    }
                                    .risk-heatmap .risk-name {
                                        font-size: 0.9rem;
                                    }
                                    .risk-heatmap .info-panel {
                                        margin-top: 15px;
                                        padding: 15px;
                                    }
                                </style>
                                <div class="risk-heatmap">
                                    <h1>Chart 10.2: Probability vs. Impact Risk Heatmap</h1>
                                    <p class="subtitle">Risk Assessment Matrix</p>
                                    
                                    <svg id="heatmap" style="width: 100%; height: 100%;"></svg>

                                    <div class="info-panel" id="infoPanel" style="display: none; margin-top: 15px; padding: 15px; background: white; border: 2px solid #4169E1; border-radius: 8px;">
                                        <div class="info-title" id="infoTitle" style="font-size: 1rem; font-weight: 700; color: #4169E1; margin-bottom: 8px;"></div>
                                        <div class="info-content" id="infoContent" style="font-size: 0.9rem; color: #4a5568; line-height: 1.5;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <script>
            // Risk data with exact positions from the image
            const risks = [
                { id: "Technical", name: "Technical Risk", x: 4, y: 0, description: "Extreme impact, low probability - Technical implementation challenges" },
                { id: "Supply Chain", name: "Supply Chain Risk", x: 2, y: 1, description: "Moderate impact, medium probability - Supply chain disruptions" },
                { id: "Market", name: "Market Risk", x: 1, y: 2, description: "Minor impact, high probability - Market fluctuations and competition" },
                { id: "Integration", name: "Integration Risk", x: 3, y: 2, description: "Major impact, high probability - System integration challenges" },
                { id: "Resource", name: "Resource Risk", x: 0, y: 3, description: "Low impact, very high probability - Resource availability constraints" }
            ];

            // Matrix dimensions
            const probabilities = ["Low", "Medium", "High", "V. High", "Extreme"];
            const impacts = ["Low", "Minor", "Moderate", "Major", "Extreme"];

            // Enhanced color scale matching the image exactly
            const colorScale = d3.scaleLinear()
                .domain([0, 3, 6, 9, 12, 15, 18, 21, 24])
                .range([
                    "#ffffcc", // Low - pale yellow
                    "#ffeda0", // Light yellow
                    "#fed976", // Yellow
                    "#feb24c", // Light orange
                    "#fc4e2a", // Orange
                    "#e31a1c", // Red
                    "#bd0026", // Dark red
                    "#800026", // Very dark red
                    "#4d0013"  // Extreme - darkest red/burgundy
                ]);

            // Calculate risk score
            function getRiskScore(impactX, probY) {
                return impactX + probY * 5;
            }

            // Responsive SVG dimensions
            function updateDimensions() {
                const container = document.getElementById('risk-heatmap-container');
                const containerWidth = container.clientWidth - 40; // Account for padding
                const cellSize = Math.min(80, (containerWidth - 200) / 5); // Adjust cell size based on container
                const height = cellSize * probabilities.length + 140; // Extra space for labels
                
                return { cellSize, height };
            }

            // Make initHeatmap globally available
            window.initHeatmap = function() {
                if (typeof d3 === 'undefined') {
                    console.error('D3.js not loaded');
                    return;
                }

                const container = document.getElementById('heatmap-container');
                if (!container) {
                    console.error('Heatmap container not found');
                    return;
                }
                
                // Get dimensions and clear existing SVG
                const { cellSize, height } = updateDimensions();
                const width = cellSize * impacts.length + 100; // Extra space for labels
                d3.select("#heatmap").selectAll("*").remove();
                
                // Create SVG
                const svg = d3.select("#heatmap")
                    .attr("viewBox", `0 0 ${width} ${height}`)
                    .attr("width", "100%")
                    .attr("height", height)
                    .attr("preserveAspectRatio", "xMidYMid meet");

                const g = svg.append("g")
                    .attr("transform", `translate(80, 40)`);

                // Create heatmap cells
                for (let i = 0; i < probabilities.length; i++) {
                    for (let j = 0; j < impacts.length; j++) {
                        const score = getRiskScore(j, i);
                        
                        g.append("rect")
                            .attr("class", "cell")
                            .attr("x", j * cellSize)
                            .attr("y", (probabilities.length - 1 - i) * cellSize)
                            .attr("width", cellSize - 2)
                            .attr("height", cellSize - 2)
                            .attr("rx", 4)
                            .attr("ry", 4)
                            .attr("fill", colorScale(score))
                            .style("opacity", 0)
                            .transition()
                            .duration(600)
                            .delay((i * impacts.length + j) * 25)
                            .style("opacity", 1);
                    }
                }

                    // X-axis (Impact on Project)
                    g.append("text")
                        .attr("class", "axis-label")
                        .attr("x", cellSize * impacts.length / 2)
                        .attr("y", cellSize * probabilities.length + 30)
                        .style("font-size", "12px")
                        .style("font-weight", "600")
                        .text("Impact on Project");

                    impacts.forEach((impact, i) => {
                        g.append("text")
                            .attr("class", "tick-label")
                            .attr("x", i * cellSize + cellSize / 2)
                            .attr("y", cellSize * probabilities.length + 15)
                            .attr("text-anchor", "middle")
                            .style("font-size", "11px")
                            .style("font-weight", "500")
                            .text(impact);
                    });

                    // Y-axis (Probability of Occurrence)
                    g.append("text")
                        .attr("class", "axis-label")
                        .attr("transform", `translate(-50, ${cellSize * probabilities.length / 2}) rotate(-90)`)
                        .style("font-size", "12px")
                        .style("font-weight", "600")
                        .text("Probability of Occurrence");

                    probabilities.forEach((prob, i) => {
                        g.append("text")
                            .attr("class", "tick-label")
                            .attr("x", -10)
                            .attr("y", (probabilities.length - 1 - i) * cellSize + cellSize / 2)
                            .attr("text-anchor", "end")
                            .attr("dominant-baseline", "middle")
                            .style("font-size", "11px")
                            .style("font-weight", "500")
                            .text(prob);
                    });

                    // Add risk markers
                    const markerGroup = g.append("g");

                    risks.forEach((risk, index) => {
                        const marker = markerGroup.append("g")
                            .attr("class", "risk-marker")
                            .attr("transform", `translate(${risk.x * cellSize + cellSize / 2}, ${(probabilities.length - 1 - risk.y) * cellSize + cellSize / 2})`)
                            .style("opacity", 0);

                        marker.append("circle")
                            .attr("class", "risk-circle")
                            .attr("r", cellSize * 0.25)
                            .attr("fill", "white")
                            .attr("stroke", "#1a202c")
                            .attr("stroke-width", 2)
                            .style("filter", "drop-shadow(0 2px 4px rgba(0,0,0,0.2))");

                        marker.append("text")
                            .attr("class", "risk-text")
                            .attr("text-anchor", "middle")
                            .attr("dominant-baseline", "middle")
                            .style("font-size", cellSize * 0.18 + "px")
                            .style("font-weight", "700")
                            .text(risk.id);

                        // Animate markers
                        marker.transition()
                            .duration(600)
                            .delay(1200 + index * 150)
                            .style("opacity", 1);

                        // Click handler
                        marker.on("click", function(event) {
                            event.stopPropagation();
                            showInfo(risk);
                        });
                    });

                    // Risk items list removed
                }

            // Info panel
            function showInfo(risk) {
                const panel = document.getElementById("infoPanel");
                const title = document.getElementById("infoTitle");
                const content = document.getElementById("infoContent");

                const impactLevel = impacts[risk.x];
                const probLevel = probabilities[risk.y];
                const riskScore = getRiskScore(risk.x, risk.y);

                title.textContent = `${risk.name}`;
                content.innerHTML = `
                    <strong>Impact Level:</strong> ${impactLevel}<br>
                    <strong>Probability Level:</strong> ${probLevel}<br>
                    <strong>Risk Score:</strong> ${riskScore} / 24<br>
                    <strong>Description:</strong> ${risk.description}
                `;
                panel.style.display = "block";
            }

            // Initialize heatmap when DOM is loaded
            document.addEventListener('DOMContentLoaded', function() {
                if (document.getElementById('heatmap-container')) {
                    window.initHeatmap();
                    
                    // Handle window resize with debounce
                    let resizeTimer;
                    window.addEventListener('resize', function() {
                        clearTimeout(resizeTimer);
                        resizeTimer = setTimeout(window.initHeatmap, 250);
                    });
                }
            });
        </script>

        <!-- Risk Section -->
        <section id="Risk" class="section">
            <div class="container">
                <h2>Risk Mitigation Strategies</h2>
                <div style="display: flex; gap: 2rem; margin-top: 2rem;">
                    <div class="card" style="flex: 1;">
                        <div class="risk-mitigation">
                            <h3>MITIGATION FOCUS FOR TECHNICAL RISK</h3>
                            <p>REAL-TIME FILTERING: TWO-PHASE DEVELOPMENT WITH AN EARLY PROOF-OF-CONCEPT TO REDUCE FAILURE RISK.</p>
                            
                            <h3>SYNCHRONIZATION</h3>
                            <p>REDUNDANT SYNC TESTING PLUS A PROVEN INTEGRATION PLATFORM TO TRANSFER RISK TO A VENDOR</p>
                            
                            <h3>ACCURACY</h3>
                            <p>±5% ACCURACY: CONTINGENCY BUDGET AND SCHEDULE RESERVE FOR EXTRA DATA COLLECTION AND MODEL REFINEMENT IF NEEDED.</p>
                        </div>
                    </div>
                    
                    <div class="card" style="flex: 1.5;">
                        <div id="chart-wrapper" style="height: 400px; padding: 1.5rem;">
                            <canvas id="costChart"></canvas>
                        </div>
                        <div style="padding: 0 1.5rem 1.5rem;">
                            <h3>Cost Drawdown Analysis</h3>
                            <p>Visualizing PV vs AC with risk attribution to identify cost overruns and their sources.</p>
                        </div>
                    </div>
                </div>
                
                <style>
                    .info-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                        gap: 1rem;
                        margin-top: 1.5rem;
                        font-size: 0.9rem;
                    }
                    
                    .info-card {
                        padding: 1rem;
                        border-radius: 12px;
                    }
                    
                    .info-card h3 {
                        margin-bottom: 0.4rem;
                        font-size: 1rem;
                    }
                    
                    .info-card.blue {
                        background: #eff6ff;
                        color: #1d4ed8;
                    }
                    
                    .info-card.amber {
                        background: #fffbeb;
                        color: #b45309;
                    }
                    
                    .info-card p {
                        color: #374151;
                        margin-bottom: 0;
                    }
                </style>
                
                <div class="info-grid">
                    <div class="info-card blue">
                        <h3>Cost Variance</h3>
                        <p>Actual Cost (AC) exceeds Planned Value (PV) in the later weeks, indicating a cost overrun driven by accumulated risk.</p>
                    </div>
                    <div class="info-card amber">
                        <h3>Risk Breakdown</h3>
                        <p>Overruns are attributed to technical, schedule, and scope risks, which emerge and intensify toward the final project phases.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // --- Data generation ---
                function generateData() {
                    const data = [];
                    const weeks = 27;

                    for (let week = 0; week <= weeks; week++) {
                        const pv = (week / weeks) * 1000000;

                        // AC follows PV initially, then diverges
                        let ac = pv * 1.02;
                        if (week > 15) {
                            ac = pv * (1 + 0.02 + (week - 15) * 0.006);
                        }

                        // Risk overruns (start near the end)
                        const technicalRisk = week > 20 ? ((week - 20) / 7) * 25000 : 0;
                        const scheduleRisk = week > 22 ? ((week - 22) / 5) * 30000 : 0;
                        const scopeRisk    = week > 23 ? ((week - 23) / 4) * 40000 : 0;

                        data.push({
                            week,
                            pv: Math.round(pv),
                            ac: Math.round(ac + technicalRisk + scheduleRisk + scopeRisk),
                            technicalRisk: Math.round(technicalRisk),
                            scheduleRisk: Math.round(scheduleRisk),
                            scopeRisk: Math.round(scopeRisk)
                        });
                    }
                    return data;
                }

                const data = generateData();
                const labels = data.map(d => d.week);
                const pvData = data.map(d => d.pv);
                const acData = data.map(d => d.ac);
                const technicalRiskData = data.map(d => d.technicalRisk);
                const scheduleRiskData  = data.map(d => d.scheduleRisk);
                const scopeRiskData     = data.map(d => d.scopeRisk);

                const formatCurrencyLabel = (value) => {
                    return '$' + (value / 1e6).toFixed(1) + 'M';
                };

                const ctx = document.getElementById('costChart').getContext('2d');

                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels,
                        datasets: [
                            // Risk stacked areas
                            {
                                label: 'Technical Risk Overrun',
                                data: technicalRiskData,
                                type: 'line',
                                borderColor: 'rgba(45, 212, 191, 0)',
                                backgroundColor: 'rgba(45, 212, 191, 0.8)',
                                fill: true,
                                tension: 0.3,
                                stack: 'risk'
                            },
                            {
                                label: 'Schedule Risk Overrun',
                                data: scheduleRiskData,
                                type: 'line',
                                borderColor: 'rgba(250, 204, 21, 0)',
                                backgroundColor: 'rgba(250, 204, 21, 0.8)',
                                fill: true,
                                tension: 0.3,
                                stack: 'risk'
                            },
                            {
                                label: 'Scope Risk Overrun',
                                data: scopeRiskData,
                                type: 'line',
                                borderColor: 'rgba(56, 189, 248, 0)',
                                backgroundColor: 'rgba(56, 189, 248, 0.8)',
                                fill: true,
                                tension: 0.3,
                                stack: 'risk'
                            },
                            // Main PV & AC lines (not stacked with risks)
                            {
                                label: 'Planned Value (PV)',
                                data: pvData,
                                borderColor: '#eab308',
                                backgroundColor: '#eab308',
                                borderWidth: 3,
                                pointRadius: 0,
                                tension: 0.25,
                                fill: false,
                            },
                            {
                                label: 'Actual Cost (AC)',
                                data: acData,
                                borderColor: '#3b82f6',
                                backgroundColor: '#3b82f6',
                                borderWidth: 3,
                                pointRadius: 0,
                                tension: 0.25,
                                fill: false,
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    boxWidth: 12
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function (context) {
                                        const label = context.dataset.label || '';
                                        const value = context.parsed.y || 0;
                                        return label + ': ' + formatCurrencyLabel(value);
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: 'Project Timeline (Weeks)'
                                },
                                ticks: {
                                    color: '#4b5563'
                                },
                                grid: {
                                    color: '#e5e7eb'
                                }
                            },
                            y: {
                                stacked: true,
                                title: {
                                    display: true,
                                    text: 'Cumulative Cost ($)'
                                },
                                ticks: {
                                    callback: formatCurrencyLabel,
                                    color: '#4b5563'
                                },
                                grid: {
                                    color: '#e5e7eb'
                                }
                            }
                        }
                    }
                });
            });
        </script>

        <!-- Evaluation Section -->
        <section id="evaluation" class="section">
            <div class="container">
                <h2>Evaluation</h2>
                <div class="card">
                    <div style="display: flex; gap: 2rem; align-items: flex-start;">
                        <div class="evaluation-content" style="flex: 1;">
                            <h3>Project Governance & EVM</h3>
                            <p>PV/EV/AC & CPI/SPI charts show cost and schedule performance vs plan (BAC, PV, EV, AC, SPI, CPI).</p>
                            
                            <h3>Financial Risk & Reserves</h3>
                            <p>Reserve and cost-drawdown charts: ~10% budget in reserves, overruns attributed to technical, schedule, and scope risk.</p>
                        </div>
                        <div style="flex: 1.2; min-width: 0;">
                            <iframe src="evm-dashboard.html" style="width: 100%; height: 500px; border: 1px solid #e2e8f0; border-radius: 8px;"></iframe>
                            <p style="font-size: 0.85rem; color: #666; margin-top: 0.5rem; text-align: center;">Interactive EVM Dashboard showing project performance metrics</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Validation Section -->
        <section id="validation" class="section">
            <div class="container">
                <h2>Validation</h2>
                <div class="card">
                    <div class="evaluation-content">
                        <h3>Core AI Validation</h3>
                        <p>AI metrics table tracks accuracy (±5%), latency (<20 ms), fidelity, and battery efficiency to keep major technical failure unlikely.</p>
                        
                        <div style="margin-top: 2rem; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden;">
                            <iframe src="ai-performance-metrics.html" style="width: 100%; height: 800px; border: none;"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- experience Section -->
        <section id="User Experience" class="section">
            <div class="container">
                <h2>Summary</h2>
                <div style="display: flex; gap: 2rem; margin-top: 2rem;">
                    <div class="card" style="flex: 1;">
                        <div class="evaluation-content">
                            <h3>User Experience & Acceptance</h3>
                            <p>UX table measures satisfaction, autonomy, ease of use, and trust across segments to confirm readiness for Phase 2.</p>
                            
                            <div style="margin-top: 2rem;
                                        border: 1px solid #e2e8f0;
                                        border-radius: 8px;
                                        padding: 1.5rem;
                                        background: white;
                                        box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <h4 style="margin: 0; font-size: 1rem; color: #2d3748;">Financial Exposure & Risk Attribution</h4>
                                    <span style="font-size: 0.8rem; color: #718096;">Chart E</span>
                                </div>
                                <div style="width: 100%; overflow-x: auto;">
                                    <div style="min-width: 800px; height: 280px;">
                                        <iframe src="financial-exposure-chart.html" style="width: 100%; height: 100%; border: none; border-radius: 6px; min-width: 800px;"></iframe>
                                    </div>
                                </div>
                                <p style="font-size: 0.8rem; color: #718096; margin: 0.75rem 0 0; text-align: center;">
                                    Financial exposure breakdown by risk category (scroll to see full chart)
                                </p>
                            </div>
                            
                            <p style="margin-top: 1.5rem;"><strong>Together these charts act as a diagnostic sensor array for project health and system performance.</strong></p>
                        </div>
                    </div>
                    
                    <div class="card" style="flex: 1.2;">
                        <div style="padding: 1.5rem;">
                            <!-- User Experience Table -->
                            <div>
                                <h3 style="margin-bottom: 1rem; font-size: 1.1rem; color: #1a1a1a;">User Experience Metrics</h3>
                                <div style="overflow-x: auto;">
                                    <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem;">
                                        <thead>
                                            <tr>
                                                <th style="background: #2c2c2c; color: white; padding: 8px 12px; text-align: left; font-weight: 600; border: 1px solid #1a1a1a;">Metric</th>
                                                <th style="background: #2c2c2c; color: white; padding: 8px 12px; text-align: center; font-weight: 600; border: 1px solid #1a1a1a;">Prosumer</th>
                                                <th style="background: #2c2c2c; color: white; padding: 8px 12px; text-align: center; font-weight: 600; border: 1px solid #1a1a1a;">Student</th>
                                                <th style="background: #2c2c2c; color: white; padding: 8px 12px; text-align: center; font-weight: 600; border: 1px solid #1a1a1a;">Nomad</th>
                                                <th style="background: #2c2c2c; color: white; padding: 8px 12px; text-align: center; font-weight: 600; border: 1px solid #1a1a1a;">Accessibility</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="background: #e31e24; color: white; font-weight: 600; padding: 8px 12px; border: 1px solid #ddd;">Satisfaction</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">92%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">90%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">88%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">95%</td>
                                            </tr>
                                            <tr>
                                                <td style="background: #e31e24; color: white; font-weight: 600; padding: 8px 12px; border: 1px solid #ddd;">Autonomy</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">94%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">93%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">89%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">91%</td>
                                            </tr>
                                            <tr>
                                                <td style="background: #e31e24; color: white; font-weight: 600; padding: 8px 12px; border: 1px solid #ddd;">Ease of Use</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">96%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">95%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">92%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">94%</td>
                                            </tr>
                                            <tr>
                                                <td style="background: #e31e24; color: white; font-weight: 600; padding: 8px 12px; border: 1px solid #ddd;">Trust in AI</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">89%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">91%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">87%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">93%</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Brand Positioning Section -->
        <section id="market" class="section">
            <div class="container">
                <h2>Positioning & Brand</h2>
                <div class="card" style="padding: 0; overflow: hidden;">
                    <div style="width: 100%; height: 800px;">
                        <iframe src="brand-positioning.html" style="width: 100%; height: 100%; border: none;" title="Hear Now: Hear Next - Brand Positioning"></iframe>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advertising Section -->
        <section id="advertising" class="section">
            <div class="container">
                <h2>Target Segments, Messaging & Go-to-Market</h2>
                <div class="card">
                    <div class="evaluation-content">
                        <h3>Target Segments</h3>
                        <ul class="target-segments">
                            <li><strong>Individuals ("People")</strong>: Urban professionals, commuters, remote workers needing focus in noisy environments.</li>
                            <li><strong>Specialized Industries ("Wellness Partners")</strong>: Healthcare and wellness providers supporting patients with sensory or stress issues.</li>
                            <li><strong>Institutions & Enterprise ("Industry")</strong>: Companies and agencies boosting focus, inclusion, and support for neurodiverse employees.</li>
                        </ul>
                        
                        <h3 style="margin-top: 2rem;">Brand Messaging & Channels</h3>
                        <ul class="messaging-channels">
                            <li><strong>Core message</strong>: Personalized, accessible audio powered by advanced AI.</li>
                            <li><strong>Campaign theme</strong>: "Beyond noise cancellation" in commuting, studying, and wellness scenarios.</li>
                            <li><strong>Channels</strong>: Wellness/accessibility and travel partners, influencers, targeted digital ads, pop-up demos.</li>
                            <li>App analytics and feedback loops refine features, personalization, and segment-specific marketing.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Competitors Section -->
        <section id="competitors" class="section">
            <div class="container">
                <h2>Market Competitors</h2>
                <div class="card" style="padding: 0; overflow: hidden;">
                    <div style="width: 100%; height: 700px;">
                        <iframe src="competitors-diagram.html" style="width: 100%; height: 100%; border: none;" title="Main Market Competitors"></iframe>
                    </div>
                </div>
            </div>
        </section>

        <!-- Logistics Section -->
        <section id="logistics" class="section">
            <div class="container">
                <h2>Logistics & Implementation</h2>
                <div class="card">
                    <div class="evaluation-content">
                        <h3>Key Risks</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li><strong>Technical</strong>: Algorithms and system integration challenges</li>
                            <li><strong>Schedule</strong>: Prototyping, training, and testing timelines</li>
                            <li><strong>Resources</strong>: Component shortages and supply chain constraints</li>
                            <li><strong>Distribution</strong>: Global supply-chain delays and disruptions</li>
                        </ul>
                        
                        <h3 style="margin-top: 1.5rem;">Deliverables</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>Validated and tested device</li>
                            <li>Regulatory compliant packaging</li>
                            <li>Comprehensive materials and quality documentation</li>
                            <li>Scalable production specifications</li>
                        </ul>
                        
                        <h3 style="margin-top: 1.5rem;">Logistics Focus</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>Minimizing handling and storage requirements</li>
                            <li>Reducing waste throughout the supply chain</li>
                            <li>Mitigating potential delays in fulfillment</li>
                            <li>Maintaining cost-effective operations</li>
                            <li>Ensuring responsive customer service</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

                <!-- Communication Section -->
        <section id="Communication" class="section">
    <div class="container">
        <h2>Communication</h2>
        <div class="card">
            <div class="evaluation-content" style="display: grid; grid-template-columns: 1.5fr 1fr; gap: 2rem; align-items: start;">
                <div>
                    <h3>Visual Communication Strategy</h3>
                    <p><strong>Goal:</strong> Make HearOnly's progress, risks, and decisions transparent through clear visuals.</p>
                    
                    <h4 style="margin-top: 1.5rem; color: #2d3748;">Core</h4>
                    <ul class="target-segments" style="margin-top: 0.5rem;">
                        <li><strong>One source-of-truth dashboard</strong> (RAG health, AI KPIs, MVP, SPI/CPI, PV vs AC, risk).</li>
                        <li>Visual feedback on user sentiment, bugs, and UX scores.</li>
                    </ul>
                    
                    <h4 style="margin-top: 1.5rem; color: #2d3748;">Audiences</h4>
                    <ul class="target-segments" style="margin-top: 0.5rem;">
                        <li><strong>Execs</strong> → KPI/ROI + decision views</li>
                        <li><strong>Engineering</strong> → burndown + model/accuracy charts</li>
                        <li><strong>PMO</strong> → EVM, milestones, risk heatmaps</li>
                        <li><strong>Public</strong> → infographics + story visuals</li>
                    </ul>
                    
                    <h4 style="margin-top: 1.5rem; color: #2d3748;">Transparency</h4>
                    <ul class="target-segments" style="margin-top: 0.5rem;">
                        <li>Interactive workflow/system diagrams</li>
                        <li>Recorded decision rationale</li>
                        <li>Regular visual roadmaps; F-35 lesson: open cost & risk reporting</li>
                    </ul>
                </div>
                
                <div class="communication-images" style="display: grid; gap: 1.5rem;">
                    <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <img src="images/Screenshot 2025-12-08 020149.png" alt="Communication Dashboard" style="width: 100%; height: auto; border-radius: 4px;">
                        <p style="text-align: center; margin-top: 0.5rem; font-size: 0.85rem; color: #4a5568;">Communication Dashboard Overview</p>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <img src="images/Screenshot 2025-12-08 020209.png" alt="Audience Metrics" style="width: 100%; height: auto; border-radius: 4px;">
                            <p style="text-align: center; margin-top: 0.5rem; font-size: 0.8rem; color: #4a5568;">Audience Metrics</p>
                        </div>
                        <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <img src="images/Screenshot 2025-12-08 020107.png" alt="Transparency Framework" style="width: 100%; height: auto; border-radius: 4px;">
                            <p style="text-align: center; margin-top: 0.5rem; font-size: 0.8rem; color: #4a5568;">Transparency Framework</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    @media (max-width: 1024px) {
        .evaluation-content {
            grid-template-columns: 1fr !important;
        }
        .communication-images {
            margin-top: 2rem;
        }
    }
    
    @media (max-width: 768px) {
        .communication-images > div:last-child {
            grid-template-columns: 1fr !important;
        }
    }
</style>

        <!-- International Section -->
        <section id="international" class="section">
            <div class="container">
                <h2>International & Cross-Cultural Considerations</h2>
                <div class="card">
                    <div class="evaluation-content">
                        <h3>Global Partnerships & Entry Points (Hear Now: Hear Next)</h3>
                        <p>Near-term growth in North America, with market research on:</p>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>International university-led studies</li>
                            <li>NGOs and global health organizations</li>
                            <li>Sustainable tech opportunities</li>
                            <li>Regional user trends and demand</li>
                        </ul>
                        
                        <h3 style="margin-top: 1.5rem;">Sustainability & Ethical Standards</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>Compliance with regional regulatory practices.</li>
                            <li>Sustainable hardware and packaging design.</li>
                            <li>Ethical supply-chain production and sourcing.</li>
                        </ul>
                        
                        <h3 style="margin-top: 1.5rem;">Operations</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>Key risks: technical, schedule, component shortages, and global distribution delays.</li>
                            <li>Deliverables: validated device, compliant packaging, and full materials/quality documentation for scalable production.</li>
                            <li>Logistics focus on minimizing handling, storage, waste, and delays while keeping fulfillment responsive and cost-effective.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Q&A Section -->
        <section id="qa" class="section">
            <div class="container">
                <h2>Q&A — Where Do You See Selective Hearing in Your Projects?</h2>
                <div class="card">
                    <div class="qa-grid">
                        <div class="qa-item">
                            <h4>Where does selective hearing show up most in your projects?</h4>
                            <p>Share your experiences with us.</p>
                        </div>
                        <div class="qa-item">
                            <h4>Which stakeholders are most at risk of being under-heard in your organization?</h4>
                            <p>Let's discuss solutions.</p>
                        </div>
                        <div class="qa-item">
                            <h4>How could a framework like Selective fit into your current governance?</h4>
                            <p>We'd love to hear your thoughts.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Selective Framework. Part of the Columbia SPS Leading Large Complex Projects course.</p>
        </div>
    </footer>

    <!-- D3.js Library -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <script src="script.js"></script>
    <script src="hero.js"></script>
    
    <script>
        // Initialize heatmap when DOM is fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Check if we're on the risk management section
            if (document.getElementById('risk-heatmap-container')) {
                // Initialize heatmap
                if (typeof initHeatmap === 'function') {
                    initHeatmap();
                    
                    // Add resize event listener
                    window.addEventListener('resize', function() {
                        initHeatmap();
                    });
                }
            }
        });
        // D3 Diagram Code
        document.addEventListener('DOMContentLoaded', function() {
            const data = {
                central: {
                    id: "hearonly",
                    label: "HearOnly",
                    sublabel: "AI-Driven Selective Hearing",
                    x: 700,
                    y: 300,
                    width: 180,
                    height: 80,
                    color: "#667eea"
                },
                components: [
                    // Core Innovation
                    {
                        id: "core",
                        label: "Core Innovation",
                        sublabel: "AI Sound Differentiation",
                        x: 700,
                        y: 100,
                        width: 160,
                        height: 70,
                        color: "#f093fb",
                        connects: ["hearonly"]
                    },
                    // Technical Foundation
                    {
                        id: "tech1",
                        label: "Psychoacoustic",
                        sublabel: "MFCCs, VAD",
                        x: 450,
                        y: 180,
                        width: 140,
                        height: 60,
                        color: "#4facfe",
                        connects: ["core"]
                    },
                    {
                        id: "tech2",
                        label: "Adaptive Learning",
                        sublabel: "Deep Learning Algorithms",
                        x: 950,
                        y: 180,
                        width: 140,
                        height: 60,
                        color: "#43e97b",
                        connects: ["core"]
                    },
                    // Features
                    {
                        id: "feature1",
                        label: "Personalization",
                        sublabel: "Custom Audio Environment",
                        x: 350,
                        y: 320,
                        width: 140,
                        height: 60,
                        color: "#fa709a",
                        connects: ["hearonly"]
                    },
                    {
                        id: "feature2",
                        label: "Real-Time Filtering",
                        sublabel: "Mute/Amplify Sounds",
                        x: 1050,
                        y: 320,
                        width: 140,
                        height: 60,
                        color: "#fee140",
                        connects: ["hearonly"]
                    },
                    // Customer Segments
                    {
                        id: "customer1",
                        label: "Primary",
                        sublabel: "Individual Consumers",
                        x: 450,
                        y: 460,
                        width: 130,
                        height: 60,
                        color: "#30cfd0",
                        connects: ["hearonly"]
                    },
                    {
                        id: "customer2",
                        label: "Secondary",
                        sublabel: "Professional Users",
                        x: 700,
                        y: 500,
                        width: 130,
                        height: 60,
                        color: "#a8edea",
                        connects: ["hearonly"]
                    },
                    {
                        id: "customer3",
                        label: "Tertiary",
                        sublabel: "Institutions",
                        x: 950,
                        y: 460,
                        width: 130,
                        height: 60,
                        color: "#fed6e3",
                        connects: ["hearonly"]
                    },
                    // Applications
                    {
                        id: "app1",
                        label: "Forensics",
                        x: 200,
                        y: 420,
                        width: 100,
                        height: 50,
                        color: "#ff9a9e",
                        connects: ["customer1", "customer2"]
                    },
                    {
                        id: "app2",
                        label: "Healthcare",
                        x: 200,
                        y: 500,
                        width: 100,
                        height: 50,
                        color: "#fad0c4",
                        connects: ["customer2", "customer3"]
                    },
                    {
                        id: "app3",
                        label: "Academia",
                        x: 1200,
                        y: 420,
                        width: 100,
                        height: 50,
                        color: "#ffecd2",
                        connects: ["customer2", "customer3"]
                    },
                    {
                        id: "app4",
                        label: "Wellness",
                        x: 1200,
                        y: 500,
                        width: 100,
                        height: 50,
                        color: "#fcb69f",
                        connects: ["customer1", "customer3"]
                    }
                ]
            };

            const svg = d3.select("#diagram");
            const width = 1360;
            const height = 600;
            
            // Clear any existing content
            svg.selectAll("*").remove();
            
            // Set viewBox for responsive scaling
            svg.attr("viewBox", `0 0 ${width} ${height}`)
               .attr("preserveAspectRatio", "xMidYMid meet");

            const g = svg.append("g");

            // Create links
            const links = [];
            data.components.forEach(comp => {
                comp.connects.forEach(targetId => {
                    const target = targetId === "hearonly" ? data.central : 
                                  data.components.find(c => c.id === targetId);
                    if (target) {
                        links.push({
                            source: comp,
                            target: target
                        });
                    }
                });
            });

            // Draw links
            const linkGroup = g.append("g").attr("class", "links");
            const linkElements = linkGroup.selectAll(".link")
                .data(links)
                .enter()
                .append("path")
                .attr("class", "link")
                .attr("id", (d, i) => `link-${i}`)
                .attr("d", d => {
                    const sx = d.source.x + d.source.width / 2;
                    const sy = d.source.y + d.source.height / 2;
                    const tx = d.target.x + d.target.width / 2;
                    const ty = d.target.y + d.target.height / 2;
                    
                    const dx = tx - sx;
                    const dy = ty - sy;
                    const dr = Math.sqrt(dx * dx + dy * dy) * 0.5;
                    
                    return `M${sx},${sy}A${dr},${dr} 0 0,1 ${tx},${ty}`;
                });

            // Draw nodes
            const allNodes = [data.central, ...data.components];
            
            const nodes = g.selectAll(".node")
                .data(allNodes)
                .enter()
                .append("g")
                .attr("class", "node")
                .attr("transform", d => `translate(${d.x}, ${d.y})`);

            nodes.append("rect")
                .attr("class", "node-rect")
                .attr("width", d => d.width)
                .attr("height", d => d.height)
                .attr("rx", 8)
                .attr("fill", d => d.color);

            nodes.append("text")
                .attr("class", "node-text")
                .attr("x", d => d.width / 2)
                .attr("y", d => d.height / 2 - (d.sublabel ? 5 : 0))
                .attr("text-anchor", "middle")
                .attr("dominant-baseline", "middle")
                .text(d => d.label);

            nodes.filter(d => d.sublabel)
                .append("text")
                .attr("class", "node-subtext")
                .attr("x", d => d.width / 2)
                .attr("y", d => d.height / 2 + 12)
                .attr("text-anchor", "middle")
                .text(d => d.sublabel);

            // Interaction
            let selectedNode = null;

            nodes.on("click", function(event, d) {
                if (selectedNode === d.id) {
                    // Deselect
                    selectedNode = null;
                    linkElements.style("opacity", 0.6).style("stroke", "#999");
                    nodes.selectAll("rect").style("opacity", 1);
                } else {
                    // Select
                    selectedNode = d.id;
                    
                    // Dim all
                    linkElements.style("opacity", 0.1);
                    nodes.selectAll("rect").style("opacity", 0.3);
                    
                    // Highlight selected node
                    d3.select(this).select("rect").style("opacity", 1);
                    
                    // Highlight connected links and nodes
                    linkElements.each(function(link) {
                        if (link.source.id === d.id || link.target.id === d.id) {
                            d3.select(this).style("opacity", 1).style("stroke", "#667eea");
                            
                            nodes.filter(n => n.id === link.source.id || n.id === link.target.id)
                                .select("rect")
                                .style("opacity", 1);
                        }
                    });
                }
            });

            // Add legend
            const legend = g.append("g")
                .attr("class", "legend")
                .attr("transform", "translate(20, 20)");

            const legendData = [
                { label: "Core/Central", color: "#667eea" },
                { label: "Technical", color: "#4facfe" },
                { label: "Features", color: "#fa709a" },
                { label: "Customers", color: "#30cfd0" },
                { label: "Applications", color: "#ff9a9e" }
            ];

            legendData.forEach((item, i) => {
                const lg = legend.append("g")
                    .attr("transform", `translate(0, ${i * 25})`);
                
                lg.append("rect")
                    .attr("class", "legend-rect")
                    .attr("width", 18)
                    .attr("height", 18)
                    .attr("rx", 3)
                    .attr("fill", item.color);
                
                lg.append("text")
                    .attr("x", 25)
                    .attr("y", 13)
                    .text(item.label);
            });

            // Make the diagram responsive
            function resize() {
                const container = document.querySelector('.container');
                const containerWidth = container.clientWidth;
                const scale = Math.min(1, (containerWidth - 40) / width);
                
                g.attr('transform', `scale(${scale})`);
                
                // Center the diagram
                const xOffset = (containerWidth - (width * scale)) / 2 / scale;
                g.attr('transform', `translate(${xOffset}, 0) scale(${scale})`);
            }

            // Initial resize
            resize();
            
            // Resize on window resize
            window.addEventListener('resize', resize);
        });
    </script>
    
    <!-- Lightbox HTML -->
    <div id="lightbox" class="lightbox">
        <span class="close-btn">&times;</span>
        <img id="lightbox-img" src="" alt="Enlarged view"/>
        <div id="lightbox-caption"></div>
    </div>
    
    <script>
        // Lightbox functionality
        document.addEventListener('DOMContentLoaded', function() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            const closeBtn = document.querySelector('.close-btn');
            
            // Get all images in the communication section
            const images = document.querySelectorAll('.communication-images img');
            
            // Add click event to all images
            images.forEach(img => {
                img.addEventListener('click', function() {
                    lightboxImg.src = this.src;
                    lightboxCaption.textContent = this.nextElementSibling ? 
                        this.nextElementSibling.textContent : 
                        this.alt;
                    
                    // Show lightbox with animation
                    lightbox.style.display = 'flex';
                    setTimeout(() => lightbox.classList.add('show'), 10);
                    
                    // Prevent scrolling when lightbox is open
                    document.body.style.overflow = 'hidden';
                });
            });
            
            // Close lightbox
            function closeLightbox() {
                lightbox.classList.remove('show');
                setTimeout(() => {
                    lightbox.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 300);
            }
            
            // Close lightbox when clicking the close button
            closeBtn.addEventListener('click', closeLightbox);
            
            // Close lightbox when clicking outside the image
            lightbox.addEventListener('click', function(e) {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });
            
            // Close lightbox with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && lightbox.classList.contains('show')) {
                    closeLightbox();
                }
            });
        });
    </script>
    
    <script src="script.js"></script>
</body>
</html>