<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selective — SPATIAL AUDIO AI Visual selective hearing for complex environments</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=IBM+Plex+Sans:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
      :root {
        --bg: #f0f4f8;
        --bg-secondary: #ffffff;
        --accent: #4169E1;
        --accent-light: #6B8FF6;
        --accent-soft: rgba(65, 105, 225, 0.1);
        --text-main: #1a202c;
        --text-muted: #4a5568;
        --border-color: rgba(65, 105, 225, 0.15);
      }

      .hero {
        min-height: 100vh;
        padding: clamp(2rem, 4vw, 4rem);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: clamp(2rem, 4vw, 4rem);
        position: relative;
        background: linear-gradient(180deg, #f0f4f8 0%, #e8f0fc 100%);
      }

      .hero::before {
        content: "";
        position: absolute;
        inset: 0;
        background: 
          radial-gradient(circle at 20% 30%, rgba(65, 105, 225, 0.05), transparent 50%),
          radial-gradient(circle at 80% 70%, rgba(107, 143, 246, 0.05), transparent 50%);
        pointer-events: none;
        z-index: 0;
      }

      .particle {
        position: absolute;
        width: 4px;
        height: 4px;
        background: var(--accent);
        border-radius: 50%;
        opacity: 0.2;
        pointer-events: none;
      }

      .hero-inner {
        max-width: 1200px;
        width: 100%;
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.1fr);
        gap: clamp(2rem, 4vw, 4rem);
        align-items: center;
        position: relative;
        z-index: 1;
      }

      @media (max-width: 800px) {
        .hero-inner {
          grid-template-columns: 1fr;
        }
      }

      .hero-copy {
        animation: fadeInUp 0.8s ease-out forwards;
        opacity: 0;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .hero-copy-eyebrow {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.22em;
        color: var(--accent);
        margin-bottom: 0.75rem;
        animation: fadeIn 1s ease-out 0.2s forwards;
        opacity: 0;
        font-weight: 600;
      }

      @keyframes fadeIn {
        to { opacity: 1; }
      }

      .hero-title {
        font-size: clamp(2.4rem, 4vw, 3.2rem);
        line-height: 1.05;
        margin-bottom: 1rem;
        animation: fadeInUp 0.8s ease-out 0.3s forwards;
        opacity: 0;
        color: var(--text-main);
      }

      .hero-title span.highlight {
        color: var(--accent);
        position: relative;
        display: inline-block;
      }

      .hero-title span.highlight::after {
        content: '';
        position: absolute;
        bottom: -4px;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, var(--accent), var(--accent-light));
        border-radius: 2px;
        animation: underlineGrow 0.8s ease-out 0.8s forwards;
        transform: scaleX(0);
        transform-origin: left;
      }

      @keyframes underlineGrow {
        to {
          transform: scaleX(1);
        }
      }

      .hero-subtitle {
        font-size: 1rem;
        line-height: 1.6;
        color: var(--text-muted);
        max-width: 32rem;
        margin-bottom: 1.75rem;
        animation: fadeInUp 0.8s ease-out 0.5s forwards;
        opacity: 0;
      }

      .hero-cta-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        align-items: center;
        animation: fadeInUp 0.8s ease-out 0.7s forwards;
        opacity: 0;
      }

      .hero-cta-primary {
        border: none;
        padding: 0.9rem 1.6rem;
        border-radius: 8px;
        background: var(--accent);
        color: white;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        box-shadow: 0 4px 14px rgba(65, 105, 225, 0.3);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        text-decoration: none;
        display: inline-block;
      }

      .hero-cta-primary::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, rgba(255,255,255,0.2), transparent);
        transform: translateX(-100%);
        transition: transform 0.6s ease;
      }

      .hero-cta-primary:hover::before {
        transform: translateX(100%);
      }

      .hero-cta-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(65, 105, 225, 0.4);
        background: var(--accent-light);
      }

      .hero-cta-primary:active {
        transform: translateY(0) scale(0.98);
      }

      .hero-cta-secondary {
        font-size: 0.9rem;
        color: var(--text-muted);
      }

      .hero-cta-secondary span {
        color: var(--accent);
        cursor: pointer;
        transition: color 0.2s ease;
        font-weight: 500;
      }

      .hero-cta-secondary span:hover {
        color: var(--accent-light);
      }

      .hero-sim {
        position: relative;
        width: 270%;
        margin-left: -10%;
        aspect-ratio: 4 / 3;
        max-width: 1200px;
        border-radius: 1.5rem;
        padding: 1.25rem;
        overflow: hidden;
        background: linear-gradient(135deg, #ffffff 0%, #f8faff 100%);
        box-shadow:
          0 0 0 3px var(--accent),
          0 0 30px rgba(65, 105, 225, 0.25),
          0 20px 60px rgba(65, 105, 225, 0.15),
          0 8px 24px rgba(0, 0, 0, 0.08);
        cursor: none;
        animation: fadeInScale 1s ease-out 0.4s forwards, simGlow 3s ease-in-out infinite;
        opacity: 0;
      }

      @keyframes simGlow {
        0%, 100% {
          box-shadow:
            0 0 0 3px var(--accent),
            0 0 30px rgba(65, 105, 225, 0.25),
            0 20px 60px rgba(65, 105, 225, 0.15),
            0 8px 24px rgba(0, 0, 0, 0.08);
        }
        50% {
          box-shadow:
            0 0 0 3px var(--accent-light),
            0 0 50px rgba(65, 105, 225, 0.4),
            0 20px 60px rgba(65, 105, 225, 0.25),
            0 8px 24px rgba(0, 0, 0, 0.08);
        }
      }

      .sim-label {
        position: absolute;
        top: 1rem;
        left: 1.25rem;
        font-size: 0.85rem;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: white;
        background: linear-gradient(135deg, var(--accent), var(--accent-light));
        padding: 0.5rem 1rem;
        border-radius: 8px;
        opacity: 1;
        pointer-events: none;
        z-index: 10;
        font-weight: 700;
        box-shadow: 0 4px 16px rgba(65, 105, 225, 0.3);
      }

      .sim-caption {
        position: absolute;
        left: 1.25rem;
        bottom: 1.1rem;
        font-size: 0.85rem;
        color: var(--accent);
        background: white;
        padding: 0.75rem 1rem;
        border-radius: 8px;
        max-width: 65%;
        pointer-events: none;
        z-index: 10;
        font-weight: 600;
        box-shadow: 0 4px 16px rgba(65, 105, 225, 0.15);
        border: 2px solid var(--accent);
      }

      .listener {
        position: absolute;
        width: 110px;
        height: 110px;
        border-radius: 999px;
        border: 4px solid var(--accent);
        background: linear-gradient(135deg, rgba(65, 105, 225, 0.25), rgba(107, 143, 246, 0.15));
        box-shadow:
          0 0 0 8px rgba(65, 105, 225, 0.1),
          0 0 50px rgba(65, 105, 225, 0.6),
          0 12px 40px rgba(65, 105, 225, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.15em;
        color: var(--accent);
        font-weight: 800;
        transform: translate(-50%, -50%);
        left: 50%;
        top: 50%;
        pointer-events: none;
        z-index: 3;
        transition: left 0.15s ease-out, top 0.15s ease-out;
      }

      .listener::before {
        content: "";
        position: absolute;
        width: 172px;
        height: 172px;
        background-image: url('images/Artboard 2.png');
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        top: -10px;
        left: 0%;
        transform: translateX(-50%);
        animation: listenPulse 1.5s ease-in-out infinite;
      }

      @keyframes listenPulse {
        0%, 100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }

      .sound {
        position: absolute;
        font-size: 0.85rem;
        color: var(--text-main);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 0.75rem;
        background: white;
        border-radius: 999px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        z-index: 2;
        transition: all 0.3s ease;
      }

      .sound-dot {
        display: inline-block;
        width: 8px;
        height: 8px;
        background: var(--accent);
        border-radius: 50%;
        transition: all 0.3s ease;
      }

      .connection-line {
        position: absolute;
        height: 5px;
        background: linear-gradient(to right, var(--accent), rgba(65, 105, 225, 0.3));
        transform-origin: left center;
        z-index: 1;
        pointer-events: none;
        opacity: 0.6;
      }

      .cursor-follower {
        position: fixed;
        width: 24px;
        height: 24px;
        border: 2px solid var(--accent);
        border-radius: 50%;
        pointer-events: none;
        z-index: 1000;
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
        transition: transform 0.2s ease, opacity 0.2s ease;
      }

      .cursor-follower.active {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }

      .nav-dots {
        position: fixed;
        right: 2rem;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 1rem;
        z-index: 100;
      }

      .nav-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: rgba(65, 105, 225, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .nav-dot.active {
        background: var(--accent);
        transform: scale(1.2);
      }

      .nav-dot:hover {
        background: var(--accent-light);
        transform: scale(1.1);
      }

      @keyframes float {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .cover-image-container {
        width: 100%;
        max-height: 100vh;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
      }
      
      .cover-image {
        width: 100%;
        height: auto;
        object-fit: contain;
        max-height: 100vh;
        animation: fadeOut 0.5s ease-out 0.5s forwards;
      }
      
      @keyframes fadeOut {
        to {
          opacity: 0;
          visibility: hidden;
        }
      }

      @media (max-width: 800px) {
        .nav-dots {
          display: none;
        }
      }
    </style>
</head>
<body>
    <!-- Full-width Cover Image -->
    <div class="cover-image-container">
        <img src="images/ezgif.com-animated-gif-maker.gif" alt="Selective Framework Cover" class="cover-image">
    </div>
    
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="container">
            <div class="logo">Selective</div>
            <ul class="nav-links">
            </ul>
            <button class="mobile-menu-btn">☰</button>
        </div>
    </nav>

    <!-- Timeline Navigation -->
    <aside class="timeline-nav">
        <div class="timeline">
            <div class="timeline-progress"></div>
            <a href="#intro" class="timeline-item active" data-section="intro">
                <div class="timeline-dot"></div>
                <span class="timeline-label">Intro</span>
            </a>
            <!-- More timeline items will be added by JavaScript -->
        </div>
    </aside>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section id="intro" class="section active hero">
            <!-- Navigation dots -->
            <div class="nav-dots">
                <div class="nav-dot active"></div>
                <div class="nav-dot"></div>
                <div class="nav-dot"></div>
                <div class="nav-dot"></div>
                <div class="nav-dot"></div>
            </div>

            <div class="hero-inner">
                <div class="hero-copy">
                    <div class="hero-copy-eyebrow">HearOnly</div>
                    <h1 class="hero-title">
                        <span class="highlight">Selective</span> — SPATIAL AUDIO AI Visual selective hearing for complex environments
                    </h1>
                    <p class="hero-subtitle">
                        This hero canvas turns noisy scenes into a focused soundscape. 
                        Move your cursor to see how signals come into clarity while 
                        the rest recedes into the background.
                    </p>
                    <div class="hero-cta-row">
                        <a href="#methodology" class="hero-cta-primary">
                            See the Journey
                        </a>
                        <div class="hero-cta-secondary">
                            or <span>explore the technology →</span>
                        </div>
                    </div>
                </div>

                <div class="hero-sim" id="hero-sim">
                    <div class="sim-label">Selective Hearing Simulation</div>
                    <div class="sim-caption">
                        Move your cursor across the field. The system "listens" where you point,
                        amplifying nearby sources and softening everything else.
                    </div>

                    <div class="listener" id="listener">
                        Focus
                    </div>

                    <div class="sound" data-id="traffic">
                        <span class="sound-dot"></span> Traffic drones
                    </div>
                    <div class="sound" data-id="voices">
                        <span class="sound-dot"></span> Overlapping voices
                    </div>
                    <div class="sound" data-id="music">
                        <span class="sound-dot"></span> Street music
                    </div>
                    <div class="sound" data-id="alerts">
                        <span class="sound-dot"></span> System alerts
                    </div>
                    <div class="sound" data-id="wind">
                        <span class="sound-dot"></span> Wind + rustle
                    </div>
                    <div class="sound" data-id="machines">
                        <span class="sound-dot"></span> HVAC + machines
                    </div>
                    <div class="sound" data-id="citybed">
                        <span class="sound-dot"></span> City noise bed
                    </div>
                </div>
            </div>
            <div class="cursor-follower" id="cursorFollower"></div>
        </section>

        <!-- D3 Diagram Section -->
        <section id="Intro" class="section" style="background: white; padding: 4rem 2rem; min-height: 1200px;">
            <div id="d3-container" style="background: white; border-radius: 12px; padding: 30px; box-shadow: 0 5px 20px rgba(0,0,0,0.08); max-width: 1600px; margin: 0 auto;">
                <h2 style="text-align: center; color: #333; margin-bottom: 40px; font-size: 32px; font-weight: 600;">HearOnly: Intelligent Selective Audio System</h2>
                <svg id="diagram"></svg>
            </div>
            
            <style>
                #diagram {
                    width: 100%;
                    height: 1000px;
                    display: block;
                    margin: 0 auto;
                }
                .node {
                    cursor: pointer;
                    transition: all 0.3s ease;
                }
                .node:hover {
                    filter: brightness(1.1);
                }
                .node-rect {
                    stroke: #fff;
                    stroke-width: 3;
                    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
                }
                .node-text {
                    font-size: 13px;
                    font-weight: 600;
                    fill: white;
                    pointer-events: none;
                }
                .node-subtext {
                    font-size: 10px;
                    fill: rgba(255,255,255,0.9);
                    pointer-events: none;
                }
                .link {
                    fill: none;
                    stroke: #999;
                    stroke-width: 2;
                    stroke-dasharray: 5,5;
                    opacity: 0.6;
                }
                .link-arrow {
                    fill: #999;
                }
                .legend {
                    font-size: 12px;
                }
                .legend-rect {
                    stroke: #ddd;
                    stroke-width: 1;
                }
                @media (max-width: 1400px) {
                    #diagram {
                        height: 800px;
                    }
                    #d3-container {
                        max-width: 1200px;
                    }
                }
                @media (max-width: 992px) {
                    #diagram {
                        height: 600px;
                    }
                    #d3-container {
                        padding: 20px;
                    }
                }
                @media (max-width: 768px) {
                    #diagram {
                        height: 500px;
                    }
                    #d3-container {
                        padding: 15px;
                    }
                }
            </style>
        </section>

        <!-- Structure Flow Diagram Section -->
        <section id="Methodology" class="section" style="background: #f8fafc; padding: 4rem 2rem;">
            <div class="container">
                <h2>Methodology</h2>
                <p class="subtitle">Horizontal Relationship Diagram</p>
                
                <div id="chart" style="width: 100%; height: 600px; margin: 40px 0;">
                    <div class="info-box" id="infoBox" style="position: absolute; background: white; border: 2px solid #4169E1; border-radius: 12px; padding: 15px 20px; box-shadow: 0 8px 24px rgba(65, 105, 225, 0.2); pointer-events: none; opacity: 0; transition: opacity 0.3s ease; z-index: 100; max-width: 300px;">
                        <div class="info-title" id="infoTitle" style="font-size: 0.95rem; font-weight: 700; color: #4169E1; margin-bottom: 5px;"></div>
                        <div class="info-content" id="infoContent" style="font-size: 0.85rem; color: #4a5568; line-height: 1.4;"></div>
                    </div>
                </div>

                <div class="legend" id="legend" style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 30px;"></div>
            </div>

            <script>
                // Data structure
                const nodes = [
                    { id: "structure", name: "Structure", level: 0, color: "#4169E1", description: "Central framework organizing all HearOnly components" },
                    { id: "core", name: "Core Innovation", level: 1, color: "#6B8FF6", description: "AI-based sound differentiation & selective filtering" },
                    { id: "tech", name: "Technical Foundation", level: 1, color: "#2196F3", description: "Psychoacoustic modeling & adaptive learning algorithms" },
                    { id: "customer", name: "Customer Segments", level: 1, color: "#9C27B0", description: "Primary, Secondary & Tertiary market segments" },
                    { id: "market", name: "Market Positioning", level: 1, color: "#6366F1", description: "Premium, future-oriented sound intelligence" }
                ];

                const links = [
                    { source: "structure", target: "core", value: 5 },
                    { source: "structure", target: "tech", value: 5 },
                    { source: "structure", target: "customer", value: 5 },
                    { source: "structure", target: "market", value: 5 },
                    { source: "core", target: "tech", value: 4 },
                    { source: "core", target: "customer", value: 3 },
                    { source: "core", target: "market", value: 3 },
                    { source: "tech", target: "customer", value: 2 },
                    { source: "tech", target: "market", value: 2 },
                    { source: "customer", target: "market", value: 4 }
                ];

                const width = document.getElementById('chart').clientWidth;
                const height = 600;
                const margin = { top: 40, right: 150, bottom: 40, left: 150 };

                const svg = d3.select("#chart")
                    .append("svg")
                    .attr("viewBox", [0, 0, width, height])
                    .attr("width", "100%")
                    .attr("height", "100%");

                // Create horizontal layout
                const levelWidth = (width - margin.left - margin.right) / 2;
                const nodeHeight = 60;
                const nodeWidth = 200;

                // Position nodes
                const nodesByLevel = d3.group(nodes, d => d.level);
                
                nodes.forEach(node => {
                    const levelNodes = nodesByLevel.get(node.level);
                    const levelHeight = height - margin.top - margin.bottom;
                    const spacing = levelHeight / (levelNodes.length + 1);
                    const index = levelNodes.indexOf(node);
                    
                    if (node.level === 0) {
                        node.x = margin.left;
                        node.y = height / 2 - nodeHeight / 2;
                    } else {
                        node.x = margin.left + levelWidth + 100;
                        node.y = margin.top + spacing * (index + 1) - nodeHeight / 2;
                    }
                });

                // Create curved links
                const linkGenerator = d3.linkHorizontal()
                    .source(d => {
                        const source = nodes.find(n => n.id === d.source);
                        return [source.x + nodeWidth, source.y + nodeHeight / 2];
                    })
                    .target(d => {
                        const target = nodes.find(n => n.id === d.target);
                        return [target.x, target.y + nodeHeight / 2];
                    });

                // Add glow filter
                const defs = svg.append("defs");
                const filter = defs.append("filter")
                    .attr("id", "glow");
                filter.append("feGaussianBlur")
                    .attr("stdDeviation", "3")
                    .attr("result", "coloredBlur");
                const feMerge = filter.append("feMerge");
                feMerge.append("feMergeNode")
                    .attr("in", "coloredBlur");
                feMerge.append("feMergeNode")
                    .attr("in", "SourceGraphic");

                // Draw links
                const linkElements = svg.append("g")
                    .selectAll("path")
                    .data(links)
                    .join("path")
                    .attr("class", "link")
                    .attr("d", linkGenerator)
                    .attr("stroke", d => {
                        const target = nodes.find(n => n.id === d.target);
                        return target.color;
                    })
                    .attr("stroke-width", d => d.value * 0.8)
                    .style("opacity", 0.7);

                // Draw nodes
                const nodeElements = svg.append("g")
                    .selectAll("g")
                    .data(nodes)
                    .join("g")
                    .attr("class", "node")
                    .attr("transform", d => `translate(${d.x}, ${d.y})`);

                nodeElements.append("rect")
                    .attr("width", nodeWidth)
                    .attr("height", nodeHeight)
                    .attr("rx", 10)
                    .attr("fill", d => d.color)
                    .attr("stroke", d => d3.rgb(d.color).darker())
                    .attr("stroke-width", 2)
                    .style("filter", "url(#glow)");

                // Add node labels
                nodeElements.append("text")
                    .attr("x", nodeWidth / 2)
                    .attr("y", nodeHeight / 2)
                    .attr("text-anchor", "middle")
                    .attr("dominant-baseline", "middle")
                    .text(d => d.name)
                    .style("fill", "white")
                    .style("font-size", "13px")
                    .style("font-weight", "600")
                    .style("text-shadow", "0 1px 2px rgba(0,0,0,0.3)");

                // Interactivity
                const infoBox = document.getElementById("infoBox");
                const infoTitle = document.getElementById("infoTitle");
                const infoContent = document.getElementById("infoContent");

                // Node hover
                nodeElements.on("mouseenter", function(event, d) {
                    d3.select(this).select("rect").transition().style("opacity", 1);
                    
                    // Highlight connected links
                    d3.selectAll(".link")
                        .style("opacity", function(link) {
                            return (link.source === d.id || link.target === d.id) ? 1 : 0.2;
                        });

                    // Show info
                    infoTitle.textContent = d.name;
                    infoContent.textContent = d.description;
                    infoBox.style.opacity = 1;
                    infoBox.style.left = (event.pageX + 15) + "px";
                    infoBox.style.top = (event.pageY - 30) + "px";
                });

                nodeElements.on("mousemove", function(event) {
                    infoBox.style.left = (event.pageX + 15) + "px";
                    infoBox.style.top = (event.pageY - 30) + "px";
                });

                nodeElements.on("mouseleave", function() {
                    d3.selectAll(".link").style("opacity", 0.7);
                    infoBox.style.opacity = 0;
                });

                // Link hover
                linkElements.on("mouseenter", function(event, d) {
                    const source = nodes.find(n => n.id === d.source);
                    const target = nodes.find(n => n.id === d.target);
                    
                    infoTitle.textContent = `${source.name} → ${target.name}`;
                    infoContent.textContent = `Connection strength: ${d.value}/5`;
                    infoBox.style.opacity = 1;
                    infoBox.style.left = (event.pageX + 15) + "px";
                    infoBox.style.top = (event.pageY - 30) + "px";

                    // Dim other links
                    d3.select(this).transition().style("opacity", 1).style("stroke-width", d.value * 1.2);
                    d3.selectAll(".link").filter(link => link !== d)
                        .transition().style("opacity", 0.1);
                });

                linkElements.on("mousemove", function(event) {
                    infoBox.style.left = (event.pageX + 15) + "px";
                    infoBox.style.top = (event.pageY - 30) + "px";
                });

                linkElements.on("mouseleave", function() {
                    d3.selectAll(".link")
                        .transition()
                        .style("opacity", 0.7)
                        .style("stroke-width", d => d.value * 0.8);
                    infoBox.style.opacity = 0;
                });

                // Create legend
                const legendContainer = document.getElementById("legend");
                nodes.forEach((node) => {
                    const item = document.createElement("div");
                    item.className = "legend-item";
                    item.style.display = "flex";
                    item.style.alignItems = "center";
                    item.style.gap = "10px";
                    item.style.padding = "10px 15px";
                    item.style.background = "#E8F0FC";
                    item.style.borderRadius = "8px";
                    item.style.transition = "all 0.3s ease";
                    item.style.cursor = "pointer";
                    
                    item.innerHTML = `
                        <div class="legend-color" style="width: 20px; height: 20px; border-radius: 4px; background: ${node.color};"></div>
                        <div class="legend-text" style="font-size: 0.85rem; color: #1a202c; font-weight: 600;">${node.name}</div>
                    `;
                    
                    // Legend interaction
                    item.addEventListener("mouseenter", () => {
                        d3.selectAll(".link")
                            .style("opacity", function(link) {
                                return (link.source === node.id || link.target === node.id) ? 1 : 0.1;
                            });
                        
                        d3.selectAll(".node rect")
                            .style("opacity", function(d) {
                                return d.id === node.id ? 1 : 0.3;
                            });
                    });
                    
                    item.addEventListener("mouseleave", () => {
                        d3.selectAll(".link").style("opacity", 0.7);
                        d3.selectAll(".node rect").style("opacity", 1);
                    });
                    
                    legendContainer.appendChild(item);
                });

                // Make responsive
                function handleResize() {
                    const newWidth = document.getElementById('chart').clientWidth;
                    svg.attr("viewBox", [0, 0, newWidth, height]);
                    
                    // Recalculate node positions
                    nodes.forEach(node => {
                        if (node.level === 0) {
                            node.x = margin.left;
                        } else {
                            node.x = margin.left + ((newWidth - margin.left - margin.right) / 2) + 100;
                        }
                    });

                    // Update node positions
                    nodeElements.attr("transform", d => `translate(${d.x}, ${d.y})`);
                    
                    // Update links
                    linkElements.attr("d", linkGenerator);
                }

                window.addEventListener('resize', handleResize);
            </script>
        </section>

        <!-- Conceptual Phase Section -->
        <section id="conceptual-phase" class="section">
            <div class="container">
                <h2>Conceptual Phase — Designing Selective</h2>
                <div class="card">
                    <div class="timeline-container">
                        <div class="header">
                            <h3>HearOnly Development Timeline</h3>
                            <p class="subtitle">5-Year Roadmap to Market Leadership</p>
                        </div>

                        <div id="timeline"></div>

                        <div class="phase-details">
                            <div class="phase-card" data-phase="1">
                                <div class="phase-title">Phase 1: Foundation</div>
                                <div class="phase-duration">Years 0–2</div>
                                <div class="phase-description">
                                    Establish core technology infrastructure and validate market fit through focused development and testing.
                                </div>
                                <ul class="phase-milestones">
                                    <li>AI algorithm development</li>
                                    <li>Prototype testing & refinement</li>
                                    <li>Patent filing & IP protection</li>
                                    <li>Early adopter beta program</li>
                                    <li>Initial market validation</li>
                                </ul>
                            </div>

                            <div class="phase-card" data-phase="2">
                                <div class="phase-title">Phase 2: Expansion</div>
                                <div class="phase-duration">Years 2–5</div>
                                <div class="phase-description">
                                    Scale operations, expand market reach, and establish HearOnly as the industry standard for selective audio.
                                </div>
                                <ul class="phase-milestones">
                                    <li>Commercial product launch</li>
                                    <li>Multi-platform integration</li>
                                    <li>Enterprise partnerships</li>
                                    <li>Global market expansion</li>
                                    <li>Advanced AI features rollout</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <style>
                        .timeline-container {
                            width: 100%;
                            padding: 20px;
                        }
                        .timeline-container .header {
                            text-align: center;
                            margin-bottom: 30px;
                        }
                        .timeline-container h3 {
                            font-size: 1.8rem;
                            color: #1a202c;
                            margin-bottom: 8px;
                        }
                        .timeline-container .subtitle {
                            color: #4169E1;
                            font-size: 0.9rem;
                            text-transform: uppercase;
                            letter-spacing: 0.2em;
                            font-weight: 600;
                        }
                        #timeline {
                            margin: 30px 0;
                        }
                        #timeline svg {
                            width: 100%;
                            height: auto;
                            overflow: visible;
                        }
                        .axis path,
                        .axis line {
                            stroke: #cbd5e0;
                            stroke-width: 2;
                        }
                        .axis text {
                            fill: #4a5568;
                            font-size: 13px;
                            font-weight: 500;
                        }
                        .bar {
                            cursor: pointer;
                            transition: all 0.3s ease;
                        }
                        .bar:hover {
                            filter: brightness(1.1);
                        }
                        .bar-label {
                            fill: white;
                            font-size: 13px;
                            font-weight: 700;
                            dominant-baseline: middle;
                            pointer-events: none;
                            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
                        }
                        .phase-details {
                            margin-top: 40px;
                            display: grid;
                            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                            gap: 20px;
                        }
                        .phase-card {
                            background: linear-gradient(135deg, #E8F0FC 0%, #F8FAFF 100%);
                            border: 2px solid #4169E1;
                            border-radius: 12px;
                            padding: 20px;
                            transition: all 0.3s ease;
                            cursor: pointer;
                        }
                        .phase-card:hover {
                            transform: translateY(-3px);
                            box-shadow: 0 8px 20px rgba(65, 105, 225, 0.15);
                        }
                        .phase-card.active {
                            background: linear-gradient(135deg, #4169E1 0%, #6B8FF6 100%);
                            color: white;
                            transform: scale(1.02);
                            box-shadow: 0 10px 30px rgba(65, 105, 225, 0.2);
                        }
                        .phase-title {
                            font-size: 1.2rem;
                            font-weight: 700;
                            color: #4169E1;
                            margin-bottom: 8px;
                        }
                        .phase-card.active .phase-title {
                            color: white;
                        }
                        .phase-duration {
                            font-size: 0.85rem;
                            color: #6B8FF6;
                            font-weight: 600;
                            margin-bottom: 12px;
                            text-transform: uppercase;
                            letter-spacing: 0.1em;
                        }
                        .phase-card.active .phase-duration {
                            color: rgba(255, 255, 255, 0.9);
                        }
                        .phase-description {
                            font-size: 0.9rem;
                            line-height: 1.5;
                            color: #4a5568;
                            margin-bottom: 12px;
                        }
                        .phase-card.active .phase-description {
                            color: rgba(255, 255, 255, 0.95);
                        }
                        .phase-milestones {
                            list-style: none;
                            padding: 0;
                        }
                        .phase-milestones li {
                            padding-left: 20px;
                            position: relative;
                            margin-bottom: 6px;
                            font-size: 0.85rem;
                            color: #4a5568;
                        }
                        .phase-card.active .phase-milestones li {
                            color: rgba(255, 255, 255, 0.9);
                        }
                        .phase-milestones li::before {
                            content: "✓";
                            position: absolute;
                            left: 0;
                            color: #4169E1;
                            font-weight: 700;
                        }
                        .phase-card.active .phase-milestones li::before {
                            color: white;
                        }
                        .axis-label {
                            font-size: 12px;
                            font-weight: 600;
                            fill: #1a202c;
                        }
                        .grid-line {
                            stroke: #e2e8f0;
                            stroke-width: 1;
                            stroke-dasharray: 4;
                            opacity: 0.5;
                        }
                        @media (max-width: 768px) {
                            .phase-details {
                                grid-template-columns: 1fr;
                            }
                            .timeline-container h3 {
                                font-size: 1.5rem;
                            }
                        }
                    </style>
                    <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            // Data
                            const data = [
                                { 
                                    phase: "Phase 1", 
                                    label: "Foundation",
                                    start: 0, 
                                    end: 2,
                                    color: "#4169E1",
                                    description: "Core technology & market validation"
                                },
                                { 
                                    phase: "Phase 2", 
                                    label: "Expansion",
                                    start: 2, 
                                    end: 5,
                                    color: "#6B8FF6",
                                    description: "Scaling & market leadership"
                                }
                            ];

                            const margin = { top: 20, right: 30, bottom: 50, left: 100 };
                            const container = document.querySelector('#timeline');
                            const containerWidth = container.offsetWidth;
                            const height = 200;
                            const width = containerWidth - margin.left - margin.right;

                            // Create SVG
                            const svg = d3
                                .select("#timeline")
                                .append("svg")
                                .attr("viewBox", `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`)
                                .append("g")
                                .attr("transform", `translate(${margin.left},${margin.top})`);

                            // Add glow filter
                            const defs = svg.append("defs");
                            const filter = defs.append("filter")
                                .attr("id", "glow");
                            filter.append("feGaussianBlur")
                                .attr("stdDeviation", "3")
                                .attr("result", "coloredBlur");
                            const feMerge = filter.append("feMerge");
                            feMerge.append("feMergeNode")
                                .attr("in", "coloredBlur");
                            feMerge.append("feMergeNode")
                                .attr("in", "SourceGraphic");

                            // Scales
                            const x = d3
                                .scaleLinear()
                                .domain([0, 5])
                                .range([0, width]);

                            const y = d3
                                .scaleBand()
                                .domain(data.map(d => d.phase))
                                .range([0, height])
                                .padding(0.4);

                            // Add grid lines
                            svg.selectAll(".grid-line")
                                .data(x.ticks(5))
                                .enter()
                                .append("line")
                                .attr("class", "grid-line")
                                .attr("x1", d => x(d))
                                .attr("x2", d => x(d))
                                .attr("y1", 0)
                                .attr("y2", height);

                            // Axes
                            const xAxis = d3.axisBottom(x)
                                .ticks(5)
                                .tickFormat(d => `Year ${d}`);
                            
                            const yAxis = d3.axisLeft(y);

                            // Draw axes
                            svg
                                .append("g")
                                .attr("class", "axis x-axis")
                                .attr("transform", `translate(0, ${height})`)
                                .call(xAxis)
                                .selectAll("text")
                                .style("font-weight", "600");

                            svg
                                .append("g")
                                .attr("class", "axis y-axis")
                                .call(yAxis)
                                .selectAll("text")
                                .style("font-weight", "700")
                                .style("font-size", "13px")
                                .style("fill", "#1a202c");

                            // X-axis label
                            svg
                                .append("text")
                                .attr("class", "axis-label")
                                .attr("x", width / 2)
                                .attr("y", height + margin.bottom - 10)
                                .attr("text-anchor", "middle")
                                .text("Timeline (Conceptual Duration)");

                            // Bars with animation
                            const bars = svg
                                .selectAll(".bar")
                                .data(data)
                                .enter()
                                .append("rect")
                                .attr("class", "bar")
                                .attr("x", d => x(d.start))
                                .attr("y", d => y(d.phase))
                                .attr("width", 0)
                                .attr("height", y.bandwidth())
                                .attr("rx", 6)
                                .attr("fill", d => d.color)
                                .style("filter", "url(#glow)")
                                .style("opacity", 0.9);

                            // Animate bars
                            bars.transition()
                                .duration(1200)
                                .delay((d, i) => i * 200)
                                .attr("width", d => x(d.end) - x(d.start))
                                .style("opacity", 1);

                            // Bar labels
                            const labels = svg
                                .selectAll(".bar-label")
                                .data(data)
                                .enter()
                                .append("text")
                                .attr("class", "bar-label")
                                .attr("x", d => x(d.start) + (x(d.end) - x(d.start)) / 2)
                                .attr("y", d => y(d.phase) + y.bandwidth() / 2)
                                .attr("text-anchor", "middle")
                                .style("opacity", 0);

                            labels.append("tspan")
                                .attr("x", d => x(d.start) + (x(d.end) - x(d.start)) / 2)
                                .attr("dy", "-0.3em")
                                .text(d => d.label)
                                .style("font-size", "14px");

                            labels.append("tspan")
                                .attr("x", d => x(d.start) + (x(d.end) - x(d.start)) / 2)
                                .attr("dy", "1.4em")
                                .text(d => `${d.start}–${d.end} years`)
                                .style("font-size", "11px")
                                .style("opacity", "0.95");

                            // Animate labels
                            labels.transition()
                                .duration(600)
                                .delay(1500)
                                .style("opacity", 1);

                            // Bar hover effects
                            bars.on("mouseenter", function(event, d) {
                                d3.select(this)
                                    .transition()
                                    .duration(200)
                                    .attr("height", y.bandwidth() * 1.1)
                                    .attr("y", d => y(d.phase) - (y.bandwidth() * 0.1) / 2)
                                    .style("opacity", 1);

                                // Highlight corresponding card
                                const phaseIndex = data.indexOf(d) + 1;
                                document.querySelectorAll('.phase-card').forEach(card => {
                                    if (card.dataset.phase == phaseIndex) {
                                        card.classList.add('active');
                                    }
                                });
                            });

                            bars.on("mouseleave", function(event, d) {
                                d3.select(this)
                                    .transition()
                                    .duration(200)
                                    .attr("height", y.bandwidth())
                                    .attr("y", d => y(d.phase))
                                    .style("opacity", 0.9);

                                // Remove highlight
                                document.querySelectorAll('.phase-card').forEach(card => {
                                    card.classList.remove('active');
                                });
                            });

                            // Phase card interactions
                            document.querySelectorAll('.phase-card').forEach(card => {
                                card.addEventListener('click', function() {
                                    const phaseNum = parseInt(this.dataset.phase);
                                    
                                    document.querySelectorAll('.phase-card').forEach(c => {
                                        c.classList.remove('active');
                                    });
                                    this.classList.add('active');

                                    // Highlight corresponding bar
                                    bars.style("opacity", (d, i) => i === phaseNum - 1 ? 1 : 0.5);
                                    
                                    setTimeout(() => {
                                        bars.style("opacity", 0.9);
                                    }, 2000);
                                });
                            });

                            // Handle window resize
                            function handleResize() {
                                const newWidth = container.offsetWidth - margin.left - margin.right;
                                
                                // Update SVG dimensions
                                svg.attr("width", newWidth + margin.left + margin.right)
                                   .attr("viewBox", `0 0 ${newWidth + margin.left + margin.right} ${height + margin.top + margin.bottom}`);
                                
                                // Update x-scale range
                                x.range([0, newWidth]);
                                
                                // Update x-axis
                                svg.select(".x-axis")
                                    .attr("transform", `translate(0, ${height})`)
                                    .call(xAxis);
                                
                                // Update bars
                                bars.attr("x", d => x(d.start))
                                    .attr("width", d => x(d.end) - x(d.start));
                                
                                // Update grid lines
                                svg.selectAll(".grid-line")
                                    .attr("x1", d => x(d))
                                    .attr("x2", d => x(d));
                                
                                // Update labels
                                labels.attr("x", d => x(d.start) + (x(d.end) - x(d.start)) / 2);
                                labels.selectAll("tspan")
                                    .attr("x", d => x(d.start) + (x(d.end) - x(d.start)) / 2);
                                
                                // Update x-axis label
                                svg.select(".axis-label")
                                    .attr("x", newWidth / 2);
                            }

                            // Add resize event listener
                            window.addEventListener('resize', handleResize);
                        });
                    </script>
                </div>
            </div>
        </section>

        <!-- RACI Matrix Section -->
        <section id="raci-matrix" class="section">
            <div class="container">
                <h2>Project RACI Matrix</h2>
                <div class="card">
                    <div class="raci-container">
                        <div class="header">
                            <h3>Responsibility Assignment</h3>
                            <p class="subtitle">Clear Roles for Project Success</p>
                            
                            <div class="legend">
                                <div class="legend-item">
                                    <div class="legend-box legend-r">R</div>
                                    <span>Responsible</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-box legend-a">A</div>
                                    <span>Accountable</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-box legend-c">C</div>
                                    <span>Consulted</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-box legend-i">I</div>
                                    <span>Informed</span>
                                </div>
                            </div>
                        </div>

                        <div id="matrix"></div>

                        <div class="info-panel" id="infoPanel">
                            <div class="info-title" id="infoTitle"></div>
                            <div class="info-content" id="infoContent"></div>
                        </div>

                        <div class="stats">
                            6 Teams | 6 Tasks/Deliverables | 36 Total Assignments
                        </div>
                    </div>
                    <style>
                        .raci-container {
                            width: 100%;
                            padding: 20px;
                            overflow-x: auto;
                        }
                        .raci-container .header {
                            text-align: center;
                            margin-bottom: 30px;
                        }
                        .raci-container h3 {
                            font-size: 1.8rem;
                            color: #1a202c;
                            margin-bottom: 8px;
                        }
                        .raci-container .subtitle {
                            color: #4169E1;
                            font-size: 0.9rem;
                            text-transform: uppercase;
                            letter-spacing: 0.2em;
                            font-weight: 600;
                            margin-bottom: 20px;
                            display: block;
                        }
                        .legend {
                            display: flex;
                            justify-content: center;
                            gap: 30px;
                            flex-wrap: wrap;
                            margin: 20px 0;
                        }
                        .legend-item {
                            display: flex;
                            align-items: center;
                            gap: 10px;
                            font-size: 13px;
                            color: #4a5568;
                            font-weight: 600;
                        }
                        .legend-box {
                            width: 28px;
                            height: 28px;
                            border-radius: 6px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: white;
                            font-weight: 700;
                            font-size: 12px;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                        }
                        .legend-r { background: #4CAF50; }
                        .legend-a { background: #2196F3; }
                        .legend-c { background: #9C27B0; }
                        .legend-i { background: #FFC107; }
                        #matrix {
                            margin: 20px 0;
                            overflow: auto;
                        }
                        #matrix svg {
                            display: block;
                            margin: 0 auto;
                        }
                        .cell {
                            cursor: pointer;
                            transition: all 0.3s ease;
                        }
                        .cell:hover {
                            opacity: 0.8;
                            filter: brightness(1.1);
                        }
                        .cell-text {
                            font-weight: 700;
                            font-size: 16px;
                            fill: white;
                            text-anchor: middle;
                            dominant-baseline: middle;
                            pointer-events: none;
                        }
                        .row-label, .col-label {
                            font-size: 12px;
                            font-weight: 600;
                            fill: #1a202c;
                        }
                        .row-label {
                            text-anchor: end;
                        }
                        .col-label {
                            text-anchor: start;
                        }
                        .grid-line {
                            stroke: #e2e8f0;
                            stroke-width: 1;
                        }
                        .info-panel {
                            margin-top: 30px;
                            background: #E8F0FC;
                            border-radius: 12px;
                            padding: 20px;
                            border: 2px solid #4169E1;
                            display: none;
                        }
                        .info-panel.active {
                            display: block;
                            animation: slideIn 0.3s ease;
                        }
                        @keyframes slideIn {
                            from {
                                opacity: 0;
                                transform: translateY(-10px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }
                        .info-title {
                            font-size: 1.1rem;
                            font-weight: 700;
                            color: #4169E1;
                            margin-bottom: 10px;
                        }
                        .info-content {
                            color: #1a202c;
                            line-height: 1.6;
                            font-size: 0.95rem;
                        }
                        .stats {
                            margin-top: 20px;
                            text-align: center;
                            padding: 15px;
                            background: linear-gradient(135deg, #E8F0FC 0%, #F8FAFF 100%);
                            border-radius: 8px;
                            font-size: 0.9rem;
                            color: #4a5568;
                            font-weight: 600;
                        }
                        @media (max-width: 768px) {
                            .legend {
                                gap: 15px;
                            }
                            .legend-item {
                                font-size: 12px;
                            }
                            .legend-box {
                                width: 24px;
                                height: 24px;
                                font-size: 11px;
                            }
                        }
                    </style>
                    <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            // RACI Matrix Data
                            const roles = [
                                "Executive Sponsor / Steering Committee",
                                "PMO (Project Manager Officer)",
                                "Product Development & Engineering",
                                "Supply Chain & Manufacturing",
                                "Marketing, CX & Commercialization",
                                "Compliance: IT & Data Security"
                            ];

                            const tasks = [
                                "Project Governance & Strategy",
                                "AI Algorithm & Model Development",
                                "Hardware Prototyping & Sourcing",
                                "User Testing & Feedback",
                                "Market Entry & Commercialization",
                                "Regulatory & Data Compliance"
                            ];

                            // RACI assignments (R, A, C, I)
                            const matrix = [
                                ["A", "R", "C", "I", "I", "C"],
                                ["I", "C", "A", "I", "I", "C"],
                                ["I", "I", "A", "R", "I", "I"],
                                ["I", "I", "C", "I", "A", "C"],
                                ["I", "C", "C", "C", "A", "C"],
                                ["A", "I", "C", "I", "C", "R"]
                            ];

                            const colorMap = {
                                "R": "#4CAF50",  // Green
                                "A": "#2196F3",  // Blue
                                "C": "#9C27B0",  // Purple
                                "I": "FFC107"    // Yellow
                            };

                            const descriptions = {
                                "R": "Responsible - Does the work to complete the task",
                                "A": "Accountable - Ultimately answerable for the correct completion",
                                "C": "Consulted - Provides input and feedback",
                                "I": "Informed - Kept up-to-date on progress"
                            };

                            // Dimensions
                            const cellSize = 70;
                            const labelWidth = 280;
                            const labelHeight = 160;
                            const margin = { top: labelHeight + 20, right: 40, bottom: 40, left: labelWidth };
                            
                            const container = document.getElementById('matrix');
                            const containerWidth = container.offsetWidth;
                            const width = Math.min(1200, containerWidth) - margin.left - margin.right;
                            const height = tasks.length * cellSize + margin.top + margin.bottom;

                            // Create SVG
                            const svg = d3.select("#matrix")
                                .append("svg")
                                .attr("width", width + margin.left + margin.right)
                                .attr("height", height)
                                .append("g")
                                .attr("transform", `translate(${margin.left}, ${margin.top})`);

                            // Draw grid lines
                            for (let i = 0; i <= tasks.length; i++) {
                                svg.append("line")
                                    .attr("class", "grid-line")
                                    .attr("x1", 0)
                                    .attr("y1", i * cellSize)
                                    .attr("x2", roles.length * cellSize)
                                    .attr("y2", i * cellSize);
                            }

                            for (let i = 0; i <= roles.length; i++) {
                                svg.append("line")
                                    .attr("class", "grid-line")
                                    .attr("x1", i * cellSize)
                                    .attr("y1", 0)
                                    .attr("x2", i * cellSize)
                                    .attr("y2", tasks.length * cellSize);
                            }

                            // Draw cells
                            tasks.forEach((task, i) => {
                                roles.forEach((role, j) => {
                                    const value = matrix[i][j];
                                    
                                    const cell = svg.append("g")
                                        .attr("class", "cell")
                                        .attr("transform", `translate(${j * cellSize}, ${i * cellSize})`);

                                    cell.append("rect")
                                        .attr("width", cellSize - 2)
                                        .attr("height", cellSize - 2)
                                        .attr("x", 1)
                                        .attr("y", 1)
                                        .attr("rx", 6)
                                        .attr("fill", colorMap[value])
                                        .style("opacity", 0)
                                        .transition()
                                        .duration(600)
                                        .delay((i * roles.length + j) * 30)
                                        .style("opacity", 0.9);

                                    cell.append("text")
                                        .attr("class", "cell-text")
                                        .attr("x", cellSize / 2)
                                        .attr("y", cellSize / 2)
                                        .text(value)
                                        .style("opacity", 0)
                                        .transition()
                                        .duration(400)
                                        .delay((i * roles.length + j) * 30 + 200)
                                        .style("opacity", 1);

                                    // Add interactivity
                                    cell.on("click", function() {
                                        const panel = document.getElementById("infoPanel");
                                        const title = document.getElementById("infoTitle");
                                        const content = document.getElementById("infoContent");

                                        title.textContent = `${task} × ${role}`;
                                        content.textContent = `Assignment: ${descriptions[value]}`;
                                        panel.classList.add("active");
                                    });

                                    cell.on("mouseenter", function() {
                                        d3.select(this).select("rect")
                                            .transition()
                                            .duration(200)
                                            .style("opacity", 1)
                                            .attr("width", cellSize)
                                            .attr("height", cellSize)
                                            .attr("x", 0)
                                            .attr("y", 0);
                                    });

                                    cell.on("mouseleave", function() {
                                        d3.select(this).select("rect")
                                            .transition()
                                            .duration(200)
                                            .style("opacity", 0.9)
                                            .attr("width", cellSize - 2)
                                            .attr("height", cellSize - 2)
                                            .attr("x", 1)
                                            .attr("y", 1);
                                    });
                                });
                            });

                            // Add row labels (tasks)
                            tasks.forEach((task, i) => {
                                svg.append("text")
                                    .attr("class", "row-label")
                                    .attr("x", -10)
                                    .attr("y", i * cellSize + cellSize / 2)
                                    .attr("dominant-baseline", "middle")
                                    .text(task)
                                    .style("opacity", 0)
                                    .transition()
                                    .duration(600)
                                    .delay(i * 100)
                                    .style("opacity", 1);
                            });

                            // Add column labels (roles) - rotated
                            roles.forEach((role, i) => {
                                svg.append("text")
                                    .attr("class", "col-label")
                                    .attr("transform", `translate(${i * cellSize + cellSize / 2}, -10) rotate(-45)`)
                                    .text(role)
                                    .style("opacity", 0)
                                    .transition()
                                    .duration(600)
                                    .delay(i * 100 + 300)
                                    .style("opacity", 1);
                            });

                            // Click outside to close info panel
                            document.addEventListener("click", function(e) {
                                if (!e.target.closest(".cell") && !e.target.closest(".info-panel")) {
                                    document.getElementById("infoPanel").classList.remove("active");
                                }
                            });

                            // Handle window resize
                            function handleResize() {
                                const newWidth = Math.min(1200, container.offsetWidth) - margin.left - margin.right;
                                
                                svg.attr("width", newWidth + margin.left + margin.right);
                                
                                // Update column width based on available space
                                const newCellSize = Math.max(60, Math.min(80, (newWidth / roles.length) * 0.9));
                                
                                // Update cell positions and sizes
                                svg.selectAll(".cell")
                                    .attr("transform", (d, i) => {
                                        const row = Math.floor(i / roles.length);
                                        const col = i % roles.length;
                                        return `translate(${col * newCellSize}, ${row * newCellSize})`;
                                    });
                                
                                // Update cell rectangles
                                svg.selectAll(".cell rect")
                                    .attr("width", newCellSize - 2)
                                    .attr("height", newCellSize - 2);
                                
                                // Update cell text
                                svg.selectAll(".cell text.cell-text")
                                    .attr("x", newCellSize / 2)
                                    .attr("y", newCellSize / 2);
                                
                                // Update row labels
                                svg.selectAll(".row-label")
                                    .attr("y", (d, i) => i * newCellSize + newCellSize / 2);
                                
                                // Update column labels
                                svg.selectAll(".col-label")
                                    .attr("transform", (d, i) => 
                                        `translate(${i * newCellSize + newCellSize / 2}, -10) rotate(-45)`);
                                
                                // Update grid lines
                                svg.selectAll(".grid-line").remove();
                                
                                // Redraw grid lines
                                for (let i = 0; i <= tasks.length; i++) {
                                    svg.append("line")
                                        .attr("class", "grid-line")
                                        .attr("x1", 0)
                                        .attr("y1", i * newCellSize)
                                        .attr("x2", roles.length * newCellSize)
                                        .attr("y2", i * newCellSize);
                                }
                                
                                for (let i = 0; i <= roles.length; i++) {
                                    svg.append("line")
                                        .attr("class", "grid-line")
                                        .attr("x1", i * newCellSize)
                                        .attr("y1", 0)
                                        .attr("x2", i * newCellSize)
                                        .attr("y2", tasks.length * newCellSize);
                                }
                            }

                            // Add window resize listener
                            window.addEventListener('resize', handleResize);
                        });
                    </script>
                </div>
            </div>
        </section>

        <!-- Stakeholder Mapping Section -->
        <section id="stakeholder" class="section">
            <div class="container">
                <h2>Stakeholder Mapping</h2>
                <div class="card">
                    <div class="hybrid-diagram">
                        <div class="hybrid-title">
                            <h3>Hybrid Methodology</h3>
                            <span>Agile development &amp; testing with Stage Gate governance</span>
                        </div>

                        <!-- stepper timeline -->
                        <div class="hybrid-stepper">
                            <div class="step active">
                                <div class="step-circle">1</div>
                                <div class="step-label">
                                    First Phase
                                    <span>MVP • Years 0–2</span>
                                </div>
                            </div>
                            <div class="step-line"></div>
                            <div class="step">
                                <div class="step-circle">2</div>
                                <div class="step-label">
                                    Second Phase
                                    <span>Scaling • Years 3–5</span>
                                </div>
                            </div>
                        </div>

                        <div class="hybrid-core">Core Framework</div>

                        <div class="hybrid-flow">
                            <!-- Phase 1 -->
                            <div class="phase-card phase-1">
                                <div class="phase-header">
                                    <div>
                                        <div class="phase-badge">Phase 1</div>
                                        <h4>Build & Validate MVP</h4>
                                    </div>
                                    <div class="phase-duration">
                                        <span>⏱</span> 0–2 years
                                    </div>
                                </div>

                                <div class="phase-section">
                                    <div class="phase-section-title">
                                        <span class="icon">🚀</span> Minimum Viable Product
                                    </div>
                                    <ul>
                                        <li>Deliver a Minimum Viable Product within 24 months.</li>
                                    </ul>
                                </div>

                                <div class="phase-section" style="margin-top:0.8rem;">
                                    <div class="phase-section-title">
                                        <span class="icon">🔁</span> Agile Sprints with Stage Gates
                                    </div>
                                    <ul>
                                        <li class="sub">Initiation &amp; requirements gathering</li>
                                        <li class="sub">Design &amp; development</li>
                                        <li class="sub">Testing &amp; validation</li>
                                        <li class="sub">Deployment &amp; transition</li>
                                    </ul>
                                </div>

                                <div class="phase-section" style="margin-top:0.8rem;">
                                    <div class="phase-section-title">
                                        <span class="icon">📌</span> Major Milestones
                                    </div>
                                    <ul>
                                        <li class="sub">Project charter sign-off</li>
                                        <li class="sub">Design review approval</li>
                                        <li class="sub">Prototype release</li>
                                        <li class="sub">Go-live decision</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Arrow -->
                            <div class="phase-arrow">
                                <span></span>
                                <div class="arrow-label">Transition</div>
                            </div>

                            <!-- Phase 2 -->
                            <div class="phase-card phase-2">
                                <div class="phase-header">
                                    <div>
                                        <div class="phase-badge">Phase 2</div>
                                        <h4>Scale & Optimize</h4>
                                    </div>
                                    <div class="phase-duration">
                                        <span>📈</span> Years 3–5
                                    </div>
                                </div>

                                <div class="phase-section">
                                    <div class="phase-section-title">
                                        <span class="icon">⚙️</span> Scaling & Optimization
                                    </div>
                                    <ul>
                                        <li>Expand deployment and optimize performance across markets.</li>
                                    </ul>
                                </div>

                                <div class="phase-section" style="margin-top:0.8rem;">
                                    <div class="phase-section-title">
                                        <span class="icon">🤖</span> AI-Driven Analytics
                                    </div>
                                    <ul>
                                        <li>Integrate AI-driven analytics for continuous improvement.</li>
                                    </ul>
                                </div>

                                <div class="phase-section" style="margin-top:0.8rem;">
                                    <div class="phase-section-title">
                                        <span class="icon">📊</span> Performance Measurement
                                    </div>
                                    <ul>
                                        <li>Use advanced tools for monitoring and measuring product performance.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <style>
                        .hybrid-diagram {
                            max-width: 1150px;
                            width: 100%;
                            position: relative;
                            animation: fadeIn 0.6s ease-out;
                            margin: 0 auto;
                            padding: 2rem 0;
                        }

                        .hybrid-diagram::before {
                            content: "";
                            position: absolute;
                            inset: 20% -10%;
                            background: none;
                            z-index: -1;
                        }

                        @keyframes fadeIn {
                            from { opacity: 0; transform: translateY(20px); }
                            to { opacity: 1; transform: translateY(0); }
                        }

                        .hybrid-title {
                            text-align: center;
                            margin-bottom: 1.5rem;
                        }

                        .hybrid-title h3 {
                            font-size: 1.6rem;
                            font-weight: 700;
                            color: #1f2933;
                            margin-bottom: 0.35rem;
                        }

                        .hybrid-title span {
                            font-size: 1rem;
                            font-weight: 400;
                            color: #546e7a;
                            display: block;
                        }

                        .hybrid-stepper {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            gap: 1.5rem;
                            margin-bottom: 1.75rem;
                        }

                        .step {
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            gap: 0.25rem;
                        }

                        .step-circle {
                            width: 38px;
                            height: 38px;
                            border-radius: 999px;
                            background: white;
                            border: 2px solid #9fa8da;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-weight: 600;
                            color: #3949ab;
                            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
                        }

                        .step.active .step-circle {
                            background: #667eea;
                            color: white;
                            border-color: transparent;
                        }

                        .step-label {
                            font-size: 0.85rem;
                            text-align: center;
                            color: #455a64;
                        }

                        .step-label span {
                            display: block;
                            font-size: 0.78rem;
                            color: #78909c;
                        }

                        .step-line {
                            flex: 0 0 140px;
                            height: 3px;
                            border-radius: 999px;
                            background: #e8eaf6;
                            position: relative;
                            overflow: hidden;
                        }

                        .step-line::after {
                            content: "";
                            position: absolute;
                            inset: 0;
                            background: #667eea;
                            transform-origin: left;
                            transform: scaleX(0.6);
                        }

                        .hybrid-core {
                            text-align: center;
                            background: #667eea;
                            color: white;
                            padding: 0.7rem 1.8rem;
                            border-radius: 999px;
                            font-weight: 600;
                            font-size: 1.05rem;
                            margin: 0 auto 2.1rem;
                            display: inline-block;
                            box-shadow: 0 8px 18px rgba(102, 126, 234, 0.3);
                        }

                        .hybrid-flow {
                            display: grid;
                            grid-template-columns: 1.3fr auto 1.1fr;
                            align-items: stretch;
                            gap: 1.5rem;
                            animation: slideUp 0.6s ease-out 0.15s both;
                        }

                        @keyframes slideUp {
                            from { opacity: 0; transform: translateY(20px); }
                            to { opacity: 1; transform: translateY(0); }
                        }

                        .phase-card {
                            background: white;
                            border-radius: 20px;
                            padding: 1.7rem 1.9rem;
                            box-shadow: 0 14px 40px rgba(15, 23, 42, 0.12);
                            position: relative;
                            overflow: hidden;
                        }

                        .phase-card::after {
                            content: "";
                            position: absolute;
                            right: -40px;
                            bottom: -40px;
                            width: 110px;
                            height: 110px;
                            border-radius: 50%;
                            background: rgba(102,126,234,0.16);
                            pointer-events: none;
                        }

                        .phase-2::after {
                            background: rgba(118,75,162,0.16);
                        }

                        .phase-header {
                            display: flex;
                            align-items: center;
                            justify-content: space-between;
                            gap: 0.75rem;
                            margin-bottom: 1.2rem;
                        }

                        .phase-badge {
                            font-size: 0.78rem;
                            padding: 0.25rem 0.7rem;
                            border-radius: 999px;
                            background: #e8eaf6;
                            color: #3949ab;
                            font-weight: 600;
                            letter-spacing: 0.03em;
                            text-transform: uppercase;
                        }

                        .phase-2 .phase-badge {
                            background: #f3e5f5;
                            color: #6a1b9a;
                        }

                        .phase-duration {
                            font-size: 0.8rem;
                            color: #78909c;
                            display: flex;
                            align-items: center;
                            gap: 0.25rem;
                        }

                        .phase-duration span {
                            font-size: 1rem;
                        }

                        .phase-card h4 {
                            font-size: 1.3rem;
                            font-weight: 700;
                            color: #1f2933;
                        }

                        .phase-1 h4 { color: #3f51b5; }
                        .phase-2 h4 { color: #7b1fa2; }

                        .phase-section {
                            margin-top: 1.1rem;
                            padding: 0.6rem 0.8rem;
                            border-radius: 0.9rem;
                            background: #f8fafc;
                            border: 1px dashed #e0e7ff;
                        }

                        .phase-2 .phase-section {
                            border-color: #f3e5f5;
                            background: #fcf7ff;
                        }

                        .phase-section-title {
                            font-size: 0.86rem;
                            font-weight: 600;
                            color: #455a64;
                            margin-bottom: 0.3rem;
                            display: flex;
                            align-items: center;
                            gap: 0.35rem;
                        }

                        .phase-section-title span.icon {
                            font-size: 1rem;
                        }

                        .phase-card ul {
                            list-style: none;
                            padding: 0;
                            margin: 0;
                        }

                        .phase-card li {
                            font-size: 0.9rem;
                            line-height: 1.55;
                            color: #546e7a;
                            padding-left: 1.1rem;
                            position: relative;
                            margin: 0.2rem 0;
                        }

                        .phase-card li::before {
                            content: "";
                            position: absolute;
                            left: 0;
                            top: 0.55rem;
                            width: 6px;
                            height: 6px;
                            border-radius: 999px;
                            background: #5c6bc0;
                        }

                        .phase-2 li::before {
                            background: #8e24aa;
                        }

                        .phase-card li.sub {
                            font-size: 0.86rem;
                            color: #78909c;
                            padding-left: 1.4rem;
                        }

                        .phase-card li.sub::before {
                            width: 4px;
                            height: 4px;
                            top: 0.6rem;
                            background: #b0bec5;
                        }

                        .phase-arrow {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            position: relative;
                        }

                        .phase-arrow span {
                            width: 0;
                            height: 0;
                            border-top: 60px solid transparent;
                            border-bottom: 60px solid transparent;
                            border-left: 95px solid #e0e7ff;
                            filter: drop-shadow(2px 4px 6px rgba(0, 0, 0, 0.1));
                            animation: pulse 2.2s ease-in-out infinite;
                        }

                        .arrow-label {
                            position: absolute;
                            writing-mode: vertical-rl;
                            text-orientation: mixed;
                            font-size: 0.78rem;
                            letter-spacing: 0.18em;
                            text-transform: uppercase;
                            color: #9fa8da;
                            font-weight: 600;
                        }

                        @keyframes pulse {
                            0%, 100% { transform: scale(1); opacity: 1; }
                            50% { transform: scale(1.04); opacity: 0.92; }
                        }

                        @media (max-width: 900px) {
                            .hybrid-flow {
                                grid-template-columns: 1fr;
                            }

                            .phase-arrow {
                                order: 2;
                                padding: 0.75rem 0;
                            }

                            .phase-arrow span {
                                transform: rotate(90deg);
                            }

                            .arrow-label {
                                position: static;
                                writing-mode: horizontal-tb;
                                text-orientation: initial;
                                margin-left: 0.5rem;
                            }
                        }

                        @media (max-width: 600px) {
                            .hybrid-diagram {
                                padding: 1.2rem 0;
                            }

                            .hybrid-title h3 {
                                font-size: 1.35rem;
                            }

                            .hybrid-title span {
                                font-size: 0.9rem;
                            }

                            .phase-card {
                                padding: 1.3rem 1.4rem;
                            }

                            .phase-card h4 {
                                font-size: 1.15rem;
                            }

                            .phase-card li {
                                font-size: 0.86rem;
                            }
                        }
                    </style>
                </div>
            </div>
        </section>

        <!-- Organization Chart Section -->
        <section id="Roles" class="section">
            <div class="container">
                <h2>Organization Structure</h2>
                <div class="card">
                    <div class="org-chart">
                        <!-- Executive Sponsor -->
                        <div class="org-level">
                            <div class="org-box executive">
                                <div class="title">Executive Sponsor</div>
                                <div class="role">Chief Transformation Officer (CTO)</div>
                            </div>
                        </div>

                        <!-- Steering Committee -->
                        <div class="connection-wrapper">
                            <div class="org-box steering">
                                Steering Committee
                            </div>
                        </div>

                        <!-- Functional Leads -->
                        <div class="label">Strategic Oversight and Funding</div>
                        <div class="org-level">
                            <div class="org-row">
                                <div class="org-box functional-lead">Project Management<br>Office (PMO)</div>
                                <div class="org-box functional-lead">Supply Chain<br>Lead</div>
                                <div class="org-box functional-lead">Finance Lead</div>
                                <div class="org-box functional-lead">IT Lead</div>
                                <div class="org-box functional-lead">Compliance &<br>Legal Lead</div>
                                <div class="org-box functional-lead">Marketing &<br>Customer<br>Experience Lead</div>
                            </div>
                        </div>

                        <!-- Program Manager -->
                        <div class="connection-wrapper">
                            <div class="org-box program-manager">
                                Program Manager
                            </div>
                        </div>

                        <!-- Operational Teams -->
                        <div class="label">Operational Coordination</div>
                        <div class="org-level">
                            <div class="org-row">
                                <div class="org-box team-box">Product<br>Development Team</div>
                                <div class="org-box team-box">Supply Chain<br>Team</div>
                                <div class="org-box team-box">Marketing &<br>User Experience<br>Team</div>
                                <div class="org-box team-box">Compliance, IT & Data<br>Security</div>
                                <div class="org-box team-box">External<br>Consultants</div>
                            </div>
                        </div>
                    </div>
                    
                    <style>
                        .org-chart {
                            max-width: 1400px;
                            width: 100%;
                            margin: 0 auto;
                            padding: 1rem 0;
                        }

                        .org-level {
                            display: flex;
                            justify-content: center;
                            margin-bottom: 2rem;
                            position: relative;
                        }

                        .org-box {
                            background: white;
                            border-radius: 12px;
                            padding: 1rem 1.5rem;
                            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                            text-align: center;
                            position: relative;
                            transition: all 0.3s ease;
                            min-width: 180px;
                        }

                        .org-box:hover {
                            transform: translateY(-4px);
                            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
                        }

                        .executive {
                            background: linear-gradient(135deg, #000000 0%, #2d3436 100%);
                            color: white;
                            font-weight: 700;
                            padding: 1.5rem 2rem;
                            font-size: 1.1rem;
                            min-width: 300px;
                        }

                        .executive .title {
                            font-size: 0.95rem;
                            margin-bottom: 0.3rem;
                            opacity: 0.9;
                        }

                        .executive .role {
                            font-size: 1.2rem;
                        }

                        .steering {
                            background: #e8eaf6;
                            border: 2px solid #9fa8da;
                            font-weight: 600;
                            color: #3949ab;
                        }

                        .program-manager {
                            background: #ffebee;
                            border: 2px solid #ef9a9a;
                            font-weight: 600;
                            color: #c62828;
                        }

                        .functional-lead {
                            background: white;
                            border: 2px solid #ddd;
                            font-weight: 500;
                            color: #333;
                            margin: 0 0.5rem;
                        }

                        .team-box {
                            background: white;
                            border: 1px solid #e0e0e0;
                            font-size: 0.9rem;
                            color: #555;
                            margin: 0 0.5rem;
                            min-width: 160px;
                        }

                        .connector-line {
                            position: absolute;
                            background: #b0bec5;
                            z-index: -1;
                        }

                        .vertical-line {
                            width: 2px;
                            height: 40px;
                            left: 50%;
                            transform: translateX(-1px);
                            top: 100%;
                        }

                        .horizontal-line {
                            height: 2px;
                            top: 20px;
                        }

                        .org-row {
                            display: flex;
                            justify-content: center;
                            align-items: flex-start;
                            gap: 1rem;
                            flex-wrap: wrap;
                        }

                        .label {
                            text-align: center;
                            color: #90a4ae;
                            font-size: 0.85rem;
                            font-style: italic;
                            margin: 1.5rem 0 1rem 0;
                            font-weight: 500;
                        }

                        .connection-wrapper {
                            position: relative;
                            display: flex;
                            justify-content: center;
                            margin-bottom: 3rem;
                        }

                        .connection-wrapper::before {
                            content: '';
                            position: absolute;
                            top: -20px;
                            left: 50%;
                            width: 2px;
                            height: 20px;
                            background: #b0bec5;
                            transform: translateX(-1px);
                        }

                        .connection-wrapper::after {
                            content: '';
                            position: absolute;
                            top: 0;
                            left: 10%;
                            right: 10%;
                            height: 2px;
                            background: #b0bec5;
                        }

                        @media (max-width: 1200px) {
                            .org-row {
                                flex-direction: column;
                                align-items: center;
                            }

                            .functional-lead,
                            .team-box {
                                margin: 0.5rem 0;
                            }

                            .connection-wrapper::after {
                                display: none;
                            }
                        }

                        @media (max-width: 600px) {
                            .org-chart {
                                padding: 1rem;
                            }

                            .executive {
                                min-width: 250px;
                                padding: 1.2rem 1.5rem;
                            }

                            .executive .role {
                                font-size: 1rem;
                            }

                            .org-box {
                                min-width: 150px;
                                padding: 0.8rem 1rem;
                                font-size: 0.9rem;
                            }
                        }
                    </style>
                </div>
            </div>
        </section>

        <!-- Roles & Governance Section -->
        <section id="roles" class="section">
            <div class="container">
                <h2>Roles & Governance</h2>
                <div class="card">
                    <div class="roles-grid">
                        <div class="role-card">
                            <h4>CTO & Steering Committee</h4>
                            <p>Set strategy, funding, stage-gates, and oversee risk/compliance.</p>
                        </div>
                        <div class="role-card">
                            <h4>PMO</h4>
                            <p>Run planning, schedule, resources, risks, reporting, and coordination.</p>
                        </div>
                        <div class="role-card">
                            <h4>Product & Engineering</h4>
                            <p>Design, build, and test ANC hardware + AI; own technical compliance.</p>
                        </div>
                        <div class="role-card">
                            <h4>Supply Chain & Manufacturing</h4>
                            <p>Manage suppliers, production, quality, logistics, sustainability.</p>
                        </div>
                        <div class="role-card">
                            <h4>Marketing & UX</h4>
                            <p>Go-to-market, user testing, training, and feedback loop.</p>
                        </div>
                        <div class="role-card">
                            <h4>Compliance & IT</h4>
                            <p>Data/privacy compliance, cybersecurity, audits.</p>
                        </div>
                        <div class="role-card">
                            <h4>External Consultants</h4>
                            <p>Specialized expert support when needed.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Requirements Section -->
        <section id="requirements" class="section">
            <div class="container">
                <h2>Requirements & Contracting</h2>
                <div class="requirements-container">
                    <div class="contractual-content">
                        <div class="contractual-aspects">
                            <h3>Contractual Aspects</h3>
                            <p>Given the innovative and technically complex nature of the project, relying on a single contract type would not adequately account for the differing levels of risk, uncertainty, and development maturity across components. Therefore, it is advisable to draw on multiple contract types from the four broad categories outlined by Maley (2012), selecting the structure that best aligns with the specific needs and stability of each project phase.</p>
                            
                            <div class="contract-grid">
                                <div class="contract-card">
                                    <h4>AI-driven selective hearing algorithms and sound recognition engine:</h4>
                                    <p>Cost-Reimbursement</p>
                                </div>
                                <div class="contract-card">
                                    <h4>Hardware manufacturing:</h4>
                                    <p>Fixed-Price</p>
                                </div>
                                <div class="contract-card">
                                    <h4>Software Interface, Firmware, and Integration Layers:</h4>
                                    <p>Time-and-Materials</p>
                                </div>
                                <div class="contract-card">
                                    <h4>Distribution and Scaling Activities:</h4>
                                    <p>Indefinite Delivery</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="partnership-content">
                        <div class="partnership-tables">
                            <div class="table-header">Partnership Strategy & Stakeholder Management</div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Area</th>
                                        <th>Summary</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>In-House Development</td>
                                        <td>Keep core AI technology, UX, and data governance internal to protect IP and privacy.</td>
                                    </tr>
                                    <tr>
                                        <td>External Partnerships</td>
                                        <td>Outsource hardware manufacturing, distribution, and testing. Mixed sourcing improves flexibility and risk management.</td>
                                    </tr>
                                    <tr>
                                        <td>Regulatory Planning</td>
                                        <td>Follow PMI guidance for regulatory approval and market release.</td>
                                    </tr>
                                    <tr>
                                        <td>IP & Compliance</td>
                                        <td>Patent technology, ensure GDPR privacy, and meet safety requirements.</td>
                                    </tr>
                                    <tr>
                                        <td>Asset Protection</td>
                                        <td>Trademark <span class="highlight">HearOnly</span> and copyright firmware, UI, and training data.</td>
                                    </tr>
                                    <tr>
                                        <td>Contractual Safeguards</td>
                                        <td>All contracts must include NDAs, licensing limits, and confidentiality clauses.</td>
                                    </tr>
                                    <tr>
                                        <td>Internal Collaboration</td>
                                        <td>Strong coordination across teams supports productive friction and avoids silos.</td>
                                    </tr>
                                    <tr>
                                        <td>External Collaboration</td>
                                        <td>Open collaboration with partners reduces risk and maintains alignment.</td>
                                    </tr>
                                    <tr>
                                        <td>Stakeholder Engagement</td>
                                        <td>Continuous communication prevents confusion and unrealistic expectations.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <style>
                        .requirements-container {
                            display: flex;
                            gap: 2rem;
                            align-items: flex-start;
                        }
                        
                        .contractual-content {
                            flex: 1;
                        }
                        
                        .partnership-content {
                            flex: 1;
                            background: #2d3436;
                            border-radius: 16px;
                            overflow: hidden;
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                            animation: fadeIn 0.6s ease-out;
                        }
                        
                        @keyframes fadeIn {
                            from {
                                opacity: 0;
                                transform: translateY(20px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }
                        
                        .contractual-aspects {
                            margin: 1.5rem 0;
                        }
                        
                        .contract-grid {
                            display: grid;
                            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                            gap: 1.5rem;
                            margin-top: 1.5rem;
                        }
                        
                        .contract-card {
                            background: #f8fafc;
                            border-left: 4px solid #4f46e5;
                            padding: 1.25rem;
                            border-radius: 0.375rem;
                            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
                        }
                        
                        .contract-card h4 {
                            color: #1e40af;
                            margin: 0 0 0.5rem 0;
                            font-size: 0.95rem;
                            font-weight: 600;
                        }
                        
                        .contract-card p {
                            color: #4b5563;
                            margin: 0;
                            font-weight: 500;
                            font-size: 1.1rem;
                        }

                        .partnership-tables {
                            width: 100%;
                        }
                        
                        .partnership-tables .table-header {
                            background: #1a252f;
                            color: white;
                            padding: 1.5rem 2rem;
                            font-size: 1.4rem;
                            font-weight: 700;
                            text-align: center;
                            border-bottom: 3px solid #667eea;
                        }
                        
                        .partnership-tables table {
                            width: 100%;
                            border-collapse: collapse;
                        }
                        
                        .partnership-tables thead th {
                            background: #34495e;
                            color: white;
                            font-weight: 600;
                            text-align: left;
                            padding: 1rem 1.5rem;
                            font-size: 0.95rem;
                            text-transform: uppercase;
                            letter-spacing: 0.05em;
                            border-bottom: 2px solid #4a5568;
                        }
                        
                        .partnership-tables tbody tr {
                            background: #2c3e50;
                            transition: all 0.3s ease;
                            border-bottom: 1px solid #3d5a80;
                        }
                        
                        .partnership-tables tbody tr:hover {
                            background: #3d5a80;
                            transform: translateX(5px);
                        }
                        
                        .partnership-tables tbody td {
                            padding: 1.25rem 1.5rem;
                            color: #ecf0f1;
                            line-height: 1.6;
                            vertical-align: top;
                        }
                        
                        .partnership-tables tbody td:first-child {
                            font-weight: 600;
                            color: #ffd700;
                            width: 25%;
                        }
                        
                        .partnership-tables .highlight {
                            color: #ffd700;
                            font-weight: 700;
                        }
                        
                        @media (max-width: 768px) {
                            .partnership-tables .table-header {
                                padding: 1.25rem 1.5rem;
                                font-size: 1.1rem;
                            }
                            
                            .partnership-tables table,
                            .partnership-tables thead,
                            .partnership-tables tbody,
                            .partnership-tables th,
                            .partnership-tables td,
                            .partnership-tables tr {
                                display: block;
                            }
                            
                            .partnership-tables thead {
                                display: none;
                            }
                            
                            .partnership-tables tbody tr {
                                margin-bottom: 1.5rem;
                                border-radius: 8px;
                                overflow: hidden;
                                border: 2px solid #4a5568;
                            }
                            
                            .partnership-tables tbody td {
                                padding: 1rem;
                                border: none;
                            }
                            
                            .partnership-tables tbody td:first-child {
                                width: 100%;
                                background: #1a252f;
                                font-size: 1.05rem;
                                text-align: center;
                                border-bottom: 2px solid #667eea;
                            }
                            
                            .partnership-tables tbody td:last-child {
                                width: 100%;
                            }
                        }
                        
                        @media (max-width: 1200px) {
                            .requirements-container {
                                flex-direction: column;
                            }
                            
                            .contract-grid {
                                grid-template-columns: 1fr;
                            }
                            
                            .partnership-content {
                                margin-top: 2rem;
                                width: 100%;
                            }
                        }
                    </style>
                </div>
            </div>
        </section>

        <!-- Schedules Section -->
        <section id="schedules" class="section">
            <div class="container">
                <h2>Schedules & Integration</h2>
                <div class="card">
                    <div class="schedules-container">
                        <div class="roadmap-content">
                            <p>Project Roadmap serves as a strategic guide to support alignment, transparency and overall governance across all phases of the project lifecycles.</p>
                            
                            <div class="key-principles">
                                <h4>Key principles:</h4>
                                <ul>
                                    <li><strong>Phased Implementation:</strong> Divided into five structured stages with milestone gates.</li>
                                    <li><strong>Deliverable Ownership:</strong> Every roadmap item linked to a WBS work package and accountable owner.</li>
                                    <li><strong>Decision Points:</strong> Stage-gate reviews at the end of each phase to validate readiness, budget, and risk.</li>
                                    <li><strong>Measurement Integration:</strong> Agile metrics.</li>
                                    <li><strong>Feedback Loops:</strong> Continuous review of design assumptions and stakeholder expectations.</li>
                                </ul>
                            </div>
                            
                            <div class="wbs-info">
                                <p><strong>Work Breakdown Structure (WBS)</strong> provides a hierarchical decomposition of all major project deliverables required to achieve the project's objectives.</p>
                            </div>
                        </div>

                        <div class="project-levels-diagram">
                            <div class="project-diagram">
                                <!-- Level 1 -->
                                <div class="level-row level-1">
                                    <div class="level-label">LEVEL 1</div>
                                    <div class="level-content">
                                        <div class="level-1-title">Deliver and Scale AI enabled noise cancellation headphones</div>
                                    </div>
                                </div>

                                <!-- Level 2 -->
                                <div class="level-row level-2">
                                    <div class="level-label">LEVEL 2</div>
                                    <div class="level-content">
                                        <div class="phase-grid">
                                            <div class="phase-box">
                                                <span class="phase-number">1.</span> Initiation and Requirements Gathering
                                            </div>
                                            <div class="phase-box">
                                                <span class="phase-number">2.</span> System Design and Development
                                            </div>
                                            <div class="phase-box">
                                                <span class="phase-number">3.</span> Testing and Validation
                                            </div>
                                            <div class="phase-box">
                                                <span class="phase-number">4.</span> Deployment and Transition
                                            </div>
                                            <div class="phase-box">
                                                <span class="phase-number">5.</span> Scaling and Optimization
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Level 3 -->
                                <div class="level-row level-3">
                                    <div class="level-label">LEVEL 3</div>
                                    <div class="level-content">
                                        <div class="tasks-grid">
                                            <!-- Column 1 -->
                                            <div class="task-column">
                                                <div class="task-box">1.1. Define Project Governance Framework</div>
                                                <div class="task-box">1.2. Identify Stakeholders</div>
                                                <div class="task-box">1.3. Finalize requirements</div>
                                                <div class="task-box">1.4. Approve Baseline Costs and Estimates</div>
                                                <div class="task-box">1.5. Project Charter Sign-Off <span class="gate-tag">(Gate 01)</span></div>
                                            </div>

                                            <!-- Column 2 -->
                                            <div class="task-column">
                                                <div class="task-box">2.1. AI Algorithm and Model Planning</div>
                                                <div class="task-box">2.2. Hardware Interface Design</div>
                                                <div class="task-box">2.3. Test Plan Definition</div>
                                                <div class="task-box">2.4. Finalize Testing Acceptance Criteria</div>
                                                <div class="task-box">2.5. Design Approval <span class="gate-tag">(Gate 02)</span></div>
                                            </div>

                                            <!-- Column 3 -->
                                            <div class="task-column">
                                                <div class="task-box">3.1. Perform acoustic and software testing</div>
                                                <div class="task-box">3.2. Execute User Acceptance Testing</div>
                                                <div class="task-box">3.3. Independent Audit of Testing results against KPIs</div>
                                                <div class="task-box">3.4. Testing Validation and Approval <span class="gate-tag">(Gate 03)</span></div>
                                                <div class="task-box">3.5. Prototype release <span class="gate-tag">(Gate 04)</span></div>
                                            </div>

                                            <!-- Column 4 -->
                                            <div class="task-column">
                                                <div class="task-box">4.1. Pilot deployment based on prototype</div>
                                                <div class="task-box">4.2. Market launch readiness</div>
                                                <div class="task-box">4.3. Complete user training documentation</div>
                                                <div class="task-box">4.4. Go-Live Readiness Assessment <span class="gate-tag">(Gate 05)</span></div>
                                                <div class="task-box">4.5. Post-Launch Monitoring</div>
                                            </div>

                                            <!-- Column 5 -->
                                            <div class="task-column">
                                                <div class="task-box">5.1. Post Launch Analytics Dashboard</div>
                                                <div class="task-box">5.2. Continuous Improvement Loop</div>
                                                <div class="task-box">5.3. Predictive Analytics Implementation</div>
                                                <div class="task-box">5.4. Post Implementation Reviews and lessons learnt</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <style>
                        .schedules-container {
                            display: flex;
                            gap: 2rem;
                        }

                        .roadmap-content {
                            line-height: 1.6;
                            color: #333;
                            flex: 1;
                        }
                        
                        .roadmap-content p {
                            margin-bottom: 1.25rem;
                        }
                        
                        .key-principles {
                            background-color: #f8f9fa;
                            border-left: 4px solid #4f46e5;
                            padding: 1.25rem;
                            margin: 1.5rem 0;
                            border-radius: 0 0.375rem 0.375rem 0;
                        }
                        
                        .key-principles h4 {
                            margin-top: 0;
                            color: #2d3748;
                            font-size: 1.1rem;
                            margin-bottom: 0.75rem;
                        }
                        
                        .key-principles ul {
                            padding-left: 1.5rem;
                            margin: 0;
                        }
                        
                        .key-principles li {
                            margin-bottom: 0.5rem;
                        }
                        
                        .wbs-info {
                            background-color: #f0f9ff;
                            border: 1px solid #bae6fd;
                            padding: 1rem 1.25rem;
                            border-radius: 0.375rem;
                            margin-top: 1.5rem;
                        }
                        
                        .wbs-info p {
                            margin: 0;
                            color: #0369a1;
                        }

                        /* Project Levels Diagram Styles */
                        .project-levels-diagram {
                            flex: 2;
                            background: white;
                            border-radius: 16px;
                            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                            overflow: hidden;
                            min-width: 0; /* Prevents flex items from overflowing */
                        }

                        .project-diagram {
                            width: 100%;
                            height: 100%;
                        }

                        .level-row {
                            display: grid;
                            grid-template-columns: 120px 1fr;
                            border-bottom: 2px solid #e0e0e0;
                        }

                        .level-row:last-child {
                            border-bottom: none;
                        }

                        .level-label {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-weight: 700;
                            font-size: 1.1rem;
                            color: white;
                            padding: 1.5rem 0.75rem;
                            text-align: center;
                        }

                        .level-1 .level-label {
                            background: linear-gradient(135deg, #000000 0%, #2d3436 100%);
                        }

                        .level-2 .level-label {
                            background: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%);
                        }

                        .level-3 .level-label {
                            background: linear-gradient(135deg, #7f8c8d 0%, #95a5a6 100%);
                        }

                        .level-content {
                            padding: 1rem;
                        }

                        .level-1 .level-content {
                            background: #000;
                            color: white;
                            padding: 1.5rem;
                        }

                        .level-1-title {
                            font-size: 1.3rem;
                            font-weight: 600;
                            text-align: center;
                            margin: 0;
                        }

                        .phase-grid {
                            display: grid;
                            grid-template-columns: repeat(5, 1fr);
                            gap: 0.75rem;
                        }

                        .phase-box {
                            background: #c0392b;
                            color: white;
                            padding: 1rem 0.5rem;
                            border-radius: 6px;
                            text-align: center;
                            font-weight: 600;
                            font-size: 0.85rem;
                            line-height: 1.3;
                            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
                        }

                        .phase-number {
                            display: block;
                            margin-bottom: 0.25rem;
                            font-weight: 700;
                        }

                        .tasks-grid {
                            display: grid;
                            grid-template-columns: repeat(5, 1fr);
                            gap: 0.5rem;
                        }

                        .task-column {
                            display: flex;
                            flex-direction: column;
                            gap: 0.5rem;
                        }

                        .task-box {
                            background: #95a5a6;
                            color: white;
                            padding: 0.75rem 0.5rem;
                            border-radius: 4px;
                            font-size: 0.75rem;
                            line-height: 1.3;
                            text-align: center;
                            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
                        }

                        .gate-tag {
                            display: inline-block;
                            background: rgba(255, 255, 255, 0.2);
                            padding: 0.1rem 0.3rem;
                            border-radius: 3px;
                            font-size: 0.7rem;
                            margin-top: 0.25rem;
                        }

                        @media (max-width: 1400px) {
                            .phase-grid,
                            .tasks-grid {
                                grid-template-columns: repeat(3, 1fr);
                            }
                            
                            .schedules-container {
                                flex-direction: column;
                            }
                            
                            .project-levels-diagram {
                                margin-top: 2rem;
                            }
                        }

                        @media (max-width: 900px) {
                            .phase-grid,
                            .tasks-grid {
                                grid-template-columns: repeat(2, 1fr);
                            }
                            
                            .level-label {
                                padding: 1rem 0.5rem;
                                font-size: 1rem;
                            }
                        }

                        @media (max-width: 600px) {
                            .phase-grid,
                            .tasks-grid {
                                grid-template-columns: 1fr;
                            }
                            
                            .level-1-title {
                                font-size: 1.1rem;
                            }
                            
                            .phase-box {
                                font-size: 0.8rem;
                                padding: 0.75rem 0.25rem;
                            }
                            
                            .task-box {
                                font-size: 0.7rem;
                                padding: 0.6rem 0.25rem;
                            }
                            
                            .level-row {
                                grid-template-columns: 80px 1fr;
                            }
                            
                            .level-label {
                                font-size: 0.9rem;
                                padding: 0.75rem 0.25rem;
                            }
                        }
                    </style>
                </div>
            </div>
        </section>

        <!-- Budget & Reserves Section -->
        <section id="budget" class="section">
            <div class="container">
                <h2>Budget & Reserves</h2>
                <div class="card">
                    <div class="budget-container">
                        <div class="budget-content">
                            <h3>Budget Phasing & Contingency</h3>
                            <p>Budget phasing will follow milestone-based funding releases tied to defined deliverables. This approach ensures financial discipline while maintaining flexibility to adapt to project needs.</p>
                            
                            <div class="budget-highlight">
                                <h4>Contingency Reserve: 10% of Total Project Costs</h4>
                                <p>This reserve is allocated to cover:</p>
                                <ul>
                                    <li>Identified technical risks and challenges</li>
                                    <li>Schedule adjustments and delays</li>
                                    <li>Unforeseen strategic adjustments</li>
                                    <li>Scope changes requiring additional resources</li>
                                </ul>
                                <p>The contingency will be managed through formal change control processes, with regular reviews to ensure appropriate allocation and utilization.</p>
                            </div>
                        </div>
                        
                        <div class="budget-visual">
                            <div class="budget-chart">
                                <div class="chart-bar" style="height: 80%; background: #4facfe;">
                                    <span>90%<br>Base Budget</span>
                                </div>
                                <div class="chart-bar" style="height: 20%; background: #f6d365;">
                                    <span>10%<br>Contingency</span>
                                </div>
                            </div>
                            <div class="budget-legend">
                                <div class="legend-item">
                                    <span class="legend-color" style="background: #4facfe;"></span>
                                    <span>Base Budget</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color" style="background: #f6d365;"></span>
                                    <span>Contingency Reserve</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <style>
                        .budget-container {
                            display: flex;
                            gap: 3rem;
                            align-items: flex-start;
                        }
                        
                        .budget-content {
                            flex: 1;
                        }
                        
                        .budget-content h3 {
                            color: #2d3748;
                            margin-top: 0;
                            margin-bottom: 1.5rem;
                            font-size: 1.5rem;
                            font-weight: 600;
                        }
                        
                        .budget-content p {
                            color: #4a5568;
                            line-height: 1.6;
                            margin-bottom: 1.5rem;
                        }
                        
                        .budget-highlight {
                            background: #f8fafc;
                            border-left: 4px solid #4f46e5;
                            padding: 1.5rem;
                            border-radius: 0 8px 8px 0;
                            margin: 2rem 0;
                        }
                        
                        .budget-highlight h4 {
                            color: #2d3748;
                            margin-top: 0;
                            margin-bottom: 1rem;
                            font-size: 1.1rem;
                        }
                        
                        .budget-highlight ul {
                            padding-left: 1.5rem;
                            margin: 1rem 0;
                        }
                        
                        .budget-highlight li {
                            margin-bottom: 0.5rem;
                            color: #4a5568;
                        }
                        
                        .budget-visual {
                            flex: 1;
                            max-width: 400px;
                            background: white;
                            border-radius: 12px;
                            padding: 2rem;
                            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
                        }
                        
                        .budget-chart {
                            display: flex;
                            height: 300px;
                            align-items: flex-end;
                            gap: 1.5rem;
                            margin-bottom: 2rem;
                        }
                        
                        .chart-bar {
                            flex: 1;
                            border-radius: 8px 8px 0 0;
                            display: flex;
                            align-items: flex-end;
                            justify-content: center;
                            padding-bottom: 1rem;
                            color: white;
                            font-weight: 600;
                            text-align: center;
                            font-size: 0.9rem;
                            line-height: 1.4;
                            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
                            min-width: 80px;
                        }
                        
                        .budget-legend {
                            display: flex;
                            flex-direction: column;
                            gap: 1rem;
                        }
                        
                        .legend-item {
                            display: flex;
                            align-items: center;
                            gap: 0.75rem;
                        }
                        
                        .legend-color {
                            width: 24px;
                            height: 24px;
                            border-radius: 4px;
                            flex-shrink: 0;
                        }
                        
                        @media (max-width: 1024px) {
                            .budget-container {
                                flex-direction: column;
                                gap: 2rem;
                            }
                            
                            .budget-visual {
                                max-width: 100%;
                                width: 100%;
                            }
                        }
                        
                        @media (max-width: 640px) {
                            .budget-chart {
                                height: 250px;
                            }
                            
                            .chart-bar {
                                min-width: 60px;
                                font-size: 0.8rem;
                            }
                        }
                    </style>
                </div>
            </div>
        </section>

        <!-- Risk Management Section -->
        <section id="risk-management" class="section">
            <div class="container">
                <h2>Risk Management</h2>
                <div class="card">
                    <div style="display: flex; flex-wrap: wrap; gap: 2rem;">
                        <div style="flex: 1; min-width: 300px;">
                            <div class="risk-content">
                                <h3>Risk Management Process</h3>
                                <p>Process: Identify → assess (probability/impact) → prioritize → plan responses → monitor & control.</p>
                                
                                <div style="margin: 1.5rem 0;">
                                    <h4>Risk Heatmap (Chart 10.2):</h4>
                                    <ul>
                                        <li><strong>Technical risk</strong> = extreme impact, low probability—missing AI accuracy/latency breaks core value, but staged validation keeps this unlikely.</li>
                                        <li>Other key risks: Supply Chain, Market/Ethics, Resource, Integration/Scope.</li>
                                    </ul>
                                </div>
                                
                                <div>
                                    <h4>Cost Drawdown (PV vs AC):</h4>
                                    <p>10% budget held in reserves; chart shows how technical, schedule, and scope risks drive variance between planned and actual cost over time.</p>
                                </div>
                                
                                <div style="margin-top: 2rem;">
                                    <h4>Risk Score (Consequence)</h4>
                                    <div style="display: flex; align-items: center; gap: 1rem; margin: 1rem 0;">
                                        <span style="font-weight: 500;">Low</span>
                                        <div style="flex-grow: 1; height: 24px; background: linear-gradient(to right, #ffffcc, #ffeda0, #fed976, #feb24c, #fc4e2a, #e31a1c, #bd0026, #800026, #4d0013); border-radius: 4px;"></div>
                                        <span style="font-weight: 500;">Extreme</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin: 0.5rem 0 1.5rem;">
                                        <span>Low</span>
                                        <span>Medium</span>
                                        <span>High</span>
                                    </div>
                                    
                                    <div style="display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 1.5rem;">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 24px; height: 24px; border-radius: 50%; background: white; border: 2px solid #1a202c; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.8rem;">T</div>
                                            <span>Technical Risk</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 24px; height: 24px; border-radius: 50%; background: white; border: 2px solid #1a202c; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.8rem;">S</div>
                                            <span>Supply Chain Risk</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 24px; height: 24px; border-radius: 50%; background: white; border: 2px solid #1a202c; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.8rem;">M</div>
                                            <span>Market Risk</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 24px; height: 24px; border-radius: 50%; background: white; border: 2px solid #1a202c; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.8rem;">I</div>
                                            <span>Integration Risk</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div style="width: 24px; height: 24px; border-radius: 50%; background: white; border: 2px solid #1a202c; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.8rem;">R</div>
                                            <span>Resource Risk</span>
                                        </div>
                                    </div>
                                    
                                    <div style="margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid #e2e8f0;">
                                        <h4>Feedback & Validation</h4>
                                        <p>Regular reviews and stakeholder feedback ensure risks are accurately assessed and managed throughout the project lifecycle.</p>
                                        
                                        <div id="riskItems" style="margin-top: 1.5rem; display: flex; flex-direction: column; gap: 0.75rem;">
                                            <!-- Risk items will be added here by JavaScript -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <div id="risk-heatmap-container" style="background: white; border-radius: 20px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); min-height: 600px;">
                                <div id="heatmap-container" style="width: 100%; height: 500px; position: relative;">
                                <style>
                                    .risk-heatmap * {
                                        margin: 0;
                                        padding: 0;
                                        box-sizing: border-box;
                                    }
                                    .risk-heatmap .container {
                                        max-width: 100%;
                                        padding: 0;
                                        box-shadow: none;
                                    }
                                    .risk-heatmap h1 {
                                        font-size: 1.5rem;
                                        margin-bottom: 5px;
                                    }
                                    .risk-heatmap .subtitle {
                                        font-size: 0.8rem;
                                        margin-bottom: 20px;
                                    }
                                    .risk-heatmap .legend {
                                        margin-top: 20px;
                                        padding: 15px;
                                    }
                                    .risk-heatmap .legend-title {
                                        font-size: 1rem;
                                        margin-bottom: 15px;
                                    }
                                    .risk-heatmap .legend-gradient {
                                        width: 200px;
                                        height: 30px;
                                    }
                                    .risk-heatmap .risk-items {
                                        grid-template-columns: 1fr;
                                        gap: 10px;
                                        margin-top: 15px;
                                    }
                                    .risk-heatmap .risk-item {
                                        padding: 8px 12px;
                                    }
                                    .risk-heatmap .risk-badge {
                                        width: 30px;
                                        height: 30px;
                                        font-size: 0.7rem;
                                    }
                                    .risk-heatmap .risk-name {
                                        font-size: 0.9rem;
                                    }
                                    .risk-heatmap .info-panel {
                                        margin-top: 15px;
                                        padding: 15px;
                                    }
                                </style>
                                <div class="risk-heatmap">
                                    <h1>Chart 10.2: Probability vs. Impact Risk Heatmap</h1>
                                    <p class="subtitle">Risk Assessment Matrix</p>
                                    
                                    <svg id="heatmap" style="width: 100%; height: 100%;"></svg>

                                    <div class="info-panel" id="infoPanel" style="display: none; margin-top: 15px; padding: 15px; background: white; border: 2px solid #4169E1; border-radius: 8px;">
                                        <div class="info-title" id="infoTitle" style="font-size: 1rem; font-weight: 700; color: #4169E1; margin-bottom: 8px;"></div>
                                        <div class="info-content" id="infoContent" style="font-size: 0.9rem; color: #4a5568; line-height: 1.5;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <script>
            // Risk data with exact positions from the image
            const risks = [
                { id: "Technical", name: "Technical Risk", x: 4, y: 0, description: "Extreme impact, low probability - Technical implementation challenges" },
                { id: "Supply Chain", name: "Supply Chain Risk", x: 2, y: 1, description: "Moderate impact, medium probability - Supply chain disruptions" },
                { id: "Market", name: "Market Risk", x: 1, y: 2, description: "Minor impact, high probability - Market fluctuations and competition" },
                { id: "Integration", name: "Integration Risk", x: 3, y: 2, description: "Major impact, high probability - System integration challenges" },
                { id: "Resource", name: "Resource Risk", x: 0, y: 3, description: "Low impact, very high probability - Resource availability constraints" }
            ];

            // Matrix dimensions
            const probabilities = ["Low", "Medium", "High", "V. High", "Extreme"];
            const impacts = ["Low", "Minor", "Moderate", "Major", "Extreme"];

            // Enhanced color scale matching the image exactly
            const colorScale = d3.scaleLinear()
                .domain([0, 3, 6, 9, 12, 15, 18, 21, 24])
                .range([
                    "#ffffcc", // Low - pale yellow
                    "#ffeda0", // Light yellow
                    "#fed976", // Yellow
                    "#feb24c", // Light orange
                    "#fc4e2a", // Orange
                    "#e31a1c", // Red
                    "#bd0026", // Dark red
                    "#800026", // Very dark red
                    "#4d0013"  // Extreme - darkest red/burgundy
                ]);

            // Calculate risk score
            function getRiskScore(impactX, probY) {
                return impactX + probY * 5;
            }

            // Responsive SVG dimensions
            function updateDimensions() {
                const container = document.getElementById('risk-heatmap-container');
                const containerWidth = container.clientWidth - 40; // Account for padding
                const cellSize = Math.min(80, (containerWidth - 200) / 5); // Adjust cell size based on container
                const height = cellSize * probabilities.length + 140; // Extra space for labels
                
                return { cellSize, height };
            }

            // Make initHeatmap globally available
            window.initHeatmap = function() {
                if (typeof d3 === 'undefined') {
                    console.error('D3.js not loaded');
                    return;
                }

                const container = document.getElementById('heatmap-container');
                if (!container) {
                    console.error('Heatmap container not found');
                    return;
                }
                
                // Get dimensions and clear existing SVG
                const { cellSize, height } = updateDimensions();
                const width = cellSize * impacts.length + 100; // Extra space for labels
                d3.select("#heatmap").selectAll("*").remove();
                
                // Create SVG
                const svg = d3.select("#heatmap")
                    .attr("viewBox", `0 0 ${width} ${height}`)
                    .attr("width", "100%")
                    .attr("height", height)
                    .attr("preserveAspectRatio", "xMidYMid meet");

                const g = svg.append("g")
                    .attr("transform", `translate(80, 40)`);

                // Create heatmap cells
                for (let i = 0; i < probabilities.length; i++) {
                    for (let j = 0; j < impacts.length; j++) {
                        const score = getRiskScore(j, i);
                        
                        g.append("rect")
                            .attr("class", "cell")
                            .attr("x", j * cellSize)
                            .attr("y", (probabilities.length - 1 - i) * cellSize)
                            .attr("width", cellSize - 2)
                            .attr("height", cellSize - 2)
                            .attr("rx", 4)
                            .attr("ry", 4)
                            .attr("fill", colorScale(score))
                            .style("opacity", 0)
                            .transition()
                            .duration(600)
                            .delay((i * impacts.length + j) * 25)
                            .style("opacity", 1);
                    }
                }

                    // X-axis (Impact on Project)
                    g.append("text")
                        .attr("class", "axis-label")
                        .attr("x", cellSize * impacts.length / 2)
                        .attr("y", cellSize * probabilities.length + 30)
                        .style("font-size", "12px")
                        .style("font-weight", "600")
                        .text("Impact on Project");

                    impacts.forEach((impact, i) => {
                        g.append("text")
                            .attr("class", "tick-label")
                            .attr("x", i * cellSize + cellSize / 2)
                            .attr("y", cellSize * probabilities.length + 15)
                            .attr("text-anchor", "middle")
                            .style("font-size", "11px")
                            .style("font-weight", "500")
                            .text(impact);
                    });

                    // Y-axis (Probability of Occurrence)
                    g.append("text")
                        .attr("class", "axis-label")
                        .attr("transform", `translate(-50, ${cellSize * probabilities.length / 2}) rotate(-90)`)
                        .style("font-size", "12px")
                        .style("font-weight", "600")
                        .text("Probability of Occurrence");

                    probabilities.forEach((prob, i) => {
                        g.append("text")
                            .attr("class", "tick-label")
                            .attr("x", -10)
                            .attr("y", (probabilities.length - 1 - i) * cellSize + cellSize / 2)
                            .attr("text-anchor", "end")
                            .attr("dominant-baseline", "middle")
                            .style("font-size", "11px")
                            .style("font-weight", "500")
                            .text(prob);
                    });

                    // Add risk markers
                    const markerGroup = g.append("g");

                    risks.forEach((risk, index) => {
                        const marker = markerGroup.append("g")
                            .attr("class", "risk-marker")
                            .attr("transform", `translate(${risk.x * cellSize + cellSize / 2}, ${(probabilities.length - 1 - risk.y) * cellSize + cellSize / 2})`)
                            .style("opacity", 0);

                        marker.append("circle")
                            .attr("class", "risk-circle")
                            .attr("r", cellSize * 0.25)
                            .attr("fill", "white")
                            .attr("stroke", "#1a202c")
                            .attr("stroke-width", 2)
                            .style("filter", "drop-shadow(0 2px 4px rgba(0,0,0,0.2))");

                        marker.append("text")
                            .attr("class", "risk-text")
                            .attr("text-anchor", "middle")
                            .attr("dominant-baseline", "middle")
                            .style("font-size", cellSize * 0.18 + "px")
                            .style("font-weight", "700")
                            .text(risk.id);

                        // Animate markers
                        marker.transition()
                            .duration(600)
                            .delay(1200 + index * 150)
                            .style("opacity", 1);

                        // Click handler
                        marker.on("click", function(event) {
                            event.stopPropagation();
                            showInfo(risk);
                        });
                    });

                    // Risk items list removed
                }

            // Info panel
            function showInfo(risk) {
                const panel = document.getElementById("infoPanel");
                const title = document.getElementById("infoTitle");
                const content = document.getElementById("infoContent");

                const impactLevel = impacts[risk.x];
                const probLevel = probabilities[risk.y];
                const riskScore = getRiskScore(risk.x, risk.y);

                title.textContent = `${risk.name}`;
                content.innerHTML = `
                    <strong>Impact Level:</strong> ${impactLevel}<br>
                    <strong>Probability Level:</strong> ${probLevel}<br>
                    <strong>Risk Score:</strong> ${riskScore} / 24<br>
                    <strong>Description:</strong> ${risk.description}
                `;
                panel.style.display = "block";
            }

            // Initialize heatmap when DOM is loaded
            document.addEventListener('DOMContentLoaded', function() {
                if (document.getElementById('heatmap-container')) {
                    window.initHeatmap();
                    
                    // Handle window resize with debounce
                    let resizeTimer;
                    window.addEventListener('resize', function() {
                        clearTimeout(resizeTimer);
                        resizeTimer = setTimeout(window.initHeatmap, 250);
                    });
                }
            });
        </script>

        <!-- Risk Section -->
        <section id="Risk" class="section">
            <div class="container">
                <h2>Risk Mitigation Strategies</h2>
                <div style="display: flex; gap: 2rem; margin-top: 2rem;">
                    <div class="card" style="flex: 1;">
                        <div class="risk-mitigation">
                            <h3>MITIGATION FOCUS FOR TECHNICAL RISK</h3>
                            <p>REAL-TIME FILTERING: TWO-PHASE DEVELOPMENT WITH AN EARLY PROOF-OF-CONCEPT TO REDUCE FAILURE RISK.</p>
                            
                            <h3>SYNCHRONIZATION</h3>
                            <p>REDUNDANT SYNC TESTING PLUS A PROVEN INTEGRATION PLATFORM TO TRANSFER RISK TO A VENDOR</p>
                            
                            <h3>ACCURACY</h3>
                            <p>±5% ACCURACY: CONTINGENCY BUDGET AND SCHEDULE RESERVE FOR EXTRA DATA COLLECTION AND MODEL REFINEMENT IF NEEDED.</p>
                        </div>
                    </div>
                    
                    <div class="card" style="flex: 1.5;">
                        <div id="chart-wrapper" style="height: 400px; padding: 1.5rem;">
                            <canvas id="costChart"></canvas>
                        </div>
                        <div style="padding: 0 1.5rem 1.5rem;">
                            <h3>Cost Drawdown Analysis</h3>
                            <p>Visualizing PV vs AC with risk attribution to identify cost overruns and their sources.</p>
                        </div>
                    </div>
                </div>
                
                <style>
                    .info-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                        gap: 1rem;
                        margin-top: 1.5rem;
                        font-size: 0.9rem;
                    }
                    
                    .info-card {
                        padding: 1rem;
                        border-radius: 12px;
                    }
                    
                    .info-card h3 {
                        margin-bottom: 0.4rem;
                        font-size: 1rem;
                    }
                    
                    .info-card.blue {
                        background: #eff6ff;
                        color: #1d4ed8;
                    }
                    
                    .info-card.amber {
                        background: #fffbeb;
                        color: #b45309;
                    }
                    
                    .info-card p {
                        color: #374151;
                        margin-bottom: 0;
                    }
                </style>
                
                <div class="info-grid">
                    <div class="info-card blue">
                        <h3>Cost Variance</h3>
                        <p>Actual Cost (AC) exceeds Planned Value (PV) in the later weeks, indicating a cost overrun driven by accumulated risk.</p>
                    </div>
                    <div class="info-card amber">
                        <h3>Risk Breakdown</h3>
                        <p>Overruns are attributed to technical, schedule, and scope risks, which emerge and intensify toward the final project phases.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // --- Data generation ---
                function generateData() {
                    const data = [];
                    const weeks = 27;

                    for (let week = 0; week <= weeks; week++) {
                        const pv = (week / weeks) * 1000000;

                        // AC follows PV initially, then diverges
                        let ac = pv * 1.02;
                        if (week > 15) {
                            ac = pv * (1 + 0.02 + (week - 15) * 0.006);
                        }

                        // Risk overruns (start near the end)
                        const technicalRisk = week > 20 ? ((week - 20) / 7) * 25000 : 0;
                        const scheduleRisk = week > 22 ? ((week - 22) / 5) * 30000 : 0;
                        const scopeRisk    = week > 23 ? ((week - 23) / 4) * 40000 : 0;

                        data.push({
                            week,
                            pv: Math.round(pv),
                            ac: Math.round(ac + technicalRisk + scheduleRisk + scopeRisk),
                            technicalRisk: Math.round(technicalRisk),
                            scheduleRisk: Math.round(scheduleRisk),
                            scopeRisk: Math.round(scopeRisk)
                        });
                    }
                    return data;
                }

                const data = generateData();
                const labels = data.map(d => d.week);
                const pvData = data.map(d => d.pv);
                const acData = data.map(d => d.ac);
                const technicalRiskData = data.map(d => d.technicalRisk);
                const scheduleRiskData  = data.map(d => d.scheduleRisk);
                const scopeRiskData     = data.map(d => d.scopeRisk);

                const formatCurrencyLabel = (value) => {
                    return '$' + (value / 1e6).toFixed(1) + 'M';
                };

                const ctx = document.getElementById('costChart').getContext('2d');

                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels,
                        datasets: [
                            // Risk stacked areas
                            {
                                label: 'Technical Risk Overrun',
                                data: technicalRiskData,
                                type: 'line',
                                borderColor: 'rgba(45, 212, 191, 0)',
                                backgroundColor: 'rgba(45, 212, 191, 0.8)',
                                fill: true,
                                tension: 0.3,
                                stack: 'risk'
                            },
                            {
                                label: 'Schedule Risk Overrun',
                                data: scheduleRiskData,
                                type: 'line',
                                borderColor: 'rgba(250, 204, 21, 0)',
                                backgroundColor: 'rgba(250, 204, 21, 0.8)',
                                fill: true,
                                tension: 0.3,
                                stack: 'risk'
                            },
                            {
                                label: 'Scope Risk Overrun',
                                data: scopeRiskData,
                                type: 'line',
                                borderColor: 'rgba(56, 189, 248, 0)',
                                backgroundColor: 'rgba(56, 189, 248, 0.8)',
                                fill: true,
                                tension: 0.3,
                                stack: 'risk'
                            },
                            // Main PV & AC lines (not stacked with risks)
                            {
                                label: 'Planned Value (PV)',
                                data: pvData,
                                borderColor: '#eab308',
                                backgroundColor: '#eab308',
                                borderWidth: 3,
                                pointRadius: 0,
                                tension: 0.25,
                                fill: false,
                            },
                            {
                                label: 'Actual Cost (AC)',
                                data: acData,
                                borderColor: '#3b82f6',
                                backgroundColor: '#3b82f6',
                                borderWidth: 3,
                                pointRadius: 0,
                                tension: 0.25,
                                fill: false,
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    boxWidth: 12
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function (context) {
                                        const label = context.dataset.label || '';
                                        const value = context.parsed.y || 0;
                                        return label + ': ' + formatCurrencyLabel(value);
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: 'Project Timeline (Weeks)'
                                },
                                ticks: {
                                    color: '#4b5563'
                                },
                                grid: {
                                    color: '#e5e7eb'
                                }
                            },
                            y: {
                                stacked: true,
                                title: {
                                    display: true,
                                    text: 'Cumulative Cost ($)'
                                },
                                ticks: {
                                    callback: formatCurrencyLabel,
                                    color: '#4b5563'
                                },
                                grid: {
                                    color: '#e5e7eb'
                                }
                            }
                        }
                    }
                });
            });
        </script>

        <!-- Evaluation Section -->
        <section id="evaluation" class="section">
            <div class="container">
                <h2>Evaluation</h2>
                <div class="card">
                    <div style="display: flex; gap: 2rem; align-items: flex-start;">
                        <div class="evaluation-content" style="flex: 1;">
                            <h3>Project Governance & EVM</h3>
                            <p>PV/EV/AC & CPI/SPI charts show cost and schedule performance vs plan (BAC, PV, EV, AC, SPI, CPI).</p>
                            
                            <h3>Financial Risk & Reserves</h3>
                            <p>Reserve and cost-drawdown charts: ~10% budget in reserves, overruns attributed to technical, schedule, and scope risk.</p>
                        </div>
                        <div style="flex: 1.2; min-width: 0;">
                            <iframe src="evm-dashboard.html" style="width: 100%; height: 500px; border: 1px solid #e2e8f0; border-radius: 8px;"></iframe>
                            <p style="font-size: 0.85rem; color: #666; margin-top: 0.5rem; text-align: center;">Interactive EVM Dashboard showing project performance metrics</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Validation Section -->
        <section id="validation" class="section">
            <div class="container">
                <h2>Validation</h2>
                <div class="card">
                    <div class="evaluation-content">
                        <h3>Core AI Validation</h3>
                        <p>AI metrics table tracks accuracy (±5%), latency (<20 ms), fidelity, and battery efficiency to keep major technical failure unlikely.</p>
                        
                        <div style="margin-top: 2rem; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden;">
                            <iframe src="ai-performance-metrics.html" style="width: 100%; height: 800px; border: none;"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- experience Section -->
        <section id="User Experience" class="section">
            <div class="container">
                <h2>Summary</h2>
                <div style="display: flex; gap: 2rem; margin-top: 2rem;">
                    <div class="card" style="flex: 1;">
                        <div class="evaluation-content">
                            <h3>User Experience & Acceptance</h3>
                            <p>UX table measures satisfaction, autonomy, ease of use, and trust across segments to confirm readiness for Phase 2.</p>
                            
                            <div style="margin-top: 2rem;
                                        border: 1px solid #e2e8f0;
                                        border-radius: 8px;
                                        padding: 1.5rem;
                                        background: white;
                                        box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <h4 style="margin: 0; font-size: 1rem; color: #2d3748;">Financial Exposure & Risk Attribution</h4>
                                    <span style="font-size: 0.8rem; color: #718096;">Chart E</span>
                                </div>
                                <div style="width: 100%; overflow-x: auto;">
                                    <div style="min-width: 800px; height: 280px;">
                                        <iframe src="financial-exposure-chart.html" style="width: 100%; height: 100%; border: none; border-radius: 6px; min-width: 800px;"></iframe>
                                    </div>
                                </div>
                                <p style="font-size: 0.8rem; color: #718096; margin: 0.75rem 0 0; text-align: center;">
                                    Financial exposure breakdown by risk category (scroll to see full chart)
                                </p>
                            </div>
                            
                            <p style="margin-top: 1.5rem;"><strong>Together these charts act as a diagnostic sensor array for project health and system performance.</strong></p>
                        </div>
                    </div>
                    
                    <div class="card" style="flex: 1.2;">
                        <div style="padding: 1.5rem;">
                            <!-- User Experience Table -->
                            <div>
                                <h3 style="margin-bottom: 1rem; font-size: 1.1rem; color: #1a1a1a;">User Experience Metrics</h3>
                                <div style="overflow-x: auto;">
                                    <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem;">
                                        <thead>
                                            <tr>
                                                <th style="background: #2c2c2c; color: white; padding: 8px 12px; text-align: left; font-weight: 600; border: 1px solid #1a1a1a;">Metric</th>
                                                <th style="background: #2c2c2c; color: white; padding: 8px 12px; text-align: center; font-weight: 600; border: 1px solid #1a1a1a;">Prosumer</th>
                                                <th style="background: #2c2c2c; color: white; padding: 8px 12px; text-align: center; font-weight: 600; border: 1px solid #1a1a1a;">Student</th>
                                                <th style="background: #2c2c2c; color: white; padding: 8px 12px; text-align: center; font-weight: 600; border: 1px solid #1a1a1a;">Nomad</th>
                                                <th style="background: #2c2c2c; color: white; padding: 8px 12px; text-align: center; font-weight: 600; border: 1px solid #1a1a1a;">Accessibility</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="background: #e31e24; color: white; font-weight: 600; padding: 8px 12px; border: 1px solid #ddd;">Satisfaction</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">92%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">90%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">88%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">95%</td>
                                            </tr>
                                            <tr>
                                                <td style="background: #e31e24; color: white; font-weight: 600; padding: 8px 12px; border: 1px solid #ddd;">Autonomy</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">94%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">93%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">89%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">91%</td>
                                            </tr>
                                            <tr>
                                                <td style="background: #e31e24; color: white; font-weight: 600; padding: 8px 12px; border: 1px solid #ddd;">Ease of Use</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">96%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">95%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">92%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">94%</td>
                                            </tr>
                                            <tr>
                                                <td style="background: #e31e24; color: white; font-weight: 600; padding: 8px 12px; border: 1px solid #ddd;">Trust in AI</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">89%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">91%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">87%</td>
                                                <td style="text-align: center; padding: 8px 12px; border: 1px solid #ddd;">93%</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Brand Positioning Section -->
        <section id="market" class="section">
            <div class="container">
                <h2>Positioning & Brand</h2>
                <div class="card" style="padding: 0; overflow: hidden;">
                    <div style="width: 100%; height: 800px;">
                        <iframe src="brand-positioning.html" style="width: 100%; height: 100%; border: none;" title="Hear Now: Hear Next - Brand Positioning"></iframe>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advertising Section -->
        <section id="advertising" class="section">
            <div class="container">
                <h2>Target Segments, Messaging & Go-to-Market</h2>
                <div class="card">
                    <div class="evaluation-content">
                        <h3>Target Segments</h3>
                        <ul class="target-segments">
                            <li><strong>Individuals ("People")</strong>: Urban professionals, commuters, remote workers needing focus in noisy environments.</li>
                            <li><strong>Specialized Industries ("Wellness Partners")</strong>: Healthcare and wellness providers supporting patients with sensory or stress issues.</li>
                            <li><strong>Institutions & Enterprise ("Industry")</strong>: Companies and agencies boosting focus, inclusion, and support for neurodiverse employees.</li>
                        </ul>
                        
                        <h3 style="margin-top: 2rem;">Brand Messaging & Channels</h3>
                        <ul class="messaging-channels">
                            <li><strong>Core message</strong>: Personalized, accessible audio powered by advanced AI.</li>
                            <li><strong>Campaign theme</strong>: "Beyond noise cancellation" in commuting, studying, and wellness scenarios.</li>
                            <li><strong>Channels</strong>: Wellness/accessibility and travel partners, influencers, targeted digital ads, pop-up demos.</li>
                            <li>App analytics and feedback loops refine features, personalization, and segment-specific marketing.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Competitors Section -->
        <section id="competitors" class="section">
            <div class="container">
                <h2>Market Competitors</h2>
                <div class="card" style="padding: 0; overflow: hidden;">
                    <div style="width: 100%; height: 700px;">
                        <iframe src="competitors-diagram.html" style="width: 100%; height: 100%; border: none;" title="Main Market Competitors"></iframe>
                    </div>
                </div>
            </div>
        </section>

        <!-- Logistics Section -->
        <section id="logistics" class="section">
            <div class="container">
                <h2>Logistics & Implementation</h2>
                <div class="card">
                    <div class="evaluation-content">
                        <h3>Key Risks</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li><strong>Technical</strong>: Algorithms and system integration challenges</li>
                            <li><strong>Schedule</strong>: Prototyping, training, and testing timelines</li>
                            <li><strong>Resources</strong>: Component shortages and supply chain constraints</li>
                            <li><strong>Distribution</strong>: Global supply-chain delays and disruptions</li>
                        </ul>
                        
                        <h3 style="margin-top: 1.5rem;">Deliverables</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>Validated and tested device</li>
                            <li>Regulatory compliant packaging</li>
                            <li>Comprehensive materials and quality documentation</li>
                            <li>Scalable production specifications</li>
                        </ul>
                        
                        <h3 style="margin-top: 1.5rem;">Global Strategy</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>Initial launch focused on North American markets</li>
                            <li>Strategic expansion based on regional research</li>
                            <li>Partnerships with universities and NGOs</li>
                            <li>Adherence to strict sustainability and ethical standards</li>
                        </ul>
                        
                        <h3 style="margin-top: 1.5rem;">Logistics Focus</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>Minimizing handling and storage requirements</li>
                            <li>Reducing waste throughout the supply chain</li>
                            <li>Mitigating potential delays in fulfillment</li>
                            <li>Maintaining cost-effective operations</li>
                            <li>Ensuring responsive customer service</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

                <!-- Communication Section -->
        <section id="Communication" class="section">
    <div class="container">
        <h2>Communication</h2>
        <div class="card">
            <div class="evaluation-content" style="display: grid; grid-template-columns: 1.5fr 1fr; gap: 2rem; align-items: start;">
                <div>
                    <h3>Visual Communication Strategy</h3>
                    <p><strong>Goal:</strong> Make HearOnly's progress, risks, and decisions transparent through clear visuals.</p>
                    
                    <h4 style="margin-top: 1.5rem; color: #2d3748;">Core</h4>
                    <ul class="target-segments" style="margin-top: 0.5rem;">
                        <li><strong>One source-of-truth dashboard</strong> (RAG health, AI KPIs, MVP, SPI/CPI, PV vs AC, risk).</li>
                        <li>Visual feedback on user sentiment, bugs, and UX scores.</li>
                    </ul>
                    
                    <h4 style="margin-top: 1.5rem; color: #2d3748;">Audiences</h4>
                    <ul class="target-segments" style="margin-top: 0.5rem;">
                        <li><strong>Execs</strong> → KPI/ROI + decision views</li>
                        <li><strong>Engineering</strong> → burndown + model/accuracy charts</li>
                        <li><strong>PMO</strong> → EVM, milestones, risk heatmaps</li>
                        <li><strong>Public</strong> → infographics + story visuals</li>
                    </ul>
                    
                    <h4 style="margin-top: 1.5rem; color: #2d3748;">Transparency</h4>
                    <ul class="target-segments" style="margin-top: 0.5rem;">
                        <li>Interactive workflow/system diagrams</li>
                        <li>Recorded decision rationale</li>
                        <li>Regular visual roadmaps; F-35 lesson: open cost & risk reporting</li>
                    </ul>
                </div>
                
                <div class="communication-images" style="display: grid; gap: 1.5rem;">
                    <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <img src="images/Screenshot 2025-12-08 020149.png" alt="Communication Dashboard" style="width: 100%; height: auto; border-radius: 4px;">
                        <p style="text-align: center; margin-top: 0.5rem; font-size: 0.85rem; color: #4a5568;">Communication Dashboard Overview</p>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <img src="images/Screenshot 2025-12-08 020209.png" alt="Audience Metrics" style="width: 100%; height: auto; border-radius: 4px;">
                            <p style="text-align: center; margin-top: 0.5rem; font-size: 0.8rem; color: #4a5568;">Audience Metrics</p>
                        </div>
                        <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <img src="images/Screenshot 2025-12-08 020107.png" alt="Transparency Framework" style="width: 100%; height: auto; border-radius: 4px;">
                            <p style="text-align: center; margin-top: 0.5rem; font-size: 0.8rem; color: #4a5568;">Transparency Framework</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    @media (max-width: 1024px) {
        .evaluation-content {
            grid-template-columns: 1fr !important;
        }
        .communication-images {
            margin-top: 2rem;
        }
    }
    
    @media (max-width: 768px) {
        .communication-images > div:last-child {
            grid-template-columns: 1fr !important;
        }
    }
</style>

        <!-- International Section -->
        <section id="international" class="section">
            <div class="container">
                <h2>International & Cross-Cultural Considerations</h2>
                <div class="card">
                    <div class="evaluation-content">
                        <h3>Global Partnerships & Entry Points (Hear Now: Hear Next)</h3>
                        <p>Near-term growth in North America, with market research on:</p>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>International university-led studies</li>
                            <li>NGOs and global health organizations</li>
                            <li>Sustainable tech opportunities</li>
                            <li>Regional user trends and demand</li>
                        </ul>
                        
                        <h3 style="margin-top: 1.5rem;">Sustainability & Ethical Standards</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>Compliance with regional regulatory practices.</li>
                            <li>Sustainable hardware and packaging design.</li>
                            <li>Ethical supply-chain production and sourcing.</li>
                        </ul>
                        
                        <h3 style="margin-top: 1.5rem;">Operations</h3>
                        <ul class="target-segments" style="margin-top: 0.5rem;">
                            <li>Key risks: technical, schedule, component shortages, and global distribution delays.</li>
                            <li>Deliverables: validated device, compliant packaging, and full materials/quality documentation for scalable production.</li>
                            <li>Logistics focus on minimizing handling, storage, waste, and delays while keeping fulfillment responsive and cost-effective.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Q&A Section -->
        <section id="qa" class="section">
            <div class="container">
                <h2>Q&A — Where Do You See Selective Hearing in Your Projects?</h2>
                <div class="card">
                    <div class="qa-grid">
                        <div class="qa-item">
                            <h4>Where does selective hearing show up most in your projects?</h4>
                            <p>Share your experiences with us.</p>
                        </div>
                        <div class="qa-item">
                            <h4>Which stakeholders are most at risk of being under-heard in your organization?</h4>
                            <p>Let's discuss solutions.</p>
                        </div>
                        <div class="qa-item">
                            <h4>How could a framework like Selective fit into your current governance?</h4>
                            <p>We'd love to hear your thoughts.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Selective Framework. Part of the Columbia SPS Leading Large Complex Projects course.</p>
        </div>
    </footer>

    <!-- D3.js Library -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <script src="script.js"></script>
    <script src="hero.js"></script>
    
    <script>
        // Initialize heatmap when DOM is fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Check if we're on the risk management section
            if (document.getElementById('risk-heatmap-container')) {
                // Initialize heatmap
                if (typeof initHeatmap === 'function') {
                    initHeatmap();
                    
                    // Add resize event listener
                    window.addEventListener('resize', function() {
                        initHeatmap();
                    });
                }
            }
        });
        // D3 Diagram Code
        document.addEventListener('DOMContentLoaded', function() {
            const data = {
                central: {
                    id: "hearonly",
                    label: "HearOnly",
                    sublabel: "AI-Driven Selective Hearing",
                    x: 700,
                    y: 300,
                    width: 180,
                    height: 80,
                    color: "#667eea"
                },
                components: [
                    // Core Innovation
                    {
                        id: "core",
                        label: "Core Innovation",
                        sublabel: "AI Sound Differentiation",
                        x: 700,
                        y: 100,
                        width: 160,
                        height: 70,
                        color: "#f093fb",
                        connects: ["hearonly"]
                    },
                    // Technical Foundation
                    {
                        id: "tech1",
                        label: "Psychoacoustic",
                        sublabel: "MFCCs, VAD",
                        x: 450,
                        y: 180,
                        width: 140,
                        height: 60,
                        color: "#4facfe",
                        connects: ["core"]
                    },
                    {
                        id: "tech2",
                        label: "Adaptive Learning",
                        sublabel: "Deep Learning Algorithms",
                        x: 950,
                        y: 180,
                        width: 140,
                        height: 60,
                        color: "#43e97b",
                        connects: ["core"]
                    },
                    // Features
                    {
                        id: "feature1",
                        label: "Personalization",
                        sublabel: "Custom Audio Environment",
                        x: 350,
                        y: 320,
                        width: 140,
                        height: 60,
                        color: "#fa709a",
                        connects: ["hearonly"]
                    },
                    {
                        id: "feature2",
                        label: "Real-Time Filtering",
                        sublabel: "Mute/Amplify Sounds",
                        x: 1050,
                        y: 320,
                        width: 140,
                        height: 60,
                        color: "#fee140",
                        connects: ["hearonly"]
                    },
                    // Customer Segments
                    {
                        id: "customer1",
                        label: "Primary",
                        sublabel: "Individual Consumers",
                        x: 450,
                        y: 460,
                        width: 130,
                        height: 60,
                        color: "#30cfd0",
                        connects: ["hearonly"]
                    },
                    {
                        id: "customer2",
                        label: "Secondary",
                        sublabel: "Professional Users",
                        x: 700,
                        y: 500,
                        width: 130,
                        height: 60,
                        color: "#a8edea",
                        connects: ["hearonly"]
                    },
                    {
                        id: "customer3",
                        label: "Tertiary",
                        sublabel: "Institutions",
                        x: 950,
                        y: 460,
                        width: 130,
                        height: 60,
                        color: "#fed6e3",
                        connects: ["hearonly"]
                    },
                    // Applications
                    {
                        id: "app1",
                        label: "Forensics",
                        x: 200,
                        y: 420,
                        width: 100,
                        height: 50,
                        color: "#ff9a9e",
                        connects: ["customer1", "customer2"]
                    },
                    {
                        id: "app2",
                        label: "Healthcare",
                        x: 200,
                        y: 500,
                        width: 100,
                        height: 50,
                        color: "#fad0c4",
                        connects: ["customer2", "customer3"]
                    },
                    {
                        id: "app3",
                        label: "Academia",
                        x: 1200,
                        y: 420,
                        width: 100,
                        height: 50,
                        color: "#ffecd2",
                        connects: ["customer2", "customer3"]
                    },
                    {
                        id: "app4",
                        label: "Wellness",
                        x: 1200,
                        y: 500,
                        width: 100,
                        height: 50,
                        color: "#fcb69f",
                        connects: ["customer1", "customer3"]
                    }
                ]
            };

            const svg = d3.select("#diagram");
            const width = 1360;
            const height = 600;
            
            // Clear any existing content
            svg.selectAll("*").remove();
            
            // Set viewBox for responsive scaling
            svg.attr("viewBox", `0 0 ${width} ${height}`)
               .attr("preserveAspectRatio", "xMidYMid meet");

            const g = svg.append("g");

            // Create links
            const links = [];
            data.components.forEach(comp => {
                comp.connects.forEach(targetId => {
                    const target = targetId === "hearonly" ? data.central : 
                                  data.components.find(c => c.id === targetId);
                    if (target) {
                        links.push({
                            source: comp,
                            target: target
                        });
                    }
                });
            });

            // Draw links
            const linkGroup = g.append("g").attr("class", "links");
            const linkElements = linkGroup.selectAll(".link")
                .data(links)
                .enter()
                .append("path")
                .attr("class", "link")
                .attr("id", (d, i) => `link-${i}`)
                .attr("d", d => {
                    const sx = d.source.x + d.source.width / 2;
                    const sy = d.source.y + d.source.height / 2;
                    const tx = d.target.x + d.target.width / 2;
                    const ty = d.target.y + d.target.height / 2;
                    
                    const dx = tx - sx;
                    const dy = ty - sy;
                    const dr = Math.sqrt(dx * dx + dy * dy) * 0.5;
                    
                    return `M${sx},${sy}A${dr},${dr} 0 0,1 ${tx},${ty}`;
                });

            // Draw nodes
            const allNodes = [data.central, ...data.components];
            
            const nodes = g.selectAll(".node")
                .data(allNodes)
                .enter()
                .append("g")
                .attr("class", "node")
                .attr("transform", d => `translate(${d.x}, ${d.y})`);

            nodes.append("rect")
                .attr("class", "node-rect")
                .attr("width", d => d.width)
                .attr("height", d => d.height)
                .attr("rx", 8)
                .attr("fill", d => d.color);

            nodes.append("text")
                .attr("class", "node-text")
                .attr("x", d => d.width / 2)
                .attr("y", d => d.height / 2 - (d.sublabel ? 5 : 0))
                .attr("text-anchor", "middle")
                .attr("dominant-baseline", "middle")
                .text(d => d.label);

            nodes.filter(d => d.sublabel)
                .append("text")
                .attr("class", "node-subtext")
                .attr("x", d => d.width / 2)
                .attr("y", d => d.height / 2 + 12)
                .attr("text-anchor", "middle")
                .text(d => d.sublabel);

            // Interaction
            let selectedNode = null;

            nodes.on("click", function(event, d) {
                if (selectedNode === d.id) {
                    // Deselect
                    selectedNode = null;
                    linkElements.style("opacity", 0.6).style("stroke", "#999");
                    nodes.selectAll("rect").style("opacity", 1);
                } else {
                    // Select
                    selectedNode = d.id;
                    
                    // Dim all
                    linkElements.style("opacity", 0.1);
                    nodes.selectAll("rect").style("opacity", 0.3);
                    
                    // Highlight selected node
                    d3.select(this).select("rect").style("opacity", 1);
                    
                    // Highlight connected links and nodes
                    linkElements.each(function(link) {
                        if (link.source.id === d.id || link.target.id === d.id) {
                            d3.select(this).style("opacity", 1).style("stroke", "#667eea");
                            
                            nodes.filter(n => n.id === link.source.id || n.id === link.target.id)
                                .select("rect")
                                .style("opacity", 1);
                        }
                    });
                }
            });

            // Add legend
            const legend = g.append("g")
                .attr("class", "legend")
                .attr("transform", "translate(20, 20)");

            const legendData = [
                { label: "Core/Central", color: "#667eea" },
                { label: "Technical", color: "#4facfe" },
                { label: "Features", color: "#fa709a" },
                { label: "Customers", color: "#30cfd0" },
                { label: "Applications", color: "#ff9a9e" }
            ];

            legendData.forEach((item, i) => {
                const lg = legend.append("g")
                    .attr("transform", `translate(0, ${i * 25})`);
                
                lg.append("rect")
                    .attr("class", "legend-rect")
                    .attr("width", 18)
                    .attr("height", 18)
                    .attr("rx", 3)
                    .attr("fill", item.color);
                
                lg.append("text")
                    .attr("x", 25)
                    .attr("y", 13)
                    .text(item.label);
            });

            // Make the diagram responsive
            function resize() {
                const container = document.querySelector('.container');
                const containerWidth = container.clientWidth;
                const scale = Math.min(1, (containerWidth - 40) / width);
                
                g.attr('transform', `scale(${scale})`);
                
                // Center the diagram
                const xOffset = (containerWidth - (width * scale)) / 2 / scale;
                g.attr('transform', `translate(${xOffset}, 0) scale(${scale})`);
            }

            // Initial resize
            resize();
            
            // Resize on window resize
            window.addEventListener('resize', resize);
        });
    </script>
    
    <!-- Lightbox HTML -->
    <div id="lightbox" class="lightbox">
        <span class="close-btn">&times;</span>
        <img id="lightbox-img" src="" alt="Enlarged view"/>
        <div id="lightbox-caption"></div>
    </div>
    
    <script>
        // Lightbox functionality
        document.addEventListener('DOMContentLoaded', function() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            const closeBtn = document.querySelector('.close-btn');
            
            // Get all images in the communication section
            const images = document.querySelectorAll('.communication-images img');
            
            // Add click event to all images
            images.forEach(img => {
                img.addEventListener('click', function() {
                    lightboxImg.src = this.src;
                    lightboxCaption.textContent = this.nextElementSibling ? 
                        this.nextElementSibling.textContent : 
                        this.alt;
                    
                    // Show lightbox with animation
                    lightbox.style.display = 'flex';
                    setTimeout(() => lightbox.classList.add('show'), 10);
                    
                    // Prevent scrolling when lightbox is open
                    document.body.style.overflow = 'hidden';
                });
            });
            
            // Close lightbox
            function closeLightbox() {
                lightbox.classList.remove('show');
                setTimeout(() => {
                    lightbox.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 300);
            }
            
            // Close lightbox when clicking the close button
            closeBtn.addEventListener('click', closeLightbox);
            
            // Close lightbox when clicking outside the image
            lightbox.addEventListener('click', function(e) {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });
            
            // Close lightbox with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && lightbox.classList.contains('show')) {
                    closeLightbox();
                }
            });
        });
    </script>
    
    <script src="script.js"></script>
</body>
</html>